"use strict";(self.webpackChunkclimate_dashboard=self.webpackChunkclimate_dashboard||[]).push([[179],{781:($f,My,xi)=>{var eu={};xi.r(eu),xi.d(eu,{Aggregate:()=>un,ArrayBase:()=>Mc,Binding:()=>At,CancelEventArgs:()=>zt,Clipboard:()=>Cv,CollectionView:()=>gr,CollectionViewGroup:()=>Nr,Color:()=>wn,Control:()=>z,ControlBase:()=>wM,DataType:()=>ze,DateTime:()=>Ce,Event:()=>k,EventArgs:()=>Do,Globalize:()=>Se,GroupDescription:()=>uv,Key:()=>A,NotifyCollectionChangedAction:()=>yn,NotifyCollectionChangedEventArgs:()=>Or,ObservableArray:()=>ei,PageChangingEventArgs:()=>hM,Point:()=>T,PopupPosition:()=>Zi,PrintDocument:()=>AU,PropertyChangedEventArgs:()=>cM,PropertyGroupDescription:()=>cv,Rect:()=>K,RequestErrorEventArgs:()=>fU,Size:()=>Ke,SortDescription:()=>oa,SortNulls:()=>So,Tooltip:()=>Ol,TooltipEventArgs:()=>xM,TooltipTrigger:()=>ci,_ClickRepeater:()=>sa,_Map:()=>_M,_MaskElement:()=>Ic,_MaskProvider:()=>Rl,_addCultureInfo:()=>Ts,_deprecated:()=>Dc,_focusSrv:()=>lv,_getActiveElement:()=>pM,_getCalculatedArray:()=>lM,_getModule:()=>uf,_getTargetObject:()=>uM,_loadedCultures:()=>_v,_registerModule:()=>Ms,_startDrag:()=>sM,_updateCulture:()=>SU,_updateWme:()=>DM,addClass:()=>Me,animate:()=>Ec,asArray:()=>Dn,asBoolean:()=>N,asCollectionView:()=>Is,asDate:()=>yi,asEnum:()=>Ie,asFunction:()=>Ot,asInt:()=>Xt,asNumber:()=>F,asString:()=>U,asType:()=>Pe,assert:()=>ge,changeCulture:()=>EU,changeCultureSync:()=>vM,changeType:()=>nf,clamp:()=>Ne,closest:()=>be,closestClass:()=>Yi,contains:()=>je,controlBaseClass:()=>wv,copy:()=>vi,createElement:()=>Ct,culture:()=>ft,disableAutoComplete:()=>af,empty:()=>pU,enable:()=>Xi,escapeHtml:()=>Qr,escapeRegExp:()=>mv,evalTemplate:()=>fM,format:()=>pr,getActiveElement:()=>nt,getAggregate:()=>cf,getElement:()=>Qo,getElementRect:()=>Ki,getEventOptions:()=>ef,getType:()=>Es,getTypes:()=>dM,getUniqueId:()=>dv,getVersion:()=>hv,glbz:()=>pv,hasClass:()=>gt,hasItems:()=>Pn,hidePopup:()=>jr,httpRequest:()=>lf,isArray:()=>Rt,isBoolean:()=>Zn,isDate:()=>wt,isEdge:()=>Ds,isEmpty:()=>vU,isFirefox:()=>xs,isFunction:()=>Ge,isIE:()=>pt,isIE10:()=>nM,isIE9:()=>Zo,isInt:()=>tf,isMobile:()=>JI,isNullOrWhiteSpace:()=>_U,isNumber:()=>J,isObject:()=>li,isPrimitive:()=>Cc,isSafari:()=>Ko,isString:()=>xe,isUndefined:()=>fr,isiOS:()=>sv,mouseToPage:()=>Ss,moveFocus:()=>Sc,removeChild:()=>Dt,removeClass:()=>ui,saveFile:()=>CU,setAriaLabel:()=>An,setAttribute:()=>$,setChecked:()=>Al,setCss:()=>ie,setLicenseKey:()=>mU,setSelectionRange:()=>st,setText:()=>Jr,showPopup:()=>eo,supportsFocusOptions:()=>oM,toFixed:()=>fv,toHeaderCase:()=>rf,toPlainText:()=>qi,toggleClass:()=>qe,tryCast:()=>Tn,uidGenerator:()=>xc});var qf={};xi.r(qf),xi.d(qf,{Axis:()=>ts,AxisCollection:()=>K1,AxisGroupsDisplay:()=>ca,AxisType:()=>Ae,ChartElement:()=>Et,ChartTooltip:()=>xf,ChartType:()=>me,DataArray:()=>eT,DataLabel:()=>Df,DataLabelBase:()=>Qv,DataLabelRenderEventArgs:()=>Zv,DataPoint:()=>$1,FlexChart:()=>X1,FlexChartBase:()=>St,FlexChartCore:()=>he,FlexPie:()=>nT,HitTestInfo:()=>_r,ImageFormat:()=>Hl,LabelPosition:()=>Qi,Legend:()=>Vl,LineMarker:()=>rT,LineMarkerAlignment:()=>zl,LineMarkerInteraction:()=>fi,LineMarkerLines:()=>di,Marker:()=>ns,Orientation:()=>es,OverlappingLabels:()=>Ns,Palettes:()=>Ll,PieDataLabel:()=>Jv,PieLabelPosition:()=>hi,PlotArea:()=>bf,PlotAreaCollection:()=>W1,Position:()=>Z,RenderEventArgs:()=>Eo,SelectionMode:()=>bi,Series:()=>kr,SeriesBase:()=>er,SeriesEventArgs:()=>tT,SeriesRenderingEventArgs:()=>q1,SeriesVisibility:()=>dn,Stacking:()=>cn,SvgRenderEngine:()=>U1,TickMark:()=>hn,_AreaPlotter:()=>oT,_AxisGroups:()=>Q1,_AxisLabel:()=>Z1,_BarPlotter:()=>Sf,_BasePlotter:()=>io,_BubblePlotter:()=>lT,_CircleArea:()=>Io,_Curve:()=>Xv,_DataInfo:()=>ut,_DataPoint:()=>On,_DonutSegment:()=>ny,_FinancePlotter:()=>aT,_FunnelPlotter:()=>sT,_FunnelSegment:()=>ha,_HitResult:()=>ey,_HitTester:()=>J1,_KeyWords:()=>Kv,_LinePlotter:()=>iy,_LinesArea:()=>Ji,_MeasureOption:()=>to,_PieSegment:()=>ty,_RectArea:()=>mr,_Spline:()=>B1,_SvgRenderEngine:()=>Os,_VolumeHelper:()=>Yv,empty:()=>d8});var Yf={};xi.r(Yf),xi.d(Yf,{ColorScale:()=>xT,FlexMap:()=>ST,GeoGridLayer:()=>PT,GeoMapLayer:()=>TT,MapHitTestInfo:()=>wT,MapLayerBase:()=>If,ScatterMapLayer:()=>ET,_DrawOptions:()=>j8,_GeoJsonHitTest:()=>MT,_GeoJsonRender:()=>IT,_Range:()=>CT,_SvgMapRenderEngine:()=>bT,_Utils:()=>Ef,empty:()=>L8});var Xf={};xi.r(Xf),xi.d(Xf,{AutoComplete:()=>py,Calendar:()=>hy,ClickAction:()=>ks,CollectionViewNavigator:()=>ly,ColorPicker:()=>ay,ComboBox:()=>Ul,DateSelectionMode:()=>tr,DropDown:()=>Gl,FormatItemEventArgs:()=>uy,InputColor:()=>WT,InputDate:()=>Tf,InputDateRange:()=>zT,InputDateTime:()=>UT,InputMask:()=>HT,InputNumber:()=>VT,InputTime:()=>fy,ListBox:()=>js,Menu:()=>GT,MultiAutoComplete:()=>$T,MultiSelect:()=>Pf,MultiSelectListBox:()=>cy,Popup:()=>BT,PopupBoundsChangingEventArgs:()=>dy,PopupTrigger:()=>jn,ShowMonthPicker:()=>Wl});var Uc={};xi.r(Uc),xi.d(Uc,{AllowDragging:()=>Ro,AllowMerging:()=>ql,AllowPinning:()=>Fr,AllowResizing:()=>so,AllowSorting:()=>is,AutoSizeMode:()=>rs,CellEditEndingEventArgs:()=>Af,CellFactory:()=>rn,CellRange:()=>ne,CellRangeEventArgs:()=>Ft,CellType:()=>H,ClipStringOptions:()=>oo,Column:()=>Qn,ColumnCollection:()=>Of,ColumnGroup:()=>da,ColumnGroupCollection:()=>fa,DataMap:()=>my,DataMapEditor:()=>Ci,FlexGrid:()=>wr,FormatItemEventArgs:()=>QT,FrozenRowCol:()=>Nf,GridPanel:()=>ki,GroupRow:()=>tn,GroupSummaryPosition:()=>Lr,HeadersFocusability:()=>kn,HeadersVisibility:()=>It,HitTestInfo:()=>Bc,KeyAction:()=>Fs,MergeManager:()=>yy,Row:()=>yr,RowCol:()=>Rf,RowColCollection:()=>_y,RowColFlags:()=>Qe,RowCollection:()=>Hc,SelMove:()=>Ao,SelectedState:()=>$l,SelectionMode:()=>at,_AddNewHandler:()=>tP,_ColumnGroupHandler:()=>eP,_CustomEditor:()=>sP,_EditHandler:()=>oP,_ImeHandler:()=>jf,_KeyboardHandler:()=>aP,_MouseHandler:()=>uP,_NewRowTemplate:()=>nn,_SelectionHandler:()=>JT,_getSafariVer:()=>XT,colHdrAriaAttributes:()=>vy,softInput:()=>zc});var Kf={};xi.r(Kf),xi.d(Kf,{DirectiveCellFactoryBase:()=>hP,GridCellTemplateType:()=>Wt,softGridDetail:()=>Ff,softInput:()=>by});var Zf={};function ln(n){return"function"==typeof n}function Qf(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}xi.r(Zf),xi.d(Zf,{BulletGraph:()=>vP,Gauge:()=>os,GaugeDirection:()=>it,LinearGauge:()=>Dy,NeedleLength:()=>ga,NeedleShape:()=>nr,RadialGauge:()=>_P,Range:()=>ao,ShowText:()=>Fi});const Jf=Qf(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ep(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class rr{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(ln(i))try{i()}catch(o){t=o instanceof Jf?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Ay(o)}catch(s){t=t??[],s instanceof Jf?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Jf(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ay(t);else{if(t instanceof rr){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ep(e,t)}remove(t){const{_finalizers:e}=this;e&&ep(e,t),t instanceof rr&&t._removeParent(this)}}rr.EMPTY=(()=>{const n=new rr;return n.closed=!0,n})();const Ty=rr.EMPTY;function Py(n){return n instanceof rr||n&&"closed"in n&&ln(n.remove)&&ln(n.add)&&ln(n.unsubscribe)}function Ay(n){ln(n)?n():n.unsubscribe()}const Vs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$c={setTimeout(n,t,...e){const{delegate:i}=$c;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=$c;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ry(n){$c.setTimeout(()=>{const{onUnhandledError:t}=Vs;if(!t)throw n;t(n)})}function tp(){}const ZP=np("C",void 0,void 0);function np(n,t,e){return{kind:n,value:t,error:e}}let Hs=null;function qc(n){if(Vs.useDeprecatedSynchronousErrorHandling){const t=!Hs;if(t&&(Hs={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Hs;if(Hs=null,e)throw i}}else n()}class ip extends rr{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Py(t)&&t.add(this)):this.destination=rA}static create(t,e,i){return new tu(t,e,i)}next(t){this.isStopped?op(function JP(n){return np("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?op(function QP(n){return np("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?op(ZP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tA=Function.prototype.bind;function rp(n,t){return tA.call(n,t)}class nA{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Yc(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Yc(i)}else Yc(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Yc(e)}}}class tu extends ip{constructor(t,e,i){let r;if(super(),ln(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Vs.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&rp(t.next,o),error:t.error&&rp(t.error,o),complete:t.complete&&rp(t.complete,o)}):r=t}this.destination=new nA(r)}}function Yc(n){Vs.useDeprecatedSynchronousErrorHandling?function eA(n){Vs.useDeprecatedSynchronousErrorHandling&&Hs&&(Hs.errorThrown=!0,Hs.error=n)}(n):Ry(n)}function op(n,t){const{onStoppedNotification:e}=Vs;e&&$c.setTimeout(()=>e(n,t))}const rA={closed:!0,next:tp,error:function iA(n){throw n},complete:tp},sp="function"==typeof Symbol&&Symbol.observable||"@@observable";function ss(n){return n}function Oy(n){return 0===n.length?ss:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Vn=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function aA(n){return n&&n instanceof ip||function sA(n){return n&&ln(n.next)&&ln(n.error)&&ln(n.complete)}(n)&&Py(n)}(e)?e:new tu(e,i,r);return qc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ny(i))((r,o)=>{const s=new tu({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[sp](){return this}pipe(...e){return Oy(e)(this)}toPromise(e){return new(e=Ny(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Ny(n){var t;return null!==(t=n??Vs.Promise)&&void 0!==t?t:Promise}const lA=Qf(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Br=(()=>{class n extends Vn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new jy(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new lA}next(e){qc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){qc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){qc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Ty:(this.currentObservers=null,o.push(e),new rr(()=>{this.currentObservers=null,ep(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Vn;return e.source=this,e}}return n.create=(t,e)=>new jy(t,e),n})();class jy extends Br{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ty}}function ky(n){return ln(n?.lift)}function qn(n){return t=>{if(ky(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Hn(n,t,e,i,r){return new uA(n,t,e,i,r)}class uA extends ip{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function $t(n,t){return qn((e,i)=>{let r=0;e.subscribe(Hn(i,o=>{i.next(n.call(t,o,r++))}))})}function as(n){return this instanceof as?(this.v=n,this):new as(n)}function Hy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function cp(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const By=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function zy(n){return ln(n?.then)}function Wy(n){return ln(n[sp])}function Gy(n){return Symbol.asyncIterator&&ln(n?.[Symbol.asyncIterator])}function Uy(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $y=function AA(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qy(n){return ln(n?.[$y])}function Yy(n){return function Vy(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(d){i[d]&&(r[d]=function(f){return new Promise(function(p,g){o.push([d,f,p,g])>1||a(d,f)})})}function a(d,f){try{!function l(d){d.value instanceof as?Promise.resolve(d.value.v).then(u,c):h(o[0][2],d)}(i[d](f))}catch(p){h(o[0][3],p)}}function u(d){a("next",d)}function c(d){a("throw",d)}function h(d,f){d(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield as(e.read());if(r)return yield as(void 0);yield yield as(i)}}finally{e.releaseLock()}})}function Xy(n){return ln(n?.getReader)}function or(n){if(n instanceof Vn)return n;if(null!=n){if(Wy(n))return function RA(n){return new Vn(t=>{const e=n[sp]();if(ln(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(By(n))return function OA(n){return new Vn(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(zy(n))return function NA(n){return new Vn(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ry)})}(n);if(Gy(n))return Ky(n);if(qy(n))return function jA(n){return new Vn(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Xy(n))return function kA(n){return Ky(Yy(n))}(n)}throw Uy(n)}function Ky(n){return new Vn(t=>{(function FA(n,t){var e,i,r,o;return function Fy(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(h){s(h)}}function l(c){try{u(i.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(c.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Hy(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Oo(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ti(n,t,e=1/0){return ln(t)?ti((i,r)=>$t((o,s)=>t(i,o,r,s))(or(n(i,r))),e):("number"==typeof t&&(e=t),qn((i,r)=>function LA(n,t,e,i,r,o,s,a){const l=[];let u=0,c=0,h=!1;const d=()=>{h&&!l.length&&!u&&t.complete()},f=g=>u<i?p(g):l.push(g),p=g=>{o&&t.next(g),u++;let m=!1;or(e(g,c++)).subscribe(Hn(t,_=>{r?.(_),o?f(_):t.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<i;){const _=l.shift();s?Oo(t,s,()=>p(_)):p(_)}d()}catch(_){t.error(_)}}))};return n.subscribe(Hn(t,f,()=>{h=!0,d()})),()=>{a?.()}}(i,r,n,e)))}function ya(n=1/0){return ti(ss,n)}const lo=new Vn(n=>n.complete());function hp(n){return n[n.length-1]}function nu(n){return function HA(n){return n&&ln(n.schedule)}(hp(n))?n.pop():void 0}function Qy(n,t=0){return qn((e,i)=>{e.subscribe(Hn(i,r=>Oo(i,n,()=>i.next(r),t),()=>Oo(i,n,()=>i.complete(),t),r=>Oo(i,n,()=>i.error(r),t)))})}function Jy(n,t=0){return qn((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ew(n,t){if(!n)throw new Error("Iterable cannot be null");return new Vn(e=>{Oo(e,t,()=>{const i=n[Symbol.asyncIterator]();Oo(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Jn(n,t){return t?function qA(n,t){if(null!=n){if(Wy(n))return function zA(n,t){return or(n).pipe(Jy(t),Qy(t))}(n,t);if(By(n))return function GA(n,t){return new Vn(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(zy(n))return function WA(n,t){return or(n).pipe(Jy(t),Qy(t))}(n,t);if(Gy(n))return ew(n,t);if(qy(n))return function UA(n,t){return new Vn(e=>{let i;return Oo(e,t,()=>{i=n[$y](),Oo(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>ln(i?.return)&&i.return()})}(n,t);if(Xy(n))return function $A(n,t){return ew(Yy(n),t)}(n,t)}throw Uy(n)}(n,t):or(n)}class br extends Br{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function $e(...n){return Jn(n,nu(n))}function tw(n={}){const{connector:t=(()=>new Br),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,u=0,c=!1,h=!1;const d=()=>{a?.unsubscribe(),a=void 0},f=()=>{d(),s=l=void 0,c=h=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return qn((g,m)=>{u++,!h&&!c&&d();const _=l=l??t();m.add(()=>{u--,0===u&&!h&&!c&&(a=dp(p,r))}),_.subscribe(m),!s&&u>0&&(s=new tu({next:v=>_.next(v),error:v=>{h=!0,d(),a=dp(f,e,v),_.error(v)},complete:()=>{c=!0,d(),a=dp(f,i),_.complete()}}),or(g).subscribe(s))})(o)}}function dp(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new tu({next:()=>{i.unsubscribe(),n()}});return or(t(...e)).subscribe(i)}function uo(n,t){return qn((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Hn(i,l=>{r?.unsubscribe();let u=0;const c=o++;or(n(l,c)).subscribe(r=Hn(i,h=>i.next(t?t(l,h,c,u++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function KA(n,t){return n===t}function Lt(n){for(let t in n)if(n[t]===Lt)return t;throw Error("Could not find renamed property on target object.")}function Yn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Yn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function fp(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const ZA=Lt({__forward_ref__:Lt});function se(n){return n.__forward_ref__=se,n.toString=function(){return Yn(this())},n}function We(n){return pp(n)?n():n}function pp(n){return"function"==typeof n&&n.hasOwnProperty(ZA)&&n.__forward_ref__===se}function gp(n){return n&&!!n.\u0275providers}class X extends Error{constructor(t,e){super(function Kc(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ye(n){return"string"==typeof n?n:null==n?"":String(n)}function mp(n,t){throw new X(-201,!1)}function Cr(n,t){null==n&&function He(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ke(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Di(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zc(n){return iw(n,Jc)||iw(n,rw)}function iw(n,t){return n.hasOwnProperty(t)?n[t]:null}function Qc(n){return n&&(n.hasOwnProperty(_p)||n.hasOwnProperty(oR))?n[_p]:null}const Jc=Lt({\u0275prov:Lt}),_p=Lt({\u0275inj:Lt}),rw=Lt({ngInjectableDef:Lt}),oR=Lt({ngInjectorDef:Lt});var ct=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ct||{});let vp;function Vi(n){const t=vp;return vp=n,t}function sw(n,t,e){const i=Zc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ct.Optional?null:void 0!==t?t:void mp(Yn(n))}const Kt=globalThis;class ye{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ke({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const iu={},xp="__NG_DI_FLAG__",eh="ngTempTokenPath",lR=/\n/gm,lw="__source";let wa;function ls(n){const t=wa;return wa=n,t}function hR(n,t=ct.Default){if(void 0===wa)throw new X(-203,!1);return null===wa?sw(n,void 0,t):wa.get(n,t&ct.Optional?null:void 0,t)}function Fe(n,t=ct.Default){return(function ow(){return vp}()||hR)(We(n),t)}function ve(n,t=ct.Default){return Fe(n,th(t))}function th(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dp(n){const t=[];for(let e=0;e<n.length;e++){const i=We(n[e]);if(Array.isArray(i)){if(0===i.length)throw new X(900,!1);let r,o=ct.Default;for(let s=0;s<i.length;s++){const a=i[s],l=dR(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(Fe(r,o))}else t.push(Fe(i))}return t}function ru(n,t){return n[xp]=t,n.prototype[xp]=t,n}function dR(n){return n[xp]}function No(n){return{toString:n}.toString()}var nh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nh||{}),zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zr||{});const co={},xt=[],ih=Lt({\u0275cmp:Lt}),Sp=Lt({\u0275dir:Lt}),Ep=Lt({\u0275pipe:Lt}),cw=Lt({\u0275mod:Lt}),jo=Lt({\u0275fac:Lt}),ou=Lt({__NG_ELEMENT_ID__:Lt}),hw=Lt({__NG_ENV_ID__:Lt});function dw(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Ip(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];pw(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function fw(n){return 3===n||4===n||6===n}function pw(n){return 64===n.charCodeAt(0)}function su(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||gw(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function gw(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const mw="ng-template";function gR(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==dw(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function _w(n){return 4===n.type&&n.value!==mw}function mR(n,t,e){return t===(4!==n.type||e?n.value:mw)}function _R(n,t,e){let i=4;const r=n.attrs||[],o=function wR(n){for(let t=0;t<n.length;t++)if(fw(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!mR(n,l,e)||""===l&&1===t.length){if(Wr(i))return!1;s=!0}}else{const u=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!gR(n.attrs,u,e)){if(Wr(i))return!1;s=!0}continue}const h=vR(8&i?"class":l,r,_w(n),e);if(-1===h){if(Wr(i))return!1;s=!0;continue}if(""!==u){let d;d=h>o?"":r[h+1].toLowerCase();const f=8&i?d:null;if(f&&-1!==dw(f,u,0)||2&i&&u!==d){if(Wr(i))return!1;s=!0}}}}else{if(!s&&!Wr(i)&&!Wr(l))return!1;if(s&&Wr(l))continue;s=!1,i=l|1&i}}return Wr(i)||s}function Wr(n){return 0==(1&n)}function vR(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function bR(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function vw(n,t,e=!1){for(let i=0;i<t.length;i++)if(_R(n,t[i],e))return!0;return!1}function CR(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function yw(n,t){return n?":not("+t.trim()+")":t}function xR(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Wr(s)&&(t+=yw(o,r),r=""),i=s,o=o||!Wr(i);e++}return""!==r&&(t+=yw(o,r)),t}function Oe(n){return No(()=>{const t=bw(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null,id:""};Cw(e);const i=n.dependencies;return e.directiveDefs=rh(i,!1),e.pipeDefs=rh(i,!0),e.id=function AR(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function IR(n){return vt(n)||ni(n)}function MR(n){return null!==n}function Hi(n){return No(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ww(n,t){if(null==n)return co;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function Te(n){return No(()=>{const t=bw(n);return Cw(t),t})}function vt(n){return n[ih]||null}function ni(n){return n[Sp]||null}function Si(n){return n[Ep]||null}function ar(n,t){const e=n[cw]||null;if(!e&&!0===t)throw new Error(`Type ${Yn(n)} does not have '\u0275mod' property.`);return e}function bw(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||co,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ww(n.inputs,t),outputs:ww(n.outputs)}}function Cw(n){n.features?.forEach(t=>t(n))}function rh(n,t){if(!n)return null;const e=t?Si:IR;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(MR)}const Cn=0,ae=1,tt=2,gn=3,Gr=4,au=5,pi=6,Ca=7,En=8,us=9,xa=10,Xe=11,lu=12,xw=13,Da=14,In=15,uu=16,Sa=17,ho=18,cu=19,Dw=20,cs=21,ko=22,hu=23,du=24,ht=25,Mp=1,Sw=2,fo=7,Ea=9,ii=11;function zi(n){return Array.isArray(n)&&"object"==typeof n[Mp]}function Ei(n){return Array.isArray(n)&&!0===n[Mp]}function Tp(n){return 0!=(4&n.flags)}function zs(n){return n.componentOffset>-1}function sh(n){return 1==(1&n.flags)}function Ur(n){return!!n.template}function Pp(n){return 0!=(512&n[tt])}function Ws(n,t){return n.hasOwnProperty(jo)?n[jo]:null}let ri=null,ah=!1;function xr(n){const t=ri;return ri=n,t}const Mw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Pw(n){if(!pu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Ow(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Rw(n){n.dirty=!0,function Aw(n){if(void 0===n.liveConsumerNode)return;const t=ah;ah=!0;try{for(const e of n.liveConsumerNode)e.dirty||Rw(e)}finally{ah=t}}(n),n.consumerMarkedDirty?.(n)}function Rp(n){return n&&(n.nextProducerIndex=0),xr(n)}function Op(n,t){if(xr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(pu(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)lh(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ow(n){Ia(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(Pw(e),i!==e.version))return!0}return!1}function Nw(n){if(Ia(n),pu(n))for(let t=0;t<n.producerNode.length;t++)lh(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function lh(n,t){if(function kw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ia(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)lh(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Ia(r),r.producerIndexOfThis[i]=t}}function pu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ia(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Fw=null;const Bw=()=>{},GR=(()=>({...Mw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Bw}))();class UR{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function oi(){return zw}function zw(n){return n.type.prototype.ngOnChanges&&(n.setInput=qR),$R}function $R(){const n=Gw(this),t=n?.current;if(t){const e=n.previous;if(e===co)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function qR(n,t,e,i){const r=this.declaredInputs[e],o=Gw(n)||function YR(n,t){return n[Ww]=t}(n,{previous:co,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new UR(l&&l.currentValue,t,a===co),n[i]=t}oi.ngInherit=!0;const Ww="__ngSimpleChanges__";function Gw(n){return n[Ww]||null}const po=function(n,t,e){};function Zt(n){for(;Array.isArray(n);)n=n[Cn];return n}function Wi(n,t){return Zt(t[n.index])}function qw(n,t){return n.data[t]}function lr(n,t){const e=t[n];return zi(e)?e:e[Cn]}function ds(n,t){return null==t?null:n[t]}function Yw(n){n[Sa]=0}function eO(n){1024&n[tt]||(n[tt]|=1024,Kw(n,1))}function Xw(n){1024&n[tt]&&(n[tt]&=-1025,Kw(n,-1))}function Kw(n,t){let e=n[gn];if(null===e)return;e[au]+=t;let i=e;for(e=e[gn];null!==e&&(1===t&&1===i[au]||-1===t&&0===i[au]);)e[au]+=t,i=e,e=e[gn]}const Be={lFrame:ub(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jw(){return Be.bindingsEnabled}function Ta(){return null!==Be.skipHydrationRootTNode}function G(){return Be.lFrame.lView}function yt(){return Be.lFrame.tView}function si(){let n=nb();for(;null!==n&&64===n.type;)n=n.parent;return n}function nb(){return Be.lFrame.currentTNode}function go(n,t){const e=Be.lFrame;e.currentTNode=n,e.isParent=t}function Lp(){return Be.lFrame.isParent}function Vp(){Be.lFrame.isParent=!1}function Pa(){return Be.lFrame.bindingIndex++}function dO(n,t){const e=Be.lFrame;e.bindingIndex=e.bindingRootIndex=n,Hp(t)}function Hp(n){Be.lFrame.currentDirectiveIndex=n}function sb(){return Be.lFrame.currentQueryIndex}function zp(n){Be.lFrame.currentQueryIndex=n}function pO(n){const t=n[ae];return 2===t.type?t.declTNode:1===t.type?n[pi]:null}function ab(n,t,e){if(e&ct.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&ct.Host||(r=pO(o),null===r||(o=o[Da],10&r.type))););if(null===r)return!1;t=r,n=o}const i=Be.lFrame=lb();return i.currentTNode=t,i.lView=n,!0}function Wp(n){const t=lb(),e=n[ae];Be.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function lb(){const n=Be.lFrame,t=null===n?null:n.child;return null===t?ub(n):t}function ub(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function cb(){const n=Be.lFrame;return Be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const hb=cb;function Gp(){const n=cb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mi(){return Be.lFrame.selectedIndex}function Gs(n){Be.lFrame.selectedIndex=n}let fb=!0;function ch(){return fb}function fs(n){fb=n}function hh(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),u&&((n.viewHooks??=[]).push(e,u),(n.viewCheckHooks??=[]).push(e,u)),null!=c&&(n.destroyHooks??=[]).push(e,c)}}function dh(n,t,e){pb(n,t,3,e)}function fh(n,t,e,i){(3&n[tt])===e&&pb(n,t,e,i)}function Up(n,t){let e=n[tt];(3&e)===t&&(e&=8191,e+=1,n[tt]=e)}function pb(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Sa]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Sa]+=65536),(a<o||-1==o)&&(CO(n,e,t,l),n[Sa]=(4294901760&n[Sa])+l+2),l++}function gb(n,t){po(4,n,t);const e=xr(null);try{t.call(n)}finally{xr(e),po(5,n,t)}}function CO(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[tt]>>13<n[Sa]>>16&&(3&n[tt])===t&&(n[tt]+=8192,gb(a,o)):gb(a,o)}const Aa=-1;class mu{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function qp(n){return n!==Aa}function _u(n){return 32767&n}function vu(n,t){let e=function EO(n){return n>>16}(n),i=t;for(;e>0;)i=i[Da],e--;return i}let Yp=!0;function ph(n){const t=Yp;return Yp=n,t}const mb=255,_b=5;let IO=0;const mo={};function gh(n,t){const e=vb(n,t);if(-1!==e)return e;const i=t[ae];i.firstCreatePass&&(n.injectorIndex=t.length,Xp(i.data,n),Xp(t,null),Xp(i.blueprint,null));const r=mh(n,t),o=n.injectorIndex;if(qp(r)){const s=_u(r),a=vu(r,t),l=a[ae].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function Xp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function vb(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function mh(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=Sb(r),null===i)return Aa;if(e++,r=r[Da],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Aa}function Kp(n,t,e){!function MO(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ou)&&(i=e[ou]),null==i&&(i=e[ou]=IO++);const r=i&mb;t.data[n+(r>>_b)]|=1<<r}(n,t,e)}function yb(n,t,e){if(e&ct.Optional||void 0!==n)return n;mp()}function wb(n,t,e,i){if(e&ct.Optional&&void 0===i&&(i=null),!(e&(ct.Self|ct.Host))){const r=n[us],o=Vi(void 0);try{return r?r.get(t,i,e&ct.Optional):sw(t,i,e&ct.Optional)}finally{Vi(o)}}return yb(i,0,e)}function bb(n,t,e,i=ct.Default,r){if(null!==n){if(2048&t[tt]&&!(i&ct.Self)){const s=function NO(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[tt]&&!(512&s[tt]);){const a=Cb(o,s,e,i|ct.Self,mo);if(a!==mo)return a;let l=o.parent;if(!l){const u=s[Dw];if(u){const c=u.get(e,mo,i);if(c!==mo)return c}l=Sb(s),s=s[Da]}o=l}return r}(n,t,e,i,mo);if(s!==mo)return s}const o=Cb(n,t,e,i,mo);if(o!==mo)return o}return wb(t,e,i,r)}function Cb(n,t,e,i,r){const o=function AO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ou)?n[ou]:void 0;return"number"==typeof t?t>=0?t&mb:OO:t}(e);if("function"==typeof o){if(!ab(t,n,i))return i&ct.Host?yb(r,0,i):wb(t,e,i,r);try{let s;if(s=o(i),null!=s||i&ct.Optional)return s;mp()}finally{hb()}}else if("number"==typeof o){let s=null,a=vb(n,t),l=Aa,u=i&ct.Host?t[In][pi]:null;for((-1===a||i&ct.SkipSelf)&&(l=-1===a?mh(n,t):t[a+8],l!==Aa&&Db(i,!1)?(s=t[ae],a=_u(l),t=vu(l,t)):a=-1);-1!==a;){const c=t[ae];if(xb(o,a,c.data)){const h=PO(a,t,e,s,i,u);if(h!==mo)return h}l=t[a+8],l!==Aa&&Db(i,t[ae].data[a+8]===u)&&xb(o,a,t)?(s=c,a=_u(l),t=vu(l,t)):a=-1}}return r}function PO(n,t,e,i,r,o){const s=t[ae],a=s.data[n+8],c=_h(a,s,e,null==i?zs(a)&&Yp:i!=s&&0!=(3&a.type),r&ct.Host&&o===a);return null!==c?Us(t,s,c,a):mo}function _h(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,c=o>>20,d=r?a+c:n.directiveEnd;for(let f=i?a:a+c;f<d;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=s[l];if(f&&Ur(f)&&f.type===e)return l}return null}function Us(n,t,e,i){let r=n[e];const o=t.data;if(function xO(n){return n instanceof mu}(r)){const s=r;s.resolving&&function QA(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new X(-200,`Circular dependency in DI detected for ${n}${e}`)}(function jt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ye(n)}(o[e]));const a=ph(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Vi(s.injectImpl):null;ab(n,i,ct.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function bO(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=zw(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==u&&Vi(u),ph(a),s.resolving=!1,hb()}}return r}function xb(n,t,e){return!!(e[t+(n>>_b)]&1<<n)}function Db(n,t){return!(n&ct.Self||n&ct.Host&&t)}class Ti{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return bb(this._tNode,this._lView,t,th(i),e)}}function OO(){return new Ti(si(),G())}function Zp(n){return pp(n)?()=>{const t=Zp(We(n));return t&&t()}:Ws(n)}function Sb(n){const t=n[ae],e=t.type;return 2===e?t.declTNode:1===e?n[pi]:null}const Oa="__parameters__",Na="__prop__metadata__";function Qp(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}function ja(n,t,e){return No(()=>{const i=Qp(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,u,c){const h=l.hasOwnProperty(Oa)?l[Oa]:Object.defineProperty(l,Oa,{value:[]})[Oa];for(;h.length<=c;)h.push(null);return(h[c]=h[c]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ib(n,t,e,i){return No(()=>{const r=Qp(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const a=new o(...s);return function l(u,c){if(void 0===u)throw new Error("Standard Angular field decorators are not supported in JIT mode.");const h=u.constructor,d=h.hasOwnProperty(Na)?h[Na]:Object.defineProperty(h,Na,{value:{}})[Na];d[c]=d.hasOwnProperty(c)&&d[c]||[],d[c].unshift(a),i&&i(u,c,...s)}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class kO{}const FO=Ib("ViewChild",(n,t)=>({selector:n,first:!0,isViewQuery:!0,descendants:!0,...t}),kO);function Fa(n,t){n.forEach(e=>Array.isArray(e)?Fa(e,t):t(e))}function Mb(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function yh(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function bu(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}const O=ru(ja("Inject",n=>({token:n})),-1),Ee=ru(ja("Optional"),8),Le=ru(ja("SkipSelf"),4);function Sh(n){return 128==(128&n.flags)}var ps=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ps||{});const rg=new Map;let dN=0;const sg="__ngContext__";function gi(n,t){zi(t)?(n[sg]=t[cu],function pN(n){rg.set(n[cu],n)}(t)):n[sg]=t}let ag;function lg(n,t){return ag(n,t)}function Du(n){const t=n[gn];return Ei(t)?t[gn]:t}function Xb(n){return Zb(n[lu])}function Kb(n){return Zb(n[Gr])}function Zb(n){for(;null!==n&&!Ei(n);)n=n[Gr];return n}function Ba(n,t,e,i,r){if(null!=i){let o,s=!1;Ei(i)?o=i:zi(i)&&(s=!0,i=i[Cn]);const a=Zt(i);0===n&&null!==e?null==r?t0(t,e,a):$s(t,e,a,r||null,!0):1===n&&null!==e?$s(t,e,a,r||null,!0):2===n?function Rh(n,t,e){const i=Ph(n,t);i&&function ON(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function kN(n,t,e,i,r){const o=e[fo];o!==Zt(e)&&Ba(t,n,i,o,r);for(let a=ii;a<e.length;a++){const l=e[a];Eu(l[ae],l,n,t,i,o)}}(t,n,o,e,r)}}function Mh(n,t,e){return n.createElement(t,e)}function Jb(n,t){const e=n[Ea],i=e.indexOf(t);Xw(t),e.splice(i,1)}function Th(n,t){if(n.length<=ii)return;const e=ii+t,i=n[e];if(i){const r=i[uu];null!==r&&r!==n&&Jb(r,i),t>0&&(n[e-1][Gr]=i[Gr]);const o=yh(n,ii+t);!function SN(n,t){Eu(n,t,t[Xe],2,null,null),t[Cn]=null,t[pi]=null}(i[ae],i);const s=o[ho];null!==s&&s.detachView(o[ae]),i[gn]=null,i[Gr]=null,i[tt]&=-129}return i}function cg(n,t){if(!(256&t[tt])){const e=t[Xe];t[hu]&&Nw(t[hu]),t[du]&&Nw(t[du]),e.destroyNode&&Eu(n,t,e,3,null,null),function MN(n){let t=n[lu];if(!t)return hg(n[ae],n);for(;t;){let e=null;if(zi(t))e=t[lu];else{const i=t[ii];i&&(e=i)}if(!e){for(;t&&!t[Gr]&&t!==n;)zi(t)&&hg(t[ae],t),t=t[gn];null===t&&(t=n),zi(t)&&hg(t[ae],t),e=t&&t[Gr]}t=e}}(t)}}function hg(n,t){if(!(256&t[tt])){t[tt]&=-129,t[tt]|=256,function RN(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof mu)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];po(4,a,l);try{l.call(a)}finally{po(5,a,l)}}else{po(4,r,o);try{o.call(r)}finally{po(5,r,o)}}}}}(n,t),function AN(n,t){const e=n.cleanup,i=t[Ca];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[Ca]=null);const r=t[cs];if(null!==r){t[cs]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[ae].type&&t[Xe].destroy();const e=t[uu];if(null!==e&&Ei(t[gn])){e!==t[gn]&&Jb(e,t);const i=t[ho];null!==i&&i.detachView(n)}!function gN(n){rg.delete(n[cu])}(t)}}function dg(n,t,e){return function e0(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Cn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===zr.None||o===zr.Emulated)return null}return Wi(i,e)}}(n,t.parent,e)}function $s(n,t,e,i,r){n.insertBefore(t,e,i,r)}function t0(n,t,e){n.appendChild(t,e)}function n0(n,t,e,i,r){null!==i?$s(n,t,e,i,r):t0(n,t,e)}function Ph(n,t){return n.parentNode(t)}function r0(n,t,e){return s0(n,t,e)}let fg,_g,s0=function o0(n,t,e){return 40&n.type?Wi(n,e):null};function Ah(n,t,e,i){const r=dg(n,i,t),o=t[Xe],a=r0(i.parent||t[pi],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)n0(o,r,e[l],a,!1);else n0(o,r,e,a,!1);void 0!==fg&&fg(o,i,t,e,r)}function Su(n,t){if(null!==t){const e=t.type;if(3&e)return Wi(t,n);if(4&e)return pg(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Su(n,i);{const r=n[t.index];return Ei(r)?pg(-1,r):Zt(r)}}if(32&e)return lg(t,n)()||Zt(n[t.index]);{const i=l0(n,t);return null!==i?Array.isArray(i)?i[0]:Su(Du(n[In]),i):Su(n,t.next)}}return null}function l0(n,t){return null!==t?n[In][pi].projection[t.projection]:null}function pg(n,t){const e=ii+n+1;if(e<t.length){const i=t[e],r=i[ae].firstChild;if(null!==r)return Su(i,r)}return t[fo]}function gg(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&gi(Zt(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)gg(n,t,e.child,i,r,o,!1),Ba(t,n,r,a,o);else if(32&l){const u=lg(e,i);let c;for(;c=u();)Ba(t,n,r,c,o);Ba(t,n,r,a,o)}else 16&l?c0(n,t,i,e,r,o):Ba(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Eu(n,t,e,i,r,o){gg(e,i,n.firstChild,t,r,o,!1)}function c0(n,t,e,i,r,o){const s=e[In],l=s[pi].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ba(t,n,r,l[u],o);else{let u=l;const c=s[gn];Sh(i)&&(u.flags|=128),gg(n,t,u,c,r,o,!0)}}function h0(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function d0(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Ip(n,t,i),null!==r&&h0(n,t,r),null!==o&&function LN(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}const Pu=new ye("ENVIRONMENT_INITIALIZER"),E0=new ye("INJECTOR",-1),I0=new ye("INJECTOR_DEF_TYPES");class xg{get(t,e=iu){if(e===iu){const i=new Error(`NullInjectorError: No provider for ${Yn(t)}!`);throw i.name="NullInjectorError",i}return e}}function hj(...n){return{\u0275providers:T0(0,n),\u0275fromNgModule:!0}}function T0(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Fa(t,s=>{const a=s;kh(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&P0(r,o),e}function P0(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];Dg(r,o=>{t(o,i)})}}function kh(n,t,e,i){if(!(n=We(n)))return!1;let r=null,o=Qc(n);const s=!o&&vt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Qc(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)kh(u,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;i.add(r);try{Fa(o.imports,c=>{kh(c,t,e,i)&&(u||=[],u.push(c))})}finally{}void 0!==u&&P0(u,t)}if(!a){const u=Ws(r)||(()=>new r);t({provide:r,useFactory:u,deps:xt},r),t({provide:I0,useValue:r,multi:!0},r),t({provide:Pu,useValue:()=>Fe(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const u=n;Dg(l,c=>{t(c,u)})}}}return r!==n&&void 0!==n.providers}function Dg(n,t){for(let e of n)gp(e)&&(e=e.\u0275providers),Array.isArray(e)?Dg(e,t):t(e)}const dj=Lt({provide:String,useValue:Lt});function Sg(n){return null!==n&&"object"==typeof n&&dj in n}function qs(n){return"function"==typeof n}const Eg=new ye("Set Injector scope."),Fh={},pj={};let Ig;function Lh(){return void 0===Ig&&(Ig=new xg),Ig}class Sr{}class Ua extends Sr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tg(t,s=>this.processProvider(s)),this.records.set(E0,$a(void 0,this)),r.has("environment")&&this.records.set(Sr,$a(void 0,this));const o=this.records.get(Eg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(I0.multi,xt,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=ls(this),i=Vi(void 0);try{return t()}finally{ls(e),Vi(i)}}get(t,e=iu,i=ct.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(hw))return t[hw](this);i=th(i);const o=ls(this),s=Vi(void 0);try{if(!(i&ct.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function yj(n){return"function"==typeof n||"object"==typeof n&&n instanceof ye}(t)&&Zc(t);l=u&&this.injectableDefInScope(u)?$a(Mg(t),Fh):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&ct.Self?Lh():this.parent).get(t,e=i&ct.Optional&&e===iu?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[eh]=a[eh]||[]).unshift(Yn(t)),o)throw a;return function fR(n,t,e,i){const r=n[eh];throw t[lw]&&r.unshift(t[lw]),n.message=function pR(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Yn(t);if(Array.isArray(t))r=t.map(Yn).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Yn(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(lR,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[eh]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Vi(s),ls(o)}}resolveInjectorInitializers(){const t=ls(this),e=Vi(void 0);try{const r=this.get(Pu.multi,xt,ct.Self);for(const o of r)o()}finally{ls(t),Vi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Yn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(t){let e=qs(t=We(t))?t:We(t&&t.provide);const i=function mj(n){return Sg(n)?$a(void 0,n.useValue):$a(O0(n),Fh)}(t);if(qs(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=$a(void 0,Fh,!0),r.factory=()=>Dp(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Fh&&(e.value=pj,e.value=e.factory()),"object"==typeof e.value&&e.value&&function vj(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=We(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Mg(n){const t=Zc(n),e=null!==t?t.factory:Ws(n);if(null!==e)return e;if(n instanceof ye)throw new X(204,!1);if(n instanceof Function)return function gj(n){const t=n.length;if(t>0)throw bu(t,"?"),new X(204,!1);const e=function rR(n){return n&&(n[Jc]||n[rw])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new X(204,!1)}function O0(n,t,e){let i;if(qs(n)){const r=We(n);return Ws(r)||Mg(r)}if(Sg(n))i=()=>We(n.useValue);else if(function R0(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Dp(n.deps||[]));else if(function A0(n){return!(!n||!n.useExisting)}(n))i=()=>Fe(We(n.useExisting));else{const r=We(n&&(n.useClass||n.provide));if(!function _j(n){return!!n.deps}(n))return Ws(r)||Mg(r);i=()=>new r(...Dp(n.deps))}return i}function $a(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Tg(n,t){for(const e of n)Array.isArray(e)?Tg(e,t):e&&gp(e)?Tg(e.\u0275providers,t):t(e)}const Vh=new ye("AppId",{providedIn:"root",factory:()=>wj}),wj="ng",N0=new ye("Platform Initializer"),qa=new ye("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),j0=new ye("CSP nonce",{providedIn:"root",factory:()=>function Wa(){if(void 0!==_g)return _g;if(typeof document<"u")return document;throw new X(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let k0=(n,t,e)=>null;function Fg(n,t,e=!1){return k0(n,t,e)}class Pj{}class V0{}class Rj{resolveComponentFactory(t){throw function Aj(n){const t=Error(`No component factory found for ${Yn(n)}.`);return t.ngComponent=n,t}(t)}}let Ka=(()=>{class n{static#e=this.NULL=new Rj}return n})();function Oj(){return Za(si(),G())}function Za(n,t){return new W(Wi(n,t))}let W=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=Oj}return n})();function Nj(n){return n instanceof W?n.nativeElement:n}class B0{}let kj=(()=>{class n{static#e=this.\u0275prov=ke({token:n,providedIn:"root",factory:()=>null})}return n})();class Ou{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Fj=new Ou("16.2.12"),Hg={};function U0(n,t=null,e=null,i){const r=$0(n,t,e,i);return r.resolveInjectorInitializers(),r}function $0(n,t=null,e=null,i,r=new Set){const o=[e||xt,hj(n)];return i=i||("object"==typeof n?void 0:Yn(n)),new Ua(o,t||Lh(),i||null,r)}let q=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=iu;static#t=this.NULL=new xg;static create(e,i){if(Array.isArray(e))return U0({name:""},i,e,"");{const r=e.name??"";return U0({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=ke({token:n,providedIn:"any",factory:()=>Fe(E0)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function zg(n){return n.ngOriginalError}class Bo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&zg(t);for(;e&&zg(e);)e=zg(e);return e||null}}function Gg(n){return t=>{setTimeout(n,void 0,t)}}const qt=class Gj extends Br{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Gg(o),r&&(r=Gg(r)),s&&(s=Gg(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof rr&&t.add(a),a}};function Y0(...n){}class Vt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Uj(){const n="function"==typeof Kt.requestAnimationFrame;let t=Kt[n?"requestAnimationFrame":"setTimeout"],e=Kt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Yj(n){const t=()=>{!function qj(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Kt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$g(n),n.isCheckStableRunning=!0,Ug(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$g(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function Kj(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return X0(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),K0(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return X0(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),K0(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,$g(n),Ug(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vt.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(Vt.isInAngularZone())throw new X(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,$j,Y0,Y0);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const $j={};function Ug(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $g(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function X0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function K0(n){n._nesting--,Ug(n)}class Xj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qt,this.onMicrotaskEmpty=new qt,this.onStable=new qt,this.onError=new qt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const Z0=new ye("",{providedIn:"root",factory:Q0});function Q0(){const n=ve(Vt);let t=!0;return function YA(...n){const t=nu(n),e=function BA(n,t){return"number"==typeof hp(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?or(i[0]):ya(e)(Jn(i,t)):lo}(new Vn(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new Vn(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Vt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Vt.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(tw()))}function zo(n){return n instanceof Function?n():n}let qg=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ke({token:n,providedIn:"root",factory:()=>new n})}return n})();function Nu(n){for(;n;){n[tt]|=64;const t=Du(n);if(Pp(n)&&!t)return n;n=t}return null}const iC=new ye("",{providedIn:"root",factory:()=>!1});let $h=null;function aC(n,t){return n[t]??cC()}function lC(n,t){const e=cC();e.producerNode?.length&&(n[t]=$h,e.lView=n,$h=uC())}const sk={...Mw,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Nu(n.lView)},lView:null};function uC(){return Object.create(sk)}function cC(){return $h??=uC(),$h}const Je={};function dt(n){hC(yt(),G(),Mi()+n,!1)}function hC(n,t,e,i){if(!i)if(3==(3&t[tt])){const o=n.preOrderCheckHooks;null!==o&&dh(t,o,e)}else{const o=n.preOrderHooks;null!==o&&fh(t,o,0,e)}Gs(e)}function D(n,t=ct.Default){const e=G();return null===e?Fe(n,t):bb(si(),e,We(n),t)}function Yg(){throw new Error("invalid")}function qh(n,t,e,i,r,o,s,a,l,u,c){const h=t.blueprint.slice();return h[Cn]=r,h[tt]=140|i,(null!==u||n&&2048&n[tt])&&(h[tt]|=2048),Yw(h),h[gn]=h[Da]=n,h[En]=e,h[xa]=s||n&&n[xa],h[Xe]=a||n&&n[Xe],h[us]=l||n&&n[us]||null,h[pi]=o,h[cu]=function fN(){return dN++}(),h[ko]=c,h[Dw]=u,h[In]=2==t.type?n[In]:h,h}function el(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Xg(n,t,e,i,r){const o=nb(),s=Lp(),l=n.data[t]=function pk(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Ta()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function hO(){return Be.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function gu(){const n=Be.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return go(o,!0),o}function ju(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function dC(n,t,e,i,r){const o=aC(t,hu),s=Mi(),a=2&i;try{Gs(-1),a&&t.length>ht&&hC(n,t,ht,!1),po(a?2:0,r);const u=a?o:null,c=Rp(u);try{null!==u&&(u.dirty=!1),e(i,r)}finally{Op(u,c)}}finally{a&&null===t[hu]&&lC(t,hu),Gs(s),po(a?3:1,r)}}function Kg(n,t,e){if(Tp(t)){const i=xr(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{xr(i)}}}function Zg(n,t,e){Jw()&&(function bk(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;zs(e)&&function Mk(n,t,e){const i=Wi(t,n),r=fC(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=Yh(n,qh(n,r,null,s,i,t,null,n[xa].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||gh(e,t),gi(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],u=Us(t,n,a,e);gi(u,t),null!==s&&Tk(0,a-r,u,l,0,s),Ur(l)&&(lr(e.index,t)[En]=Us(t,n,a,e))}}(n,t,e,Wi(e,t)),64==(64&e.flags)&&vC(n,t,e))}function Qg(n,t,e=Wi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function fC(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Jg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Jg(n,t,e,i,r,o,s,a,l,u,c){const h=ht+i,d=h+r,f=function lk(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Je);return e}(h,d),p="function"==typeof u?u():u;return f[ae]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let pC=n=>null;function gC(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?mC(e,t,r,o):i.hasOwnProperty(r)&&mC(e,t,i[r],o)}return e}function mC(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function em(n,t,e,i){if(Jw()){const r=null===i?null:{"":-1},o=function xk(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(vw(t,s.selectors,!1))if(i||(i=[]),Ur(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),tm(n,t,a.length)}else i.unshift(s),tm(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&_C(n,t,e,s,r,a),r&&function Dk(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new X(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=su(e.mergedAttrs,e.attrs)}function _C(n,t,e,i,r,o){for(let u=0;u<i.length;u++)Kp(gh(e,t),n,i[u].type);!function Ek(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let u=0;u<i.length;u++){const c=i[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=ju(n,t,i.length,null);for(let u=0;u<i.length;u++){const c=i[u];e.mergedAttrs=su(e.mergedAttrs,c.hostAttrs),Ik(n,e,t,l,c),Sk(l,c,r),null!==c.contentQueries&&(e.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(e.flags|=64);const h=c.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function gk(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<r;c++){const h=o[c],d=e?e.get(h):null,p=d?d.outputs:null;l=gC(h.inputs,c,l,d?d.inputs:null),u=gC(h.outputs,c,u,p);const g=null===l||null===s||_w(t)?null:Pk(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(n,e,o)}function vC(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function fO(){return Be.lFrame.currentDirectiveIndex}();try{Gs(o);for(let a=i;a<r;a++){const l=n.data[a],u=t[a];Hp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Ck(l,u)}}finally{Gs(-1),Hp(s)}}function Ck(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function tm(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Sk(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ur(t)&&(e[""]=n)}}function Ik(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Ws(r.type)),s=new mu(o,Ur(r),D);n.blueprint[i]=s,e[i]=s,function yk(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function wk(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,ju(n,e,r.hostVars,Je),r)}function Tk(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)yC(i,e,s[a++],s[a++],s[a++])}function yC(n,t,e,i,r){const o=xr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{xr(o)}}function Pk(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function wC(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function bC(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];zp(e[i]),s.contentQueries(2,t[o],o)}}}function Yh(n,t){return n[lu]?n[xw][Gr]=t:n[lu]=t,n[xw]=t,t}function im(n,t,e){zp(0);const i=xr(null);try{t(n,e)}finally{xr(i)}}function CC(n){return n[Ca]||(n[Ca]=[])}function xC(n){return n.cleanup||(n.cleanup=[])}function SC(n,t){const e=n[us],i=e?e.get(Bo,null):null;i&&i.handleError(t)}function rm(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];yC(n.data[s],t[s],i,a,r)}}function Wo(n,t,e){const i=function uh(n,t){return Zt(t[n])}(t,n);!function Qb(n,t,e){n.setValue(t,e)}(n[Xe],i,e)}function Ak(n,t){const e=lr(t,n),i=e[ae];!function Rk(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Cn];null!==r&&null===e[ko]&&(e[ko]=Fg(r,e[us])),om(i,e,e[En])}function om(n,t,e){Wp(t);try{const i=n.viewQuery;null!==i&&im(1,i,e);const r=n.template;null!==r&&dC(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&bC(n,t),n.staticViewQueries&&im(2,n.viewQuery,e);const o=n.components;null!==o&&function Ok(n,t){for(let e=0;e<t.length;e++)Ak(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[tt]&=-5,Gp()}}let EC=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function WR(n,t,e){const i=Object.create(GR);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Rw(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Ow(i))return;i.hasRun=!0;const s=Rp(i);try{i.cleanupFn(),i.cleanupFn=Bw,i.fn(r)}finally{Op(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,u=>{this.all.has(u)&&this.queue.set(u,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ke({token:n,providedIn:"root",factory:()=>new n})}return n})();function Xh(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=fp(r,a):2==o&&(i=fp(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function ku(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(Zt(o)),Ei(o)&&IC(o,i);const s=e.type;if(8&s)ku(n,t,e.child,i);else if(32&s){const a=lg(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=l0(t,e);if(Array.isArray(a))i.push(...a);else{const l=Du(t[In]);ku(l[ae],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function IC(n,t){for(let e=ii;e<n.length;e++){const i=n[e],r=i[ae].firstChild;null!==r&&ku(i[ae],i,r,t)}n[fo]!==n[Cn]&&t.push(n[fo])}function Kh(n,t,e,i=!0){const r=t[xa],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{MC(n,t,n.template,e)}catch(l){throw i&&SC(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function MC(n,t,e,i){const r=t[tt];if(256!=(256&r)){t[xa].effectManager?.flush(),Wp(t);try{Yw(t),function rb(n){return Be.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&dC(n,t,e,2,i);const s=3==(3&r);if(s){const u=n.preOrderCheckHooks;null!==u&&dh(t,u,null)}else{const u=n.preOrderHooks;null!==u&&fh(t,u,0,null),Up(t,0)}if(function kk(n){for(let t=Xb(n);null!==t;t=Kb(t)){if(!t[Sw])continue;const e=t[Ea];for(let i=0;i<e.length;i++){eO(e[i])}}}(t),TC(t,2),null!==n.contentQueries&&bC(n,t),s){const u=n.contentCheckHooks;null!==u&&dh(t,u)}else{const u=n.contentHooks;null!==u&&fh(t,u,1),Up(t,1)}!function ak(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=aC(t,du);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Gs(~o);else{const s=o,a=e[++r],l=e[++r];dO(a,s),i.dirty=!1;const u=Rp(i);try{l(2,t[s])}finally{Op(i,u)}}}}finally{null===t[du]&&lC(t,du),Gs(-1)}}(n,t);const a=n.components;null!==a&&AC(t,a,0);const l=n.viewQuery;if(null!==l&&im(2,l,i),s){const u=n.viewCheckHooks;null!==u&&dh(t,u)}else{const u=n.viewHooks;null!==u&&fh(t,u,2),Up(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[tt]&=-73,Xw(t)}finally{Gp()}}}function TC(n,t){for(let e=Xb(n);null!==e;e=Kb(e))for(let i=ii;i<e.length;i++)PC(e[i],t)}function Fk(n,t,e){PC(lr(t,n),e)}function PC(n,t){if(!function QR(n){return 128==(128&n[tt])}(n))return;const e=n[ae],i=n[tt];if(80&i&&0===t||1024&i||2===t)MC(e,n,e.template,n[En]);else if(n[au]>0){TC(n,1);const r=e.components;null!==r&&AC(n,r,1)}}function AC(n,t,e){for(let i=0;i<t.length;i++)Fk(n,t[i],e)}class Fu{get rootNodes(){const t=this._lView,e=t[ae];return ku(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(t){this._lView[En]=t}get destroyed(){return 256==(256&this._lView[tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[gn];if(Ei(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Th(t,i),yh(e,i))}this._attachedToViewContainer=!1}cg(this._lView[ae],this._lView)}onDestroy(t){!function Zw(n,t){if(256==(256&n[tt]))throw new X(911,!1);null===n[cs]&&(n[cs]=[]),n[cs].push(t)}(this._lView,t)}markForCheck(){Nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[tt]&=-129}reattach(){this._lView[tt]|=128}detectChanges(){Kh(this._lView[ae],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function IN(n,t){Eu(n,t,t[Xe],2,null,null)}(this._lView[ae],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=t}}class Lk extends Fu{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Kh(t[ae],t,t[En],!1)}checkNoChanges(){}get context(){return null}}class RC extends Ka{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=vt(t);return new Lu(e,this.ngModule)}}function OC(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Hk{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=th(i);const r=this.injector.get(t,Hg,i);return r!==Hg||e===Hg?r:this.parentInjector.get(t,e,i)}}class Lu extends V0{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=OC(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return OC(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function DR(n){return n.map(xR).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof Sr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Hk(t,o):t,a=s.get(B0,null);if(null===a)throw new X(407,!1);const h={rendererFactory:a,sanitizer:s.get(kj,null),effectManager:s.get(EC,null),afterRenderEventManager:s.get(qg,null)},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function uk(n,t,e,i){const o=i.get(iC,!1)||e===zr.ShadowDom,s=n.selectRootElement(t,o);return function ck(n){pC(n)}(s),s}(d,i,this.componentDef.encapsulation,s):Mh(d,f,function Vk(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=Fg(p,s,!0));const y=Jg(0,null,null,1,0,null,null,null,null,null,null),w=qh(null,y,null,_,null,null,h,d,s,null,v);let b,C;Wp(w);try{const I=this.componentDef;let M,S=null;I.findHostDirectiveDefs?(M=[],S=new Map,I.findHostDirectiveDefs(I,M,S),M.push(I)):M=[I];const R=function zk(n,t){const e=n[ae],i=ht;return n[i]=t,el(e,i,2,"#host",null)}(w,p),P=function Wk(n,t,e,i,r,o,s){const a=r[ae];!function Gk(n,t,e,i){for(const r of n)t.mergedAttrs=su(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Xh(t,t.mergedAttrs,!0),null!==e&&d0(i,e,t))}(i,n,t,s);let l=null;null!==t&&(l=Fg(t,r[us]));const u=o.rendererFactory.createRenderer(t,e);let c=16;e.signals?c=4096:e.onPush&&(c=64);const h=qh(r,fC(e),null,c,r[n.index],n,o,u,null,null,l);return a.firstCreatePass&&tm(a,n,i.length-1),Yh(r,h),r[n.index]=h}(R,p,I,M,w,h,d);C=qw(y,ht),p&&function $k(n,t,e,i){if(i)Ip(n,e,["ng-version",Fj.full]);else{const{attrs:r,classes:o}=function SR(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Wr(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Ip(n,e,r),o&&o.length>0&&h0(n,e,o.join(" "))}}(d,I,p,i),void 0!==e&&function qk(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(C,this.ngContentSelectors,e),b=function Uk(n,t,e,i,r,o){const s=si(),a=r[ae],l=Wi(s,r);_C(a,r,s,e,null,i);for(let c=0;c<e.length;c++)gi(Us(r,a,s.directiveStart+c,s),r);vC(a,r,s),l&&gi(l,r);const u=Us(r,a,s.directiveStart+s.componentOffset,s);if(n[En]=r[En]=u,null!==o)for(const c of o)c(u,t);return Kg(a,s,n),u}(P,I,M,S,w,[Yk]),om(y,w,null)}finally{Gp()}return new Bk(this.componentType,b,Za(C,w),w,C)}}class Bk extends Pj{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Lk(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;rm(o[ae],o,r,t,e),this.previousInputValues.set(t,e),Nu(lr(this._tNode.index,o))}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Yk(){const n=si();hh(G()[ae],n)}function mi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function hr(n,t,e,i,r,o,s,a){const l=G(),u=yt(),c=n+ht,h=u.firstCreatePass?function xF(n,t,e,i,r,o,s,a,l){const u=t.consts,c=el(t,n,4,s||null,ds(u,a));em(t,e,c,ds(u,l)),hh(t,c);const h=c.tView=Jg(2,c,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,e,i,r,o,s):u.data[c];go(h,!1);const d=ZC(u,l,h,n);ch()&&Ah(u,l,d,h),gi(d,l),Yh(l,l[c]=wC(d,l,d,h)),sh(h)&&Zg(u,l,h),null!=s&&Qg(l,h,a)}let ZC=function QC(n,t,e,i){return fs(!0),t[Xe].createComment("")};function kt(n,t,e){const i=G();return mi(i,Pa(),t)&&function cr(n,t,e,i,r,o,s,a){const l=Wi(t,e);let c,u=t.inputs;!a&&null!=u&&(c=u[i])?(rm(n,e,c,i,r),zs(t)&&function _k(n,t){const e=lr(t,n);16&e[tt]||(e[tt]|=64)}(e,t.index)):3&t.type&&(i=function mk(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}(yt(),function _n(){const n=Be.lFrame;return qw(n.tView,n.selectedIndex)}(),i,n,t,i[Xe],e,!1),kt}function dm(n,t,e,i,r){const s=r?"class":"style";rm(n,e,t.inputs[s],s,i)}function ue(n,t,e,i){const r=G(),o=yt(),s=ht+n,a=r[Xe],l=o.firstCreatePass?function IF(n,t,e,i,r,o){const s=t.consts,l=el(t,n,2,i,ds(s,r));return em(t,e,l,ds(s,o)),null!==l.attrs&&Xh(l,l.attrs,!1),null!==l.mergedAttrs&&Xh(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],u=ex(o,r,l,a,t,n);r[s]=u;const c=sh(l);return go(l,!0),d0(a,u,l),32!=(32&l.flags)&&ch()&&Ah(o,r,u,l),0===function nO(){return Be.lFrame.elementDepthCount}()&&gi(u,r),function iO(){Be.lFrame.elementDepthCount++}(),c&&(Zg(o,r,l),Kg(o,l,r)),null!==i&&Qg(r,l),ue}function le(){let n=si();Lp()?Vp():(n=n.parent,go(n,!1));const t=n;(function oO(n){return Be.skipHydrationRootTNode===n})(t)&&function uO(){Be.skipHydrationRootTNode=null}(),function rO(){Be.lFrame.elementDepthCount--}();const e=yt();return e.firstCreatePass&&(hh(e,n),Tp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function DO(n){return 0!=(8&n.flags)}(t)&&dm(e,t,G(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function SO(n){return 0!=(16&n.flags)}(t)&&dm(e,t,G(),t.stylesWithoutHost,!1),le}function lt(n,t,e,i){return ue(n,t,e,i),le(),lt}let ex=(n,t,e,i,r,o)=>(fs(!0),Mh(i,r,function db(){return Be.lFrame.currentNamespace}()));function Wu(n){return!!n&&"function"==typeof n.then}function rx(n){return!!n&&"function"==typeof n.subscribe}function Pi(n,t,e,i){const r=G(),o=yt(),s=si();return function sx(n,t,e,i,r,o,s){const a=sh(i),u=n.firstCreatePass&&xC(n),c=t[En],h=CC(t);let d=!0;if(3&i.type||s){const g=Wi(i,t),m=s?s(g):g,_=h.length,v=s?w=>s(Zt(w[i.index])):i.index;let y=null;if(!s&&a&&(y=function OF(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[Ca],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,d=!1;else{o=lx(i,t,c,o,!1);const w=e.listen(m,r,o);h.push(o,w),u&&u.push(r,v,_,_+1)}}else o=lx(i,t,c,o,!1);const f=i.outputs;let p;if(d&&null!==f&&(p=f[r])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const b=t[p[m]][p[m+1]].subscribe(o),C=h.length;h.push(o,b),u&&u.push(r,i.index,C,-(C+1))}}}(o,r,r[Xe],s,n,t,i),Pi}function ax(n,t,e,i){try{return po(6,t,e),!1!==e(i)}catch(r){return SC(n,r),!1}finally{po(7,t,e)}}function lx(n,t,e,i,r){return function o(s){if(s===Function)return i;Nu(n.componentOffset>-1?lr(n.index,t):t);let l=ax(t,e,i,s),u=o.__ngNextListenerFn__;for(;u;)l=ax(t,e,u,s)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function id(n=1){return function gO(n){return(Be.lFrame.contextLView=function mO(n,t){for(;n>0;)t=t[Da],n--;return t}(n,Be.lFrame.contextLView))[En]}(n)}function NF(n,t){let e=null;const i=function yR(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?vw(n,o,!0):CR(i,o))return r}else e=r}return e}function Bn(n){const t=G()[In][pi];if(!t.projection){const i=t.projection=bu(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?NF(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function zn(n,t=0,e){const i=G(),r=yt(),o=el(r,ht+n,16,null,e||null);null===o.projection&&(o.projection=t),Vp(),(!i[ko]||Ta())&&32!=(32&o.flags)&&function jN(n,t,e){c0(t[Xe],0,t,e,dg(n,e,t),r0(e.parent||t[pi],e,t))}(r,i,o)}function bt(n,t=""){const e=G(),i=yt(),r=n+ht,o=i.firstCreatePass?el(i,r,1,t,null):i.data[r],s=Rx(i,e,o,t,n);e[r]=s,ch()&&Ah(i,e,s,o),go(o,!1)}let Rx=(n,t,e,i,r)=>(fs(!0),function Ih(n,t){return n.createText(t)}(t[Xe],i));function Ir(n,t,e){const i=G(),r=function nl(n,t,e,i){return mi(n,Pa(),e)?t+Ye(e)+i:Je}(i,n,t,e);return r!==Je&&Wo(i,Mi(),r),Ir}const dl="en-US";let tD=dl;function Cm(n,t,e,i,r){if(n=We(n),Array.isArray(n))for(let o=0;o<n.length;o++)Cm(n[o],t,e,i,r);else{const o=yt(),s=G(),a=si();let l=qs(n)?n:We(n.provide);const u=O0(n),c=1048575&a.providerIndexes,h=a.directiveStart,d=a.providerIndexes>>20;if(qs(n)||!n.multi){const f=new mu(u,r,D),p=Dm(l,t,r?c:c+d,h);-1===p?(Kp(gh(a,s),o,l),xm(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=Dm(l,t,c+d,h),p=Dm(l,t,c,c+d),m=p>=0&&e[p];if(r&&!m||!r&&!(f>=0&&e[f])){Kp(gh(a,s),o,l);const _=function xV(n,t,e,i,r){const o=new mu(n,e,D);return o.multi=[],o.index=t,o.componentProviders=0,ED(o,r,i&&!e),o}(r?CV:bV,e.length,r,i,u);!r&&m&&(e[p].providerFactory=_),xm(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(_),s.push(_)}else xm(o,n,f>-1?f:p,ED(e[r?p:f],u,!r&&i));!r&&i&&m&&e[p].componentProviders++}}}function xm(n,t,e,i){const r=qs(t),o=function fj(n){return!!n.useClass}(t);if(r||o){const l=(o?We(t.useClass):t).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const c=u.indexOf(e);-1===c?u.push(e,[i,l]):u[c+1].push(i,l)}else u.push(e,l)}}}function ED(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Dm(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function bV(n,t,e,i){return Sm(this.multi,[])}function CV(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Us(e,e[ae],this.providerFactory.index,i);o=a.slice(0,s),Sm(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Sm(r,o);return o}function Sm(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ce(n,t=[]){return e=>{e.providersResolver=(i,r)=>function wV(n,t,e){const i=yt();if(i.firstCreatePass){const r=Ur(n);Cm(e,i.data,i.blueprint,r,!0),Cm(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Zs{}class ID{}class Em extends Zs{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new RC(this);const r=ar(t);this._bootstrapComponents=zo(r.bootstrap),this._r3Injector=$0(t,e,[{provide:Zs,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver},...i],Yn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Im extends ID{constructor(t){super(),this.moduleType=t}create(t){return new Em(this.moduleType,t,[])}}class MD extends Zs{constructor(t){super(),this.componentFactoryResolver=new RC(this),this.instance=null;const e=new Ua([...t.providers,{provide:Zs,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],t.parent||Lh(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Mm(n,t,e=null){return new MD({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let EV=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=T0(0,e.type),r=i.length>0?Mm([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ke({token:n,providedIn:"environment",factory:()=>new n(Fe(Sr))})}return n})();function TD(n){n.getStandaloneInjector=t=>t.get(EV).getOrCreateStandaloneInjector(n)}function kD(n,t,e){const i=function Ii(){const n=Be.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}()+n,r=G();return r[i]===Je?function vo(n,t,e){return n[t]=e}(r,i,e?t.call(e):t()):function Vu(n,t){return n[t]}(r,i)}function ZV(){return this._results[Symbol.iterator]()}class Pm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new qt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Pm.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=ZV)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Dr(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function BO(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function JV(n,t,e,i=!0){const r=t[ae];if(function TN(n,t,e,i){const r=ii+i,o=e.length;i>0&&(e[r-1][Gr]=t),i<o-ii?(t[Gr]=e[r],Mb(e,ii+i,t)):(e.push(t),t[Gr]=null),t[gn]=e;const s=t[uu];null!==s&&e!==s&&function PN(n,t){const e=n[Ea];t[In]!==t[gn][gn][In]&&(n[Sw]=!0),null===e?n[Ea]=[t]:e.push(t)}(s,t);const a=t[ho];null!==a&&a.insertView(n),t[tt]|=128}(r,t,n,e),i){const o=pg(e,n),s=t[Xe],a=Ph(s,n[fo]);null!==a&&function EN(n,t,e,i,r,o){i[Cn]=r,i[pi]=t,Eu(n,i,e,1,r,o)}(r,n[pi],s,t,a,o)}}let Ri=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=n2}return n})();const e2=Ri,t2=class extends e2{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function QV(n,t,e,i){const r=t.tView,a=qh(n,r,e,4096&n[tt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[uu]=n[t.index];const u=n[ho];return null!==u&&(a[ho]=u.createEmbeddedView(r)),om(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Fu(r)}};function n2(){return hd(si(),G())}function hd(n,t){return 4&n.type?new t2(t,n,Za(n,t)):null}let vn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=l2}return n})();function l2(){return YD(si(),G())}const u2=vn,$D=class extends u2{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const t=mh(this._hostTNode,this._hostLView);if(qp(t)){const e=vu(t,this._hostLView),i=_u(t);return new Ti(e[ae].data[i+8],e)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=qD(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function wu(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const g=e||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?t:new Lu(vt(t)),u=i||this.parentInjector;if(!o&&null==l.ngModule){const m=(s?u:this.parentInjector).get(Sr,null);m&&(o=m)}vt(l.componentType??{});const f=l.create(u,r,null,o);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function JR(n){return Ei(n[gn])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=r[gn],c=new $D(u,u[pi],u[gn]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return JV(a,r,s,!i),t.attachToViewContainerRef(),Mb(Am(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=qD(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Th(this._lContainer,e);i&&(yh(Am(this._lContainer),e),cg(i[ae],i))}detach(t){const e=this._adjustIndex(t,-1),i=Th(this._lContainer,e);return i&&null!=yh(Am(this._lContainer),e)?new Fu(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function qD(n){return n[8]}function Am(n){return n[8]||(n[8]=[])}function YD(n,t){let e;const i=t[n.index];return Ei(i)?e=i:(e=wC(i,t,null,n),t[n.index]=e,Yh(t,e)),XD(e,t,n,i),new $D(e,n,t)}let XD=function KD(n,t,e,i){if(n[fo])return;let r;r=8&e.type?Zt(i):function c2(n,t){const e=n[Xe],i=e.createComment(""),r=Wi(t,n);return $s(e,Ph(e,r),i,function NN(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[fo]=r};class Rm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Rm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Om{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Om(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==nS(t,e).matches&&this.queries[e].setDirty()}}class ZD{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Nm{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Nm(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class jm{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new jm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,f2(e,o)),this.matchTNodeWithReadOption(t,e,_h(e,t,o,!1,!1))}else i===Ri?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_h(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===W||r===vn||r===Ri&&4&e.type)this.addMatch(e.index,-2);else{const o=_h(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function f2(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function g2(n,t,e,i){return-1===e?function p2(n,t){return 11&n.type?Za(n,t):4&n.type?hd(n,t):null}(t,n):-2===e?function m2(n,t,e){return e===W?Za(t,n):e===Ri?hd(t,n):e===vn?YD(t,n):void 0}(n,t,i):Us(n,n[ae],e,t)}function QD(n,t,e,i){const r=t[ho].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:g2(t,o[u],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function km(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=QD(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],c=t[-l];for(let h=ii;h<c.length;h++){const d=c[h];d[uu]===d[gn]&&km(d[ae],d,u,i)}if(null!==c[Ea]){const h=c[Ea];for(let d=0;d<h.length;d++){const f=h[d];km(f[ae],f,u,i)}}}}}return i}function fd(n){const t=G(),e=yt(),i=sb();zp(i+1);const r=nS(e,i);if(n.dirty&&function ZR(n){return 4==(4&n[tt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?km(e,t,i,[]):QD(e,t,r,i);n.reset(o,Nj),n.notifyOnChanges()}return!0}return!1}function Fm(n,t,e){const i=yt();i.firstCreatePass&&(function tS(n,t,e){null===n.queries&&(n.queries=new Nm),n.queries.track(new jm(t,e))}(i,new ZD(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function eS(n,t,e){const i=new Pm(4==(4&e));(function fk(n,t,e,i){const r=CC(t);r.push(e),n.firstCreatePass&&xC(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[ho]&&(t[ho]=new Om),t[ho].queries.push(new Rm(i))}(i,G(),t)}function pd(){return function _2(n,t){return n[ho].queries[t].queryList}(G(),sb())}function nS(n,t){return n.queries.getByIndex(t)}const Wm=Ib("Input",n=>n?"string"==typeof n?{alias:n}:n:{}),Gm=new ye("Application Initializer");let Um=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=ve(Gm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(Wu(o))e.push(o);else if(rx(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yS=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Go=new ye("LocaleId",{providedIn:"root",factory:()=>ve(Go,ct.Optional|ct.SkipSelf)||function H2(){return typeof $localize<"u"&&$localize.locale||dl}()});let wS=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new br(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class W2{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let bS=(()=>{class n{compileModuleSync(e){return new Im(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=zo(ar(e).declarations).reduce((s,a)=>{const l=vt(a);return l&&s.push(new Lu(l)),s},[]);return new W2(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const SS=new ye(""),_d=new ye("");let Km,Ym=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Km||(function hH(n){Km=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(Vt),Fe(Xm),Fe(_d))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})(),Xm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Km?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),_s=null;const ES=new ye("AllowMultipleToken"),Zm=new ye("PlatformDestroyListeners"),Qm=new ye("appBootstrapListener");class MS{constructor(t,e){this.name=t,this.token=e}}function PS(n,t,e=[]){const i=`Platform: ${t}`,r=new ye(i);return(o=[])=>{let s=Jm();if(!s||s.injector.get(ES,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function pH(n){if(_s&&!_s.get(ES,!1))throw new X(400,!1);(function IS(){!function LR(n){Fw=n}(()=>{throw new X(600,!1)})})(),_s=n;const t=n.get(RS);(function TS(n){n.get(N0,null)?.forEach(e=>e())})(n)}(function AS(n=[],t){return q.create({name:t,providers:[{provide:Eg,useValue:"platform"},{provide:Zm,useValue:new Set([()=>_s=null])},...n]})}(a,i))}return function mH(n){const t=Jm();if(!t)throw new X(401,!1);return t}()}}function Jm(){return _s?.get(RS)??null}let RS=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function _H(n="zone.js",t){return"noop"===n?new Xj:"zone.js"===n?new Vt(t):n}(i?.ngZone,function OS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function SV(n,t,e){return new Em(n,t,e)}(e.moduleType,this.injector,function LS(n){return[{provide:Vt,useFactory:n},{provide:Pu,multi:!0,useFactory:()=>{const t=ve(yH,{optional:!0});return()=>t.initialize()}},{provide:FS,useFactory:vH},{provide:Z0,useFactory:Q0}]}(()=>r)),s=o.injector.get(Bo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{vd(this._modules,o),a.unsubscribe()})}),function NS(n,t,e){try{const i=e();return Wu(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(Um);return a.runInitializers(),a.donePromise.then(()=>(function nD(n){Cr(n,"Expected localeId to be defined"),"string"==typeof n&&(tD=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Go,dl)||dl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=jS({},i);return function dH(n,t,e){const i=new Im(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(gl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new X(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Zm,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(q))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function jS(n,t){return Array.isArray(t)?t.reduce(jS,n):{...n,...t}}let gl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ve(FS),this.zoneIsStable=ve(Z0),this.componentTypes=[],this.components=[],this.isStable=ve(wS).hasPendingTasks.pipe(uo(e=>e?$e(!1):this.zoneIsStable),function XA(n,t=ss){return n=n??KA,qn((e,i)=>{let r,o=!0;e.subscribe(Hn(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}(),tw()),this._injector=ve(Sr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof V0;if(!this._injector.get(Um).done)throw!r&&function ba(n){const t=vt(n)||ni(n)||Si(n);return null!==t&&t.standalone}(e),new X(405,!1);let s;s=r?e:this._injector.get(Ka).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function fH(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zs),u=s.create(q.NULL,[],i||s.selector,a),c=u.location.nativeElement,h=u.injector.get(SS,null);return h?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),vd(this.components,u),h?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;vd(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(Qm,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>vd(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new X(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vd(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const FS=new ye("",{providedIn:"root",factory:()=>ve(Bo).handleError.bind(void 0)});function vH(){const n=ve(Vt),t=ve(Bo);return e=>n.runOutsideAngular(()=>t.handleError(e))}let yH=(()=>{class n{constructor(){this.zone=ve(Vt),this.applicationRef=ve(gl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Mr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=bH}return n})();function bH(n){return function CH(n,t,e){if(zs(n)&&!e){const i=lr(n.index,t);return new Fu(i,i)}return 47&n.type?new Fu(t[In],t):null}(si(),G(),16==(16&n))}const jH=PS(null,"core",[]);let kH=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(gl))};static#t=this.\u0275mod=Hi({type:n});static#n=this.\u0275inj=Di({})}return n})(),o_=null;function vs(){return o_}class KH{}const Tr=new ye("DocumentToken");let s_=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:function(){return ve(QH)},providedIn:"platform"})}return n})();const ZH=new ye("Location Initialized");let QH=(()=>{class n extends s_{constructor(){super(),this._doc=ve(Tr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vs().getBaseHref(this._doc)}onPopState(e){const i=vs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=vs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function a_(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function nE(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Uo(n){return n&&"?"!==n[0]?"?"+n:n}let Js=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:function(){return ve(rE)},providedIn:"root"})}return n})();const iE=new ye("appBaseHref");let rE=(()=>{class n extends Js{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ve(Tr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return a_(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Uo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Uo(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Uo(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(s_),Fe(iE,8))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JH=(()=>{class n extends Js{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=a_(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Uo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Uo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(s_),Fe(iE,8))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})(),l_=(()=>{class n{constructor(e){this._subject=new qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function nB(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(nE(oE(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Uo(i))}normalize(e){return n.stripTrailingSlash(function tB(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,oE(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Uo(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Uo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Uo;static#t=this.joinWithSlash=a_;static#n=this.stripTrailingSlash=nE;static#i=this.\u0275fac=function(i){return new(i||n)(Fe(Js))};static#r=this.\u0275prov=ke({token:n,factory:function(){return function eB(){return new l_(Fe(Js))}()},providedIn:"root"})}return n})();function oE(n){return n.replace(/\/index.html$/,"")}let y_=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new UB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_E("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_E("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(D(vn),D(Ri))};static#t=this.\u0275dir=Te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class UB{constructor(){this.$implicit=null,this.ngIf=null}}function _E(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Yn(t)}'.`)}let ea=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Hi({type:n});static#n=this.\u0275inj=Di({})}return n})();function bE(n){return"server"===n}let yz=(()=>{class n{static#e=this.\u0275prov=ke({token:n,providedIn:"root",factory:()=>new wz(Fe(Tr),window)})}return n})();class wz{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function bz(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Uz extends KH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class E_ extends Uz{static makeCurrent(){!function XH(n){o_||(o_=n)}(new E_)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function $z(){return rc=rc||document.querySelector("base"),rc?rc.getAttribute("href"):null}();return null==e?null:function qz(n){jd=jd||document.createElement("a"),jd.setAttribute("href",n);const t=jd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function HB(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let jd,rc=null,Xz=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})();const I_=new ye("EventManagerPlugins");let EE=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new X(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(I_),Fe(Vt))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})();class IE{constructor(t){this._doc=t}}const M_="ng-app-id";let ME=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bE(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${M_}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(M_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(M_,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(Tr),Fe(Vh),Fe(j0,8),Fe(qa))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})();const T_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P_=/%COMP%/g,Jz=new ye("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function PE(n,t){return t.map(e=>e.replace(P_,n))}let AE=(()=>{class n{constructor(e,i,r,o,s,a,l,u=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=bE(a),this.defaultRenderer=new A_(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zr.ShadowDom&&(i={...i,encapsulation:zr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof OE?r.applyToHost(e):r instanceof R_&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case zr.Emulated:o=new OE(l,u,i,this.appId,c,s,a,h);break;case zr.ShadowDom:return new iW(l,u,e,i,s,a,this.nonce,h);default:o=new R_(l,u,i,c,s,a,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(EE),Fe(ME),Fe(Vh),Fe(Jz),Fe(Tr),Fe(qa),Fe(Vt),Fe(j0))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})();class A_{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(T_[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(RE(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(RE(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new X(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=T_[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=T_[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ps.DashCase|ps.Important)?t.style.setProperty(e,i,r&ps.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ps.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=vs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function RE(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class iW extends A_{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=PE(r.id,r.styles);for(const c of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=c,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class R_ extends A_{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?PE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class OE extends R_{constructor(t,e,i,r,o,s,a,l){const u=r+"-"+i.id;super(t,e,i,o,s,a,l,u),this.contentAttr=function eW(n){return"_ngcontent-%COMP%".replace(P_,n)}(u),this.hostAttr=function tW(n){return"_nghost-%COMP%".replace(P_,n)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let rW=(()=>{class n extends IE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(Tr))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})();const NE=["alt","control","meta","shift"],oW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let aW=(()=>{class n extends IE{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vs().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),NE.forEach(u=>{const c=i.indexOf(u);c>-1&&(i.splice(c,1),s+=u+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=oW[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),NE.forEach(s=>{s!==r&&(0,sW[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(Tr))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})();const kE=[{provide:qa,useValue:"browser"},{provide:N0,useValue:function lW(){E_.makeCurrent()},multi:!0},{provide:Tr,useFactory:function cW(){return function zN(n){_g=n}(document),document},deps:[]}],hW=PS(jH,"browser",kE),dW=new ye(""),FE=[{provide:_d,useClass:class Yz{addToWindow(t){Kt.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new X(5103,!1);return o},Kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Kt.getAllAngularRootElements=()=>t.getAllRootElements(),Kt.frameworkStabilizers||(Kt.frameworkStabilizers=[]),Kt.frameworkStabilizers.push(i=>{const r=Kt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?vs().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:SS,useClass:Ym,deps:[Vt,Xm,_d]},{provide:Ym,useClass:Ym,deps:[Vt,Xm,_d]}],LE=[{provide:Eg,useValue:"root"},{provide:Bo,useFactory:function uW(){return new Bo},deps:[]},{provide:I_,useClass:rW,multi:!0,deps:[Tr,Vt,qa]},{provide:I_,useClass:aW,multi:!0,deps:[Tr]},AE,ME,EE,{provide:B0,useExisting:AE},{provide:class Cz{},useClass:Xz,deps:[]},[]];let fW=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Vh,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(dW,12))};static#t=this.\u0275mod=Hi({type:n});static#n=this.\u0275inj=Di({providers:[...LE,...FE],imports:[ea,kH]})}return n})(),VE=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(Tr))};static#t=this.\u0275prov=ke({token:n,factory:function(i){let r=null;return r=i?new i:function gW(){return new VE(Fe(Tr))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:bW}=Array,{getPrototypeOf:CW,prototype:xW,keys:DW}=Object;const{isArray:EW}=Array;function N_(...n){const t=nu(n),e=function Zy(n){return ln(hp(n))?n.pop():void 0}(n),{args:i,keys:r}=function WE(n){if(1===n.length){const t=n[0];if(bW(t))return{args:t,keys:null};if(function SW(n){return n&&"object"==typeof n&&CW(n)===xW}(t)){const e=DW(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}(n);if(0===i.length)return Jn([],t);const o=new Vn(function MW(n,t,e=ss){return i=>{$E(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)$E(t,()=>{const u=Jn(n[l],t);let c=!1;u.subscribe(Hn(i,h=>{o[l]=h,c||(c=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>function UE(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}(r,s):ss));return e?o.pipe(function GE(n){return $t(t=>function IW(n,t){return EW(t)?n(...t):n(t)}(n,t))}(e)):o}function $E(n,t,e){n?Oo(e,n,t):t()}const kd=Qf(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function j_(...n){return function TW(){return ya(1)}()(Jn(n,nu(n)))}function qE(n){return new Vn(t=>{or(n()).subscribe(t)})}function oc(n,t){const e=ln(n)?n:()=>n,i=r=>r.error(e());return new Vn(t?r=>t.schedule(i,0,r):i)}function k_(){return qn((n,t)=>{let e=null;n._refCount++;const i=Hn(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class YE extends Vn{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ky(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rr;const e=this.getSubject();t.add(this.source.subscribe(Hn(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rr.EMPTY)}return t}refCount(){return k_()(this)}}function vl(n){return n<=0?()=>lo:qn((t,e)=>{let i=0;t.subscribe(Hn(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ws(n,t){return qn((e,i)=>{let r=0;e.subscribe(Hn(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Fd(n){return qn((t,e)=>{let i=!1;t.subscribe(Hn(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function XE(n=AW){return qn((t,e)=>{let i=!1;t.subscribe(Hn(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function AW(){return new kd}function ta(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ws((r,o)=>n(r,o,i)):ss,vl(1),e?Fd(t):XE(()=>new kd))}function sc(n,t){return ln(t)?ti(n,t,1):ti(n,1)}function _i(n,t,e){const i=ln(n)||t||e?{next:n,error:t,complete:e}:n;return i?qn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Hn(o,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),o.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):ss}function na(n){return qn((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Hn(e,void 0,void 0,s=>{o=or(n(s,na(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function F_(n){return n<=0?()=>lo:qn((t,e)=>{let i=[];t.subscribe(Hn(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function L_(n){return qn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const ot="primary",ac=Symbol("RouteTitle");class FW{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yl(n){return new FW(n)}function LW(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Co(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!KE(n[r],t[r]))return!1;return!0}function KE(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function ZE(n){return n.length>0?n[n.length-1]:null}function bs(n){return function wW(n){return!!n&&(n instanceof Vn||ln(n.lift)&&ln(n.subscribe))}(n)?n:Wu(n)?Jn(Promise.resolve(n)):$e(n)}const HW={exact:function eI(n,t,e){if(!ia(n.segments,t.segments)||!Ld(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!eI(n.children[i],t.children[i],e))return!1;return!0},subset:tI},QE={exact:function BW(n,t){return Co(n,t)},subset:function zW(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>KE(n[e],t[e]))},ignored:()=>!0};function JE(n,t,e){return HW[e.paths](n.root,t.root,e.matrixParams)&&QE[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function tI(n,t,e){return nI(n,t,t.segments,e)}function nI(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ia(r,e)||t.hasChildren()||!Ld(r,e,i))}if(n.segments.length===e.length){if(!ia(n.segments,e)||!Ld(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!tI(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ia(n.segments,r)&&Ld(n.segments,r,i)&&n.children[ot])&&nI(n.children[ot],t,o,i)}}function Ld(n,t,e){return t.every((i,r)=>QE[e](n[r].parameters,i.parameters))}class wl{constructor(t=new Bt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yl(this.queryParams)),this._queryParamMap}toString(){return UW.serialize(this)}}class Bt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vd(this)}}class lc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yl(this.parameters)),this._parameterMap}toString(){return oI(this)}}function ia(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let uc=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:function(){return new V_},providedIn:"root"})}return n})();class V_{parse(t){const e=new nG(t);return new wl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${cc(t.root,!0)}`,i=function YW(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Hd(e)}=${Hd(r)}`).join("&"):`${Hd(e)}=${Hd(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function $W(n){return encodeURI(n)}(t.fragment)}`:""}`}}const UW=new V_;function Vd(n){return n.segments.map(t=>oI(t)).join("/")}function cc(n,t){if(!n.hasChildren())return Vd(n);if(t){const e=n.children[ot]?cc(n.children[ot],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ot&&i.push(`${r}:${cc(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function GW(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===ot&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ot&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===ot?[cc(n.children[ot],!1)]:[`${r}:${cc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ot]?`${Vd(n)}/${e[0]}`:`${Vd(n)}/(${e.join("//")})`}}function iI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hd(n){return iI(n).replace(/%3B/gi,";")}function H_(n){return iI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bd(n){return decodeURIComponent(n)}function rI(n){return Bd(n.replace(/\+/g,"%20"))}function oI(n){return`${H_(n.path)}${function qW(n){return Object.keys(n).map(t=>`;${H_(t)}=${H_(n[t])}`).join("")}(n.parameters)}`}const XW=/^[^\/()?;#]+/;function B_(n){const t=n.match(XW);return t?t[0]:""}const KW=/^[^\/()?;=#]+/,QW=/^[^=?&#]+/,eG=/^[^&#]+/;class nG{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ot]=new Bt(t,e)),i}parseSegment(){const t=B_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(t),new lc(Bd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function ZW(n){const t=n.match(KW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=B_(this.remaining);r&&(i=r,this.capture(i))}t[Bd(e)]=Bd(i)}parseQueryParam(t){const e=function JW(n){const t=n.match(QW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function tG(n){const t=n.match(eG);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=rI(e),o=rI(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=B_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new X(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ot);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ot]:new Bt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new X(4011,!1)}}function sI(n){return n.segments.length>0?new Bt([],{[ot]:n}):n}function aI(n){const t={};for(const i of Object.keys(n.children)){const o=aI(n.children[i]);if(i===ot&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function iG(n){if(1===n.numberOfChildren&&n.children[ot]){const t=n.children[ot];return new Bt(n.segments.concat(t.segments),t.children)}return n}(new Bt(n.segments,t))}function ra(n){return n instanceof wl}function lI(n){let t;const r=sI(function e(o){const s={};for(const l of o.children){const u=e(l);s[l.outlet]=u}const a=new Bt(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function uI(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return z_(r,r,r,e,i);const o=function oG(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hI(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new hI(e,t,i)}(t);if(o.toRoot())return z_(r,r,new Bt([],{}),e,i);const s=function sG(n,t,e){if(n.isAbsolute)return new Wd(t,!0,0);if(!e)return new Wd(t,!1,NaN);if(null===e.parent)return new Wd(e,!0,0);const i=zd(n.commands[0])?0:1;return function aG(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new X(4005,!1);r=i.segments.length}return new Wd(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?dc(s.segmentGroup,s.index,o.commands):dI(s.segmentGroup,s.index,o.commands);return z_(r,s.segmentGroup,a,e,i)}function zd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hc(n){return"object"==typeof n&&null!=n&&n.outlets}function z_(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=n===t?e:cI(n,t,e);const a=sI(aI(s));return new wl(a,o,r)}function cI(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:cI(o,t,e)}),new Bt(n.segments,i)}class hI{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&zd(i[0]))throw new X(4003,!1);const r=i.find(hc);if(r&&r!==ZE(i))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function dI(n,t,e){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return dc(n,t,e);const i=function uG(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(hc(a))break;const l=`${a}`,u=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!pI(l,u,s))return o;i+=2}else{if(!pI(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Bt(n.segments.slice(0,i.pathIndex),{});return o.children[ot]=new Bt(n.segments.slice(i.pathIndex),n.children),dc(o,0,r)}return i.match&&0===r.length?new Bt(n.segments,{}):i.match&&!n.hasChildren()?W_(n,t,e):i.match?dc(n,0,r):W_(n,t,e)}function dc(n,t,e){if(0===e.length)return new Bt(n.segments,{});{const i=function lG(n){return hc(n[0])?n[0].outlets:{[ot]:n}}(e),r={};if(Object.keys(i).some(o=>o!==ot)&&n.children[ot]&&1===n.numberOfChildren&&0===n.children[ot].segments.length){const o=dc(n.children[ot],t,e);return new Bt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=dI(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Bt(n.segments,r)}}function W_(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(hc(o)){const l=cG(o.outlets);return new Bt(i,l)}if(0===r&&zd(e[0])){i.push(new lc(n.segments[t].path,fI(e[0]))),r++;continue}const s=hc(o)?o.outlets[ot]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&zd(a)?(i.push(new lc(s,fI(a))),r+=2):(i.push(new lc(s,{})),r++)}return new Bt(i,{})}function cG(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=W_(new Bt([],{}),0,i))}),t}function fI(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function pI(n,t,e){return n==e.path&&Co(t,e.parameters)}const fc="imperative";class xo{constructor(t,e){this.id=t,this.url=e}}class Gd extends xo{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cs extends xo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pc extends xo{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bl extends xo{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Ud extends xo{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gI extends xo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hG extends xo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dG extends xo{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fG extends xo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pG extends xo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gG{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mG{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _G{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vG{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yG{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wG{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mI{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class G_{}class U_{constructor(t){this.url=t}}class bG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gc,this.attachRef=null}}let gc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new bG,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class _I{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=q_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return q_(t,this._root).map(e=>e.value)}}function $_(n,t){if(n===t.value)return t;for(const e of t.children){const i=$_(n,e);if(i)return i}return null}function q_(n,t){if(n===t.value)return[t];for(const e of t.children){const i=q_(n,e);if(i.length)return i.unshift(t),i}return[]}class Yo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Cl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class vI extends _I{constructor(t,e){super(t),this.snapshot=e,Y_(this,t)}toString(){return this.snapshot.toString()}}function yI(n,t){const e=function CG(n,t){const s=new $d([],{},{},"",{},ot,t,null,{});return new bI("",new Yo(s,[]))}(0,t),i=new br([new lc("",{})]),r=new br({}),o=new br({}),s=new br({}),a=new br(""),l=new xl(i,r,s,a,o,ot,t,e.root);return l.snapshot=e.root,new vI(new Yo(l,[]),e)}class xl{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe($t(u=>u[ac]))??$e(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($t(t=>yl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($t(t=>yl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wI(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function xG(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class $d{get title(){return this.data?.[ac]}constructor(t,e,i,r,o,s,a,l,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bI extends _I{constructor(t,e){super(e),this.url=t,Y_(this,e)}toString(){return CI(this._root)}}function Y_(n,t){t.value._routerState=n,t.children.forEach(e=>Y_(n,e))}function CI(n){const t=n.children.length>0?` { ${n.children.map(CI).join(", ")} } `:"";return`${n.value}${t}`}function X_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Co(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Co(t.params,e.params)||n.paramsSubject.next(e.params),function VW(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Co(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Co(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function K_(n,t){const e=Co(n.params,t.params)&&function WW(n,t){return ia(n,t)&&n.every((e,i)=>Co(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||K_(n.parent,t.parent))}let xI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new qt,this.deactivateEvents=new qt,this.attachEvents=new qt,this.detachEvents=new qt,this.parentContexts=ve(gc),this.location=ve(vn),this.changeDetector=ve(Mr),this.environmentInjector=ve(Sr),this.inputBinder=ve(qd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new DG(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Te({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oi]})}return n})();class DG{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===xl?this.route:t===gc?this.childContexts:this.parent.get(t,e)}}const qd=new ye("");let DI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=N_([i.queryParams,i.params,i.data]).pipe(uo(([o,s,a],l)=>(a={...o,...s,...a},0===l?$e(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function YH(n){const t=vt(n);if(!t)return null;const e=new Lu(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})();function mc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function EG(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return mc(n,i,r);return mc(n,i)})}(n,t,e);return new Yo(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>mc(n,a)),s}}const i=function IG(n){return new xl(new br(n.url),new br(n.params),new br(n.queryParams),new br(n.fragment),new br(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>mc(n,o));return new Yo(i,r)}}const Z_="ngNavigationCancelingError";function SI(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ra(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=EI(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function EI(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Z_]=!0,i.cancellationCode=t,e&&(i.url=e),i}function II(n){return n&&n[Z_]}let MI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Oe({type:n,selectors:[["ng-component"]],standalone:!0,features:[TD],decls:1,vars:0,template:function(i,r){1&i&&lt(0,"router-outlet")},dependencies:[xI],encapsulation:2})}return n})();function Q_(n){const t=n.children&&n.children.map(Q_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ot&&(e.component=MI),e}function Kr(n){return n.outlet||ot}function _c(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class jG{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),X_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Cl(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Cl(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Cl(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Cl(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new wG(o.value.snapshot))}),t.children.length&&this.forwardEvent(new vG(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(X_(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),X_(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=_c(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class TI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yd{constructor(t,e){this.component=t,this.route=e}}function kG(n,t,e){const i=n._root;return vc(i,t?t._root:null,e,[i.value])}function Dl(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function iR(n){return null!==Zc(n)}(n)?t.get(n):n:i}function vc(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Cl(t);return n.children.forEach(s=>{(function LG(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function VG(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ia(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ia(n.url,t.url)||!Co(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K_(n,t)||!Co(n.queryParams,t.queryParams);default:return!K_(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new TI(i)):(o.data=s.data,o._resolvedData=s._resolvedData),vc(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Yd(a.outlet.component,s))}else s&&yc(t,a,r),r.canActivateChecks.push(new TI(i)),vc(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>yc(a,e.getContext(s),r)),r}function yc(n,t,e){const i=Cl(n),r=n.value;Object.entries(i).forEach(([o,s])=>{yc(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Yd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function wc(n){return"function"==typeof n}function PI(n){return n instanceof kd||"EmptyError"===n?.name}const Xd=Symbol("INITIAL_VALUE");function Sl(){return uo(n=>N_(n.map(t=>t.pipe(vl(1),function PW(...n){const t=nu(n);return qn((e,i)=>{(t?j_(n,e,t):j_(n,e)).subscribe(i)})}(Xd)))).pipe($t(t=>{for(const e of t)if(!0!==e){if(e===Xd)return Xd;if(!1===e||e instanceof wl)return e}return!0}),ws(t=>t!==Xd),vl(1)))}function AI(n){return function oA(...n){return Oy(n)}(_i(t=>{if(ra(t))throw SI(0,t)}),$t(t=>!0===t))}class Kd{constructor(t){this.segmentGroup=t||null}}class RI{constructor(t){this.urlTree=t}}function El(n){return oc(new Kd(n))}function OI(n){return oc(new RI(n))}class o3{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new X(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return $e(i);if(r.numberOfChildren>1||!r.children[ot])return oc(new X(4e3,!1));r=r.children[ot]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new wl(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Bt(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const J_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s3(n,t,e,i,r){const o=ev(n,t,e);return o.matched?(i=function TG(n,t){return n.providers&&!n._injector&&(n._injector=Mm(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function n3(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?$e(r.map(s=>{const a=Dl(s,n);return bs(function UG(n){return n&&wc(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Sl(),AI()):$e(!0)}(i,t,e).pipe($t(s=>!0===s?o:{...J_}))):$e(o)}function ev(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...J_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||LW)(e,n,t);if(!r)return{...J_};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function NI(n,t,e,i){return e.length>0&&function u3(n,t,e){return e.some(i=>Zd(n,t,i)&&Kr(i)!==ot)}(n,e,i)?{segmentGroup:new Bt(t,l3(i,new Bt(e,n.children))),slicedSegments:[]}:0===e.length&&function c3(n,t,e){return e.some(i=>Zd(n,t,i))}(n,e,i)?{segmentGroup:new Bt(n.segments,a3(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Bt(n.segments,n.children),slicedSegments:e}}function a3(n,t,e,i,r){const o={};for(const s of i)if(Zd(n,e,s)&&!r[Kr(s)]){const a=new Bt([],{});o[Kr(s)]=a}return{...r,...o}}function l3(n,t){const e={};e[ot]=t;for(const i of n)if(""===i.path&&Kr(i)!==ot){const r=new Bt([],{});e[Kr(i)]=r}return e}function Zd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class p3{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new o3(this.urlSerializer,this.urlTree)}noMatchError(t){return new X(4002,!1)}recognize(){const t=NI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ot).pipe(na(e=>{if(e instanceof RI)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Kd?this.noMatchError(e):e}),$t(e=>{const i=new $d([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ot,this.rootComponentType,null,{}),r=new Yo(i,e),o=new bI("",r),s=function rG(n,t,e=null,i=null){return uI(lI(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,ot).pipe(na(i=>{throw i instanceof Kd?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=wI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Jn(r).pipe(sc(o=>{const s=i.children[o],a=function OG(n,t){const e=n.filter(i=>Kr(i)===t);return e.push(...n.filter(i=>Kr(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),function OW(n,t){return qn(function RW(n,t,e,i,r){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(Hn(s,c=>{const h=u++;l=a?n(l,c,h):(a=!0,c),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Fd(null),function NW(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ws((r,o)=>n(r,o,i)):ss,F_(1),e?Fd(t):XE(()=>new kd))}(),ti(o=>{if(null===o)return El(i);const s=jI(o);return function g3(n){n.sort((t,e)=>t.value.outlet===ot?-1:e.value.outlet===ot?1:t.value.outlet.localeCompare(e.value.outlet))}(s),$e(s)}))}processSegment(t,e,i,r,o,s){return Jn(e).pipe(sc(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(na(l=>{if(l instanceof Kd)return $e(null);throw l}))),ta(a=>!!a),na(a=>{if(PI(a))return function d3(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?$e([]):El(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function h3(n,t,e,i){return!!(Kr(n)===i||i!==ot&&Zd(t,e,n))&&("**"===n.path||ev(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):El(r):El(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?OI(o):this.applyRedirects.lineralizeSegments(i,o).pipe(ti(s=>{const a=new Bt(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=ev(e,r,o);if(!a)return El(e);const h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return r.redirectTo.startsWith("/")?OI(h):this.applyRedirects.lineralizeSegments(r,h).pipe(ti(d=>this.processSegment(t,i,e,d.concat(u),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?ZE(r).parameters:{};a=$e({snapshot:new $d(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kI(i),Kr(i),i.component??i._loadedComponent??null,i,FI(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=s3(e,i,r,t).pipe($t(({matched:l,consumedSegments:u,remainingSegments:c,parameters:h})=>l?{snapshot:new $d(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kI(i),Kr(i),i.component??i._loadedComponent??null,i,FI(i)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(uo(l=>null===l?El(e):this.getChildConfig(t=i._injector??t,i,r).pipe(uo(({routes:u})=>{const c=i._loadedInjector??t,{snapshot:h,consumedSegments:d,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=NI(e,d,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe($t(_=>null===_?null:[new Yo(h,_)]));if(0===u.length&&0===g.length)return $e([new Yo(h,[])]);const m=Kr(i)===o;return this.processSegment(c,u,p,g,m?ot:o,!0).pipe($t(_=>[new Yo(h,_)]))}))))}getChildConfig(t,e,i){return e.children?$e({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?$e({routes:e._loadedRoutes,injector:e._loadedInjector}):function t3(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?$e(!0):$e(r.map(s=>{const a=Dl(s,n);return bs(function BG(n){return n&&wc(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Sl(),AI())}(t,e,i).pipe(ti(r=>r?this.configLoader.loadChildren(t,e).pipe(_i(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function r3(n){return oc(EI(!1,3))}())):$e({routes:[],injector:t})}}function m3(n){const t=n.value.routeConfig;return t&&""===t.path}function jI(n){const t=[],e=new Set;for(const i of n){if(!m3(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=jI(i.children);t.push(new Yo(i.value,r))}return t.filter(i=>!e.has(i))}function kI(n){return n.data||{}}function FI(n){return n.resolve||{}}function LI(n){return"string"==typeof n.title||null===n.title}function tv(n){return uo(t=>{const e=n(t);return e?Jn(e).pipe($t(()=>t)):$e(t)})}const Il=new ye("ROUTES");let nv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ve(bS)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return $e(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=bs(e.loadComponent()).pipe($t(VI),_i(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),L_(()=>{this.componentLoaders.delete(e)})),r=new YE(i,()=>new Br).pipe(k_());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $e({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function x3(n,t,e,i){return bs(n.loadChildren()).pipe($t(VI),ti(r=>r instanceof ID||Array.isArray(r)?$e(r):Jn(t.compileModuleAsync(r))),$t(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Il,[],{optional:!0,self:!0}).flat()),{routes:s.map(Q_),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(L_(()=>{this.childrenLoaders.delete(i)})),s=new YE(o,()=>new Br).pipe(k_());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VI(n){return function D3(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Qd=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Br,this.transitionAbortSubject=new Br,this.configLoader=ve(nv),this.environmentInjector=ve(Sr),this.urlSerializer=ve(uc),this.rootContexts=ve(gc),this.inputBindingEnabled=null!==ve(qd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$e(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new mG(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new gG(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new br({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ws(o=>0!==o.id),$t(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),uo(o=>{this.currentTransition=o;let s=!1,a=!1;return $e(o).pipe(_i(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),uo(l=>{const u=l.currentBrowserUrl.toString(),c=!e.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const d="";return this.events.next(new bl(l.id,this.urlSerializer.serialize(l.rawUrl),d,0)),l.resolve(null),lo}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $e(l).pipe(uo(d=>{const f=this.transitions?.getValue();return this.events.next(new Gd(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?lo:Promise.resolve(d)}),function _3(n,t,e,i,r,o){return ti(s=>function f3(n,t,e,i,r,o,s="emptyOnly"){return new p3(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe($t(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),_i(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new gI(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:d,extractedUrl:f,source:p,restoredState:g,extras:m}=l,_=new Gd(d,this.urlSerializer.serialize(f),p,g);this.events.next(_);const v=yI(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:v,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},$e(o)}{const d="";return this.events.next(new bl(l.id,this.urlSerializer.serialize(l.extractedUrl),d,1)),l.resolve(null),lo}}),_i(l=>{const u=new hG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),$t(l=>(this.currentTransition=o={...l,guards:kG(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function qG(n,t){return ti(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?$e({...e,guardsResult:!0}):function YG(n,t,e,i){return Jn(n).pipe(ti(r=>function e3(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?$e(o.map(a=>{const l=_c(t)??r,u=Dl(a,l);return bs(function GG(n){return n&&wc(n.canDeactivate)}(u)?u.canDeactivate(n,t,e,i):l.runInContext(()=>u(n,t,e,i))).pipe(ta())})).pipe(Sl()):$e(!0)}(r.component,r.route,e,t,i)),ta(r=>!0!==r,!0))}(s,i,r,n).pipe(ti(a=>a&&function HG(n){return"boolean"==typeof n}(a)?function XG(n,t,e,i){return Jn(t).pipe(sc(r=>j_(function ZG(n,t){return null!==n&&t&&t(new _G(n)),$e(!0)}(r.route.parent,i),function KG(n,t){return null!==n&&t&&t(new yG(n)),$e(!0)}(r.route,i),function JG(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function FG(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>qE(()=>$e(s.guards.map(l=>{const u=_c(s.node)??e,c=Dl(l,u);return bs(function WG(n){return n&&wc(n.canActivateChild)}(c)?c.canActivateChild(i,n):u.runInContext(()=>c(i,n))).pipe(ta())})).pipe(Sl())));return $e(o).pipe(Sl())}(n,r.path,e),function QG(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return $e(!0);const r=i.map(o=>qE(()=>{const s=_c(t)??e,a=Dl(o,s);return bs(function zG(n){return n&&wc(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(ta())}));return $e(r).pipe(Sl())}(n,r.route,e))),ta(r=>!0!==r,!0))}(i,o,n,t):$e(a)),$t(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),_i(l=>{if(o.guardsResult=l.guardsResult,ra(l.guardsResult))throw SI(0,l.guardsResult);const u=new dG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ws(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),tv(l=>{if(l.guards.canActivateChecks.length)return $e(l).pipe(_i(u=>{const c=new fG(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),uo(u=>{let c=!1;return $e(u).pipe(function v3(n,t){return ti(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return $e(e);let o=0;return Jn(r).pipe(sc(s=>function y3(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!LI(r)&&(o[ac]=r.title),function w3(n,t,e,i){const r=function b3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return $e({});const o={};return Jn(r).pipe(ti(s=>function C3(n,t,e,i){const r=_c(t)??i,o=Dl(n,r);return bs(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(ta(),_i(a=>{o[s]=a}))),F_(1),function jW(n){return $t(()=>n)}(o),na(s=>PI(s)?lo:oc(s)))}(o,n,t,i).pipe($t(s=>(n._resolvedData=s,n.data=wI(n,e).resolve,r&&LI(r)&&(n.data[ac]=r.title),null)))}(s.route,i,n,t)),_i(()=>o++),F_(1),ti(s=>o===r.length?$e(e):lo))})}(e.paramsInheritanceStrategy,this.environmentInjector),_i({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),_i(u=>{const c=new pG(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),tv(l=>{const u=c=>{const h=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(c.routeConfig).pipe(_i(d=>{c.component=d}),$t(()=>{})));for(const d of c.children)h.push(...u(d));return h};return N_(u(l.targetSnapshot.root)).pipe(Fd(),vl(1))}),tv(()=>this.afterPreactivation()),$t(l=>{const u=function SG(n,t,e){const i=mc(n,t._root,e?e._root:void 0);return new vI(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),_i(()=>{this.events.next(new G_)}),((n,t,e,i)=>$t(r=>(new jG(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),vl(1),_i({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function kW(n){return qn((t,e)=>{or(n).subscribe(Hn(e,()=>e.complete(),tp)),!e.closed&&t.subscribe(e)})}(this.transitionAbortSubject.pipe(_i(l=>{throw l}))),L_(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),na(l=>{if(a=!0,II(l))this.events.next(new pc(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function MG(n){return II(n)&&ra(n.url)}(l)?this.events.next(new U_(l.url)):o.resolve(!1);else{this.events.next(new Ud(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(u){o.reject(u)}}return lo}))}))}cancelNavigationTransition(e,i,r){const o=new pc(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HI(n){return n!==fc}let BI=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ot);return i}getResolvedTitleForRoute(e){return e.data[ac]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:function(){return ve(S3)},providedIn:"root"})}return n})(),S3=(()=>{class n extends BI{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(VE))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:function(){return ve(M3)},providedIn:"root"})}return n})();class I3{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let M3=(()=>{class n extends I3{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=function ai(n){return No(()=>{const t=n.prototype.constructor,e=t[jo]||Zp(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[jo]||Zp(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}(n)))(r||n)}}();static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Jd=new ye("",{providedIn:"root",factory:()=>({})});let T3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:function(){return ve(P3)},providedIn:"root"})}return n})(),P3=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(bc||{});function zI(n,t){n.events.pipe(ws(e=>e instanceof Cs||e instanceof pc||e instanceof Ud||e instanceof bl),$t(e=>e instanceof Cs||e instanceof bl?bc.COMPLETE:e instanceof pc&&(0===e.code||1===e.code)?bc.REDIRECTING:bc.FAILED),ws(e=>e!==bc.REDIRECTING),vl(1)).subscribe(()=>{t()})}function A3(n){throw n}function R3(n,t,e){return t.parse("/")}const O3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ve(yS),this.isNgZoneEnabled=!1,this._events=new Br,this.options=ve(Jd,{optional:!0})||{},this.pendingTasks=ve(wS),this.errorHandler=this.options.errorHandler||A3,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||R3,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ve(T3),this.routeReuseStrategy=ve(E3),this.titleStrategy=ve(BI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ve(Il,{optional:!0})?.flat()??[],this.navigationTransitions=ve(Qd),this.urlSerializer=ve(uc),this.location=ve(l_),this.componentInputBindingEnabled=!!ve(qd,{optional:!0}),this.eventsSubscription=new rr,this.isNgZoneEnabled=ve(Vt)instanceof Vt&&Vt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yI(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(WI(i)&&this._events.next(i));if(i instanceof Gd)HI(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof bl)this.rawUrlTree=r.rawUrl;else if(i instanceof gI){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof G_)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof pc)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof U_){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||HI(r.source)};this.scheduleNavigation(o,fc,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Ud&&this.restoreHistory(r,!0),i instanceof Cs&&(this.navigated=!0),WI(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fc,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Q_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s;let h,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{h=lI(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),h=this.currentUrlTree.root}return uI(h,e,c,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ra(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,fc,null,i)}navigate(e,i={skipLocationChange:!1}){return function j3(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new X(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...O3}:!1===i?{...N3}:i,ra(e))return JE(this.currentUrlTree,e,r);const o=this.parseUrl(e);return JE(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((h,d)=>{a=h,l=d});const c=this.pendingTasks.add();return zI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WI(n){return!(n instanceof G_||n instanceof U_)}class GI{}let L3=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ws(e=>e instanceof Cs),sc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Mm(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Jn(r).pipe(ya())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):$e(null);const o=r.pipe(ti(s=>null===s?$e(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?Jn([o,this.loader.loadComponent(i)]).pipe(ya()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(Rr),Fe(bS),Fe(Sr),Fe(GI),Fe(nv))};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rv=new ye("");let UI=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Gd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Cs?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof bl&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof mI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Yg()};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac})}return n})();function Xo(n,t){return{\u0275kind:n,\u0275providers:t}}function qI(){const n=ve(q);return t=>{const e=n.get(gl);if(t!==e.components[0])return;const i=n.get(Rr),r=n.get(YI);1===n.get(ov)&&i.initialNavigation(),n.get(XI,null,ct.Optional)?.setUpPreloading(),n.get(rv,null,ct.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const YI=new ye("",{factory:()=>new Br}),ov=new ye("",{providedIn:"root",factory:()=>1}),XI=new ye("");function z3(n){return Xo(0,[{provide:XI,useExisting:L3},{provide:GI,useExisting:n}])}const KI=new ye("ROUTER_FORROOT_GUARD"),G3=[l_,{provide:uc,useClass:V_},Rr,gc,{provide:xl,useFactory:function $I(n){return n.routerState.root},deps:[Rr]},nv,[]];function U3(){return new MS("Router",Rr)}let ZI=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[G3,[],{provide:Il,multi:!0,useValue:e},{provide:KI,useFactory:X3,deps:[[Rr,new Ee,new Le]]},{provide:Jd,useValue:i||{}},i?.useHash?{provide:Js,useClass:JH}:{provide:Js,useClass:rE},{provide:rv,useFactory:()=>{const n=ve(yz),t=ve(Vt),e=ve(Jd),i=ve(Qd),r=ve(uc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new UI(r,i,n,t,e)}},i?.preloadingStrategy?z3(i.preloadingStrategy).\u0275providers:[],{provide:MS,multi:!0,useFactory:U3},i?.initialNavigation?K3(i):[],i?.bindToComponentInputs?Xo(8,[DI,{provide:qd,useExisting:DI}]).\u0275providers:[],[{provide:QI,useFactory:qI},{provide:Qm,multi:!0,useExisting:QI}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Il,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Fe(KI,8))};static#t=this.\u0275mod=Hi({type:n});static#n=this.\u0275inj=Di({})}return n})();function X3(n){return"guarded"}function K3(n){return["disabled"===n.initialNavigation?Xo(3,[{provide:Gm,multi:!0,useFactory:()=>{const t=ve(Rr);return()=>{t.setUpLocationChangeListener()}}},{provide:ov,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xo(2,[{provide:ov,useValue:0},{provide:Gm,multi:!0,deps:[q],useFactory:t=>{const e=t.get(ZH,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Rr),o=t.get(YI);zI(r,()=>{i(!0)}),t.get(Qd).afterPreactivation=()=>(i(!0),o.closed?$e(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const QI=new ye(""),Q3=[];let J3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Hi({type:n});static#n=this.\u0275inj=Di({imports:[ZI.forRoot(Q3),ZI]})}return n})();var n,Zr=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),eU=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},Ml=typeof navigator<"u"?navigator.userAgent:"",tU=null!=Ml.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);function JI(){return tU}var nU=null!=Ml.match(/iPad|iPhone|iPod/i);function sv(){return nU}var iU=null!=Ml.match(/Firefox\//);function xs(){return iU}var rU=null!=Ml.match(/^((?!Chrome|Android).)*safari/i);function Ko(){return rU}var oU=null!=Ml.match(/Edge\/|Edg\//);function Ds(){return oU}var sU=null!=Ml.match(/MSIE |Trident\/|Edge\//);function pt(){return sU}var eM=!1;function Zo(){return eM}var tM=!1;function nM(){return tM}var iM=!1;function ef(n,t){return iM?{capture:n,passive:t}:n}typeof document<"u"&&document.addEventListener("test",function(n){},{get passive(){return iM=!0,!0}});var rM=!1;function oM(){return rM}function sM(n,t){n.effectAllowed=t,xs()&&n.setData("text","")}if(typeof document<"u"&&document.createElement("div").focus({get preventScroll(){return rM=!0,!0}}),typeof document<"u"&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(tM=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(eM=!0,document.addEventListener("mousemove",function(n){if(1==n.which){var t=be(n.target,".wj-control");if(t&&!t.style.cursor)for(var e=n.target;e;e=e.parentElement)if(e.attributes&&e.attributes.draggable)return e.dragDrop(),!1}}))),typeof window<"u"){var aM="requestAnimationFrame";if(!window[aM]){var av=0;window[aM]=function(n){var t=Date.now(),e=16-(t-av),i=e>0?e:0;return av=t+i,setTimeout(function(){n(av)},i)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lU=new RegExp("[^"+Tl+"]");window.atob=function(n){var t,e,i,r,o=[],s=0,a=n.length;if(lU.test(n)||/=/.test(n)&&(/=[^=]/.test(n)||/={3}/.test(n)))throw new Error("Invalid base64 data");for(a%4>0&&(a=(n+=Array(4-a%4+1).join("=")).length);s<a;){for(e=[],r=s;s<r+4;)e.push(Tl.indexOf(n.charAt(s++)));for(i=[((t=(e[0]<<18)+(e[1]<<12)+((63&e[2])<<6)+(63&e[3]))&255<<16)>>16,64===e[2]?-1:(65280&t)>>8,64===e[3]?-1:255&t],r=0;r<3;++r)(i[r]>=0||0===r)&&o.push(String.fromCharCode(i[r]))}return o.join("")},window.btoa=function(n){for(var t,e,i=[],r=0,o=n.length;r<o;)t=((e=[n.charCodeAt(r++),n.charCodeAt(r++),n.charCodeAt(r++)])[0]<<16)+((e[1]||0)<<8)+(e[2]||0),i.push(Tl.charAt((t&63<<18)>>18),Tl.charAt((258048&t)>>12),Tl.charAt(isNaN(e[1])?64:(4032&t)>>6),Tl.charAt(isNaN(e[2])?64:63&t));return i.join("")}}}var Pl=typeof window<"u"&&window.Symbol?Symbol("_getProxyTarget"):"\t_get\tProxy\tTarget\t";function lM(n,t,e){var i=new WeakMap;if(!e){var r={};if(n.length){var o=n[0];for(var s in o){var a=typeof o[s];r[s]="string"==a?"":"number"==a?0:null}e=r}}return new Proxy(n,{get:function(l,u){if(u===Pl)return l;if("string"==typeof u||"number"==typeof u){if("indexOf"==u)return function(f,p){var g=l.indexOf(f,p);return g<0&&f&&(f=f[Pl])&&(g=l.indexOf(f,p)),g};var c=parseInt(u);if(!isNaN(c)){var h=l[c];if(h&&!h[Pl]){var d=i.get(h);d||(d=function uU(n,t,e){if(!n[Pl]){if(pt())for(var i in t)n[i]=null;var r={get:function(o,s,a){if(s===Pl)return o;if("constructor"===s)return function(){return Object.assign({},e||{})};var l=t[s];if(l)switch(typeof l){case"function":return l(a);case"string":return function cU(n,t){var e=[t];return(new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+n])))).apply(void 0,e)}(l,a)}return o[s]}};pt()||(r.ownKeys=function(o){return Object.keys(o).concat(Object.keys(t))},r.getOwnPropertyDescriptor=function(o,s){return s in t?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(o,s)}),n=new Proxy(n,r)}return n}(h,t,e),i.set(h,d)),h=d}return h}}return Reflect.get(l,u)}})}function uM(n){return(n?n[Pl]:null)||n}var lv,hU=function(){function n(){this._hasDoc=typeof Document<"u",this._ae=this._nativeAe();var t=window,e=this._onBlur.bind(this),i=this._onFocus.bind(this);t.addEventListener("focusout",e,!0),t.addEventListener("focusin",i,!0),pt()||(t.addEventListener("blur",e,!0),t.addEventListener("focus",i,!0))}return Object.defineProperty(n.prototype,"activeElement",{get:function(){var t=this._ae,e=this._nativeAe();return t===n._noAe?t=this._ae=e:t!=e&&(this._isSpecialRoot(t)||document.body.contains(t)||(t=this._ae=e)),t!==n._noAe?t:null},enumerable:!0,configurable:!0}),n.prototype._onBlur=function(t){if(t.isTrusted){var e=t.relatedTarget;this._ae=this._isSpecialRoot(e)?this._nativeAe():e}},n.prototype._onFocus=function(t){t.isTrusted&&(this._ae=this._nativeAe())},n.prototype._isSpecialRoot=function(t){return null==t||t===document.body||this._hasDoc&&t instanceof Document},n.prototype._nativeAe=function(){var t;try{t="unknown"!=typeof document.activeElement?document.activeElement:n._noAe}catch{t=n._noAe}return t},n._noAe={},n}();typeof window<"u"&&(lv=new hU);var yn,At=function(){function n(t){this.path=t}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var i=this._parts[e],r=i.indexOf("[");r>-1&&(this._parts[e]=i.substr(0,r),this._parts.splice(++e,0,parseInt(i.substr(r+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},n.prototype.setValue=function(t,e){if(t)try{var i=this._path;if(i in t)return t[i]=e,t[i]==e;for(var r=0;r<this._parts.length-1;r++)if(null==(t=t[this._parts[r]]))return!1;return t[i=this._parts[this._parts.length-1]]=e,t[i]==e}catch{return!1}return!1},n}(),dU=function(t,e){this.handler=t,this.self=e},k=function(){function n(t){this._handlers=[],this._handlersChanged=t}return n.prototype.addHandler=function(t,e){t=Ot(t),this._handlers.push(new dU(t,e)),Ge(this._handlersChanged)&&this._handlersChanged()},n.prototype.getHandler=function(t){void 0===t&&(t=0);var e=this._handlers[t];if(e)return e.handler},n.prototype.removeHandler=function(t,e){var i=!1;t=Ot(t);for(var r=0;r<this._handlers.length;r++){var o=this._handlers[r];if(!(o.handler!=t&&null!=t||o.self!=e&&null!=e)&&(this._handlers.splice(r--,1),i=!0,t&&e))break}i&&Ge(this._handlersChanged)&&this._handlersChanged()},n.prototype.removeAllHandlers=function(){var t=this._handlers.length>0;this._handlers.length=0,t&&Ge(this._handlersChanged)&&this._handlersChanged()},n.prototype.raise=function(t,e){void 0===e&&(e=Do.empty);for(var i=this._handlers,r=0;r<i.length;r++){var o=i[r];o.handler.call(o.self,t,e),i[r]!==o&&r--}},Object.defineProperty(n.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),n}(),Do=function(){function n(){}return n.empty=new n,n}(),zt=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.cancel=!1,e}return Zr(t,n),t}(Do),cM=function(n){function t(e,i,r){var o=n.call(this)||this;return o._name=e,o._oldVal=i,o._newVal=r,o}return Zr(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(Do),fU=function(n){function t(e,i){var r=n.call(this)||this;return r._xhr=e,r._msg=i,r}return Zr(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(e){this._msg=e},enumerable:!0,configurable:!0}),t}(zt);!function(n){n[n.Add=0]="Add",n[n.Remove=1]="Remove",n[n.Change=2]="Change",n[n.Reset=3]="Reset"}(yn||(yn={}));var A,ze,Or=function(n){function t(e,i,r){void 0===e&&(e=yn.Reset),void 0===i&&(i=null),void 0===r&&(r=-1);var o=n.call(this)||this;return o.action=e,o.item=i,o.index=r,o}return Zr(t,n),t.reset=new t(yn.Reset),t}(Do),oa=function(){function n(t,e){this._bnd=new At(t),this._asc=e}return Object.defineProperty(n.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),n}(),hM=function(n){function t(e){var i=n.call(this)||this;return i.newPageIndex=e,i}return Zr(t,n),t}(zt),uv=function(){function n(){}return n.prototype.groupNameFromItem=function(t,e){return""},n.prototype.namesMatch=function(t,e){return t===e},n}(),cv=function(n){function t(e,i){var r=n.call(this)||this;return r._bnd=new At(e),r._converter=i,r}return Zr(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(e,i){return this._converter?this._converter(e,this.propertyName):this._bnd.getValue(e)},t.prototype.namesMatch=function(e,i){return e===i},t}(uv),pU={},gU="5.20241.9";function hv(){return gU}function mU(n){z._licKey=n}function Tn(n,t){return null==n?null:xe(t)?Ge(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function Cc(n){return xe(n)||J(n)||Zn(n)||wt(n)}function xe(n){return"string"==typeof n}function _U(n){return!n||!/\S/.test(n)}function J(n){return"number"==typeof n}function tf(n){return J(n)&&n==Math.round(n)}function Zn(n){return"boolean"==typeof n}function Ge(n){return"function"==typeof n}function fr(n){return void 0===n}function wt(n){return(n instanceof Date||"[object Date]"===Object.prototype.toString.call(n))&&!isNaN(n.getTime())}function Rt(n){return n instanceof Array||Array.isArray(n)||"[object Array]"===Object.prototype.toString.call(n)}function li(n){return null!=n&&"object"==typeof n&&!wt(n)&&!Rt(n)}function vU(n){for(var t in n)return!1;return!0}function dv(n){for(var t=n,e=0;null!=document.getElementById(t);e++)t=n+e;return t}function xc(){for(var n="",t="0123456789abcdef".split(""),e=0;e<32;e++){var i=Math.floor(16*Math.random());switch(e){case 8:case 20:n+="-";break;case 12:i=4,n+="-";break;case 16:i=3&i|8,n+="-"}n+=t[i]}return n}function Ss(n){if(n instanceof T)return n;if(n&&n.touches&&n.touches.length>0&&(n=n.touches[0]),J(n.clientX)&&J(n.clientY))return new T(n.clientX+pageXOffset,n.clientY+pageYOffset);throw"Mouse or touch event expected."}function Es(n){return J(n)?ze.Number:Zn(n)?ze.Boolean:wt(n)?ze.Date:xe(n)?ze.String:Rt(n)?ze.Array:ze.Object}function dM(n,t){if(void 0===t&&(t=1e3),!n)return[];var e=n.length;(t<=0||e<t)&&(t=e);var i=[];if(t){for(var r=Object.keys(n[0]),o={},s=r.slice(),a=0;a<t;a++){for(var l=n[a],u=s.length-1;u>=0;u--){var c=s[u],h=l[c];if(Cc(h)){var d=Object.getOwnPropertyDescriptor(n[a],c);o[c]={binding:c,dataType:Es(h),isReadOnly:d&&!d.writable&&!d.set},s.splice(u,1)}}if(!s.length)break}for(a=0;a<r.length;a++){var f=o[r[a]];f&&i.push(f)}}return i}function nf(n,t,e,i){if(null!=n){var r=ze;if(xe(n))switch(t){case r.Number:var o=Se.parseFloat(n,e);return isNaN(o)?n:o;case r.Date:var s=Se.parseDate(n,e,wt(i)?i:null);return s||e||!n||(s=new Date(n)),s&&isFinite(s.getTime())?s:n;case r.Boolean:switch(n.toLowerCase()){case"true":return!0;case"false":return!1}return n;case r.Array:try{var a=n.split(",").map(function(l){return(l=l.trim()).match(/^(\+|\-)?\d+\.?\d*$/)?l:'"'+l+'"'});return JSON.parse("["+a.join(",")+"]")}catch{}}if(t==ze.String)return Se.format(n,e)}return n}function fv(n,t,e){if(e){var i=n.toString(),r=i.indexOf("e"),o=i.indexOf(".");if(r>-1){if("-"===i[r+1]){var s=parseFloat(i.substr(r+2)),a=i.substr(0,r);o>-1&&(a=a.substr(0,o)+a.substr(o+1)),i="0."+(Array(s).join("0")+a).substr(0,t),n=parseFloat(i)}}else o>-1&&(i=i.substr(0,o+1+t),n=parseFloat(i))}else{var l=Math.pow(10,t);n=Math.round(n*l)/l}return n}function pr(n,t,e){if((n=U(n)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var i=JSON.parse(n);if(xe(i.count)){var r=t[i.count],o=i.when;if(J(r)&&li(o)){var s=o[r]||o.other;xe(s)&&(n=s)}}}catch{}return n.replace(/\{(.*?)(:(.*?))?\}/g,function(a,l,u,c){var h=a;return l&&"{"!=l[0]&&t&&(h=new At(l).getValue(t),c&&(h=Se.format(h,c)),e&&(h=e(t,l,c,h))),h??""})}function pv(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=[],i=-1;return n[0].forEach(function(r,o){if(o>0&&o!=i){var s=n[o],a=r.match(/^:([a-z][0-9]*\b)/i)||r.match(/^:'(.+?)'/)||r.match(/^:"(.+?)"/);a?(s=Se.format(s,a[1]),r=r.substr(a[0].length)):":"==r&&o<n.length-1&&(J(s)||wt(s))&&(s=Se.format(s,n[o+1]),r="",i=o+1),e.push(s)}r&&e.push(r)}),e.join("")}function fM(n,t){return pt()?(n=n.replace(/:\${([^}]*)}/g,function(e,i){return":"+gv(i,t)})).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,function(e,i,r,o,s,a,l){var u=gv(i,t);return o?Se.format(u,s||a||l):u}):gv(n,t)}function gv(n,t){(t=t||{}).glbz=pv;var e=function wU(n,t,e){return n.replace(/\$\{.+?}/g,function(i){return function yU(n,t,e){return void 0===e&&(e="${"+n+"}"),n.split(".").reduce(function(i,r){return null!=i&&null!=i[r]?i[r]:e},t)}(i.substr(2,i.length-3).trim(),t,e)})}(n,t);return pt()?e:pv(PM||(PM=eU(["",""],["",""])),e)}function Ne(n,t,e){return null!=n&&(null!=e&&n>e&&(n=e),null!=t&&n<t&&(n=t)),n}function vi(n,t){if(t)for(var e in t)if("_"!=e[0]){ge(e in n,'Unknown property "'+e+'".');var i=t[e];n._copy&&n._copy(e,i)||(n[e]instanceof k?Ge(i)&&n[e].addHandler(i):!li(i)||typeof Element<"u"&&i instanceof Element||!n[e]||"itemsSource"==e?n[e]=i:vi(n[e],i))}return n}function ge(n,t){if(!n){t="** Assertion failed in Wijmo: "+t;var e=new Error;throw xe(e.stack)&&(t+=" "+e.stack),t}}function Dc(n,t){console.error('** WARNING: "'+n+'" has been deprecated; please use "'+t+'" instead.')}function U(n,t){return void 0===t&&(t=!0),fr(n)&&(n=null),ge(t&&null==n||xe(n),"String expected."),n}function F(n,t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),ge(t&&null==n||J(n),"Number expected."),e&&n&&n<0)throw"Positive number expected.";return n}function Xt(n,t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),ge(t&&null==n||tf(n),"Integer expected."),e&&n&&n<0)throw"Positive integer expected.";return n}function N(n,t){return void 0===t&&(t=!1),ge(t&&null==n||Zn(n),"Boolean expected."),n}function yi(n,t){if(void 0===t&&(t=!1),xe(n)){var e=nf(n,ze.Date,"r");wt(e)&&(n=e)}return ge(t&&null==n||wt(n),"Date expected."),n}function Ot(n,t){return void 0===t&&(t=!0),ge(t&&null==n||Ge(n),"Function expected."),n}function Dn(n,t){return void 0===t&&(t=!0),ge(t&&null==n||Rt(n),"Array expected."),n}function Pe(n,t,e){return void 0===e&&(e=!1),n=Tn(n,t),ge(e||null!=n,t+" expected."),n}function Ie(n,t,e){if(void 0===e&&(e=!1),null==n&&e)return null;var i=xe(n)?t[n]:n;return ge(null!=i,'Invalid enum value: "'+n+'"'),J(i)?i:n}function Is(n,t){return void 0===t&&(t=!0),null==n&&t?null:Tn(n,"ICollectionView")??(Rt(n)||ge(!1,"Array or ICollectionView expected."),new gr(n))}function Pn(n){return null!=n&&null!=n.items&&n.items.length>0}function rf(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function Qr(n){return n&&xe(n)&&(n=n.replace(/[&<>]/g,function(t){return bU[t]})),null!=n?n.toString():""}!function(n){n[n.Back=8]="Back",n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.Left=37]="Left",n[n.Up=38]="Up",n[n.Right=39]="Right",n[n.Down=40]="Down",n[n.Delete=46]="Delete",n[n.X=88]="X",n[n.F1=112]="F1",n[n.F2=113]="F2",n[n.F3=114]="F3",n[n.F4=115]="F4",n[n.F5=116]="F5",n[n.F6=117]="F6",n[n.F7=118]="F7",n[n.F8=119]="F8",n[n.F9=120]="F9",n[n.F10=121]="F10",n[n.F11=122]="F11",n[n.F12=123]="F12"}(A||(A={})),function(n){n[n.Object=0]="Object",n[n.String=1]="String",n[n.Number=2]="Number",n[n.Boolean=3]="Boolean",n[n.Date=4]="Date",n[n.Array=5]="Array"}(ze||(ze={}));var sf,bU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function mv(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function qi(n){var t=U(n);return xe(t)&&t.indexOf("<")>-1&&(sf||(sf=document.createElement("div")),sf.innerHTML=t,t=sf.textContent),t}function gt(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Zo())return n.classList.contains(t);if(n.getAttribute){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");return n&&e.test(n.getAttribute("class"))}}return!1}function Me(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Zo())return void(t.indexOf(" ")<0?n.classList.add(t):t.split(" ").forEach(function(e){n.classList.add(e)}));n.setAttribute&&t.split(" ").forEach(function(e){if(!gt(n,e)){var i=n.getAttribute("class");n.setAttribute("class",i?i+" "+e:e)}})}}function ui(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!Zo())return void(t.indexOf(" ")<0?n.classList.remove(t):t.split(" ").forEach(function(e){n.classList.remove(e)}));n.setAttribute&&t.split(" ").forEach(function(e){if(gt(n,e)){var i=new RegExp("((\\s|^)"+e+"(\\s|$))","g"),r=n.getAttribute("class");(r=r.replace(i," ").replace(/ +/g," ").trim())?n.setAttribute("class",r):n.removeAttribute("class")}})}}function qe(n,t,e){null==e&&(e=!gt(n,t)),e?Me(n,t):ui(n,t)}function $(n,t,e,i){n&&(null!=e?i&&n.getAttribute(t)||n.setAttribute(t,e.toString()):n.removeAttribute(t))}function Al(n,t){var e=null==t;n.checked=pt()?t||e:t,n.indeterminate=e}function An(n,t){$(n,"aria-label",t)}function st(n,t,e,i){if(void 0===e&&(e=t),void 0===i&&(i=!0),ge(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),je(document.body,n)&&!n.disabled&&n.offsetHeight){try{n.setSelectionRange(t,e,"backward")}catch{}if(i)try{return n.focus(),!0}catch{}}return!1}function af(n){var t="autocomplete",e=n.getAttribute(t);e&&"on"!=e||n.setAttribute(t,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach(function(i){n.setAttribute(i,"spellcheck"==i?"false":"off")})}function Dt(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function nt(){var n=document.activeElement;if(n){var t=n.shadowRoot;t&&t.activeElement&&(n=t.activeElement)}return n}function pM(){var n=lv.activeElement;if(n){var t=n.shadowRoot;t&&t.activeElement&&(n=t.activeElement)}return n}function Sc(n,t){var e=gM(n,t<0),i=0;if(t){var r=e.indexOf(nt());r>-1&&(i=(r+t+e.length)%e.length)}if(i<e.length){var o=e[i];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function gM(n,t){void 0===t&&(t=!1);var e=[],i=Array.prototype.slice.call(n.querySelectorAll("input,select,textarea,button,a,div")),r={},o=function(c){return c instanceof HTMLInputElement&&"radio"===c.type};i.forEach(function(c){o(c)&&c.checked&&(r[c.name||""]=!0)}),(i=i.filter(function(c){return!o(c)||c.checked||!r[c.name||""]})).sort(function(c,h){return c.tabIndex-h.tabIndex});for(var s=0;s<i.length;s++){var a=i[s];if(a.offsetHeight>0&&a.tabIndex>-1&&!a.disabled&&"hidden"!==window.getComputedStyle(a).visibility&&!be(a,"[disabled],.wj-state-disabled")){if(a instanceof HTMLAnchorElement&&!a.hasAttribute("href"))continue;if(pt()&&!a.hasAttribute("tabindex")){if(a instanceof HTMLDivElement)continue;var l=z.getControl(be(a,".wj-flexgrid"));if(l&&0==l.keyActionTab)continue}if("radio"===a.type&&!a.checked&&e.length>0){var u=e[e.length-1];if("radio"===u.type&&u.name===a.name){t&&(e[e.length-1]=a);continue}}!z.getControl(a)&&gM(a).length||e.push(a)}}return e}function CU(n,t,e){void 0===e&&(e="text/plain");var i=n instanceof Blob;i||!e.match(/\bcsv\b/i)&&!t.match(/\.csv$/i)||(n="\ufeff"+n);var r=i?n:new Blob([n],{type:e}),o=navigator;if(Ge(o.msSaveOrOpenBlob))o.msSaveOrOpenBlob(r,t);else{var s=document.createElement("a"),a=function(h){var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),h.dispatchEvent(d)};if("download"in s){var l=window.URL||window.webkitURL,u=l.createObjectURL(r);s.href=u,s.target="_blank",s.download=t,a(s),s=null,window.setTimeout(function(){l.revokeObjectURL(u)},3e4)}else{var c=new FileReader;c.onloadend=function(){s.href=c.result,s.download=t,a(s),s=null},c.readAsDataURL(r)}}}function Qo(n){if(n instanceof Element||n&&n.appendChild&&n.appendChild instanceof Function)return n;if(xe(n))try{return document.querySelector(n)}catch{}return n&&n.jquery?n[0]:null}function Ct(n,t,e){n=n.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var i=document.createElement("div");if(i.innerHTML=n,n.indexOf("_wj-style")>-1)for(var r=i.querySelectorAll("[_wj-style]"),o=function(a){var l=r[a];l.getAttribute("_wj-style").split(";").forEach(function(u){var c=u.split(":");2==c.length&&(l.style[c[0].trim()]=c[1].trim())}),l.removeAttribute("_wj-style")},s=0;s<r.length;s++)o(s);return 1==i.children.length&&(i=i.children[0]),e&&ie(i,e),t&&(t=Qo(t)).appendChild(i),i}function Jr(n,t){n.textContent=t||""}function je(n,t,e){for(var i=t;i&&n;){if(i===n)return!0;i=(e?i[z._OWNR_KEY]:null)||i.parentNode||i.host}return!1}function be(n,t){if(n){if(Ge(n.closest))return n.closest(t);var e=n.matches||n.webkitMatchesSelector||n.msMatchesSelector||n.mozMatchesSelector;if(e)for(;n&&1===n.nodeType;n=n.parentElement||n.parentNode)if(e.call(n,t))return n}return null}function Yi(n,t){return be(n,"."+t)}function Xi(n,t){var e=!t,i="disabled";qe(n,"wj-state-disabled",e),$(n,i,e?i:null);for(var r=n.querySelectorAll("input,button"),o=0;o<r.length;o++)$(r[o],i,e?i:null)}function Ki(n){var t=n.getBoundingClientRect();return new K(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function ie(n,t){if(ge(li(t),"css parameter should be an object"),n instanceof Array)for(var e=0;e<n.length;e++)ie(n[e],t);else if(n&&n.style){var i=n.style;for(var r in t){var o=t[r];"number"==typeof o&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),i[r]!==o&&(i[r]=o)}}}function Ec(n,t,e){null==t&&(t=z._ANIM_DEF_DURATION),null==e&&(e=z._ANIM_DEF_STEP),n=Ot(n),t=F(t,!1,!0),e=F(e,!1,!0);var i,r=Date.now(),o=setInterval(function(){var s=Math.min(1,(Date.now()-r)/t);s=Math.sin(s*Math.PI/2),s*=s,i&&cancelAnimationFrame(i),i=requestAnimationFrame(function(){i=null,n(s)}),s>=1&&clearInterval(o)},e);return o}var T=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=F(t),this.y=F(e)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}(),Ke=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=F(t),this.height=F(e)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}(),K=function(){function n(t,e,i,r){this.left=F(t),this.top=F(e),this.width=F(i),this.height=F(r)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(t){return null!=t.left?new n(t.left,t.top,t.width,t.height):null!=t.x?new n(t.x,t.y,t.width,t.height):void ge(!1,"Invalid source rectangle.")},n.union=function(t,e){var i=Math.min(t.left,e.left),r=Math.min(t.top,e.top);return new n(i,r,Math.max(t.right,e.right)-i,Math.max(t.bottom,e.bottom)-r)},n.intersection=function(t,e){var i=Math.max(t.left,e.left),r=Math.max(t.top,e.top);return new n(i,r,Math.min(t.right,e.right)-i,Math.min(t.bottom,e.bottom)-r)},n.prototype.contains=function(t){return t instanceof T?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof n?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void ge(!1,"Point or Rect expected.")},n.prototype.inflate=function(t,e,i,r){return null!=i&&null!=r?new n(this.left-t,this.top-e,this.width+t+i,this.height+e+r):new n(this.left-t,this.top-e,this.width+2*t,this.height+2*e)},n}(),Ce=function(){function n(){}return n.addDays=function(t,e){return(t=new Date(t.getTime())).setDate(t.getDate()+e),t},n.addMonths=function(t,e){var i=(t=new Date(t.getTime())).getDate();return t.setMonth(t.getMonth()+e),t.getDate()!=i&&t.setDate(0),t},n.addYears=function(t,e){return(t=new Date(t.getTime())).setFullYear(t.getFullYear()+e),t},n.addHours=function(t,e){return(t=new Date(t.getTime())).setHours(t.getHours()+e),t},n.addMinutes=function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t},n.addSeconds=function(t,e){return(t=new Date(t.getTime())).setSeconds(t.getSeconds()+e),t},n.weekFirst=function(t,e){return void 0===e&&(e=Se.getFirstDayOfWeek()),n.addDays(t,-(t.getDay()-e))},n.weekLast=function(t,e){return void 0===e&&(e=Se.getFirstDayOfWeek()),t=n.weekFirst(t,e),n.addDays(t,6)},n.monthFirst=function(t){return n.addDays(t,1-t.getDate())},n.monthLast=function(t){return t=n.monthFirst(t),t=n.addMonths(t,1),n.addDays(t,-1)},n.yearFirst=function(t){return new Date(t.getFullYear(),0,1)},n.yearLast=function(t){return new Date(t.getFullYear(),11,31)},n.sameDate=function(t,e){return wt(t)&&wt(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},n.sameTime=function(t,e){return wt(t)&&wt(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()&&t.getMilliseconds()==e.getMilliseconds()},n.equals=function(t,e){return null==t&&null==e||wt(t)&&wt(e)&&t.getTime()==e.getTime()},n.fromDateTime=function(t,e){return t||e?(t||(t=e),e||(e=t),n.newDate(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):null},n.toFiscal=function(t,e){var i=ft.Globalize.calendar;return Rt(i.fiscalYearOffsets)?n.addMonths(t,-i.fiscalYearOffsets[e?0:1]):t},n.fromFiscal=function(t,e){var i=ft.Globalize.calendar;return Rt(i.fiscalYearOffsets)?n.addMonths(t,+i.fiscalYearOffsets[e?0:1]):t},n.newDate=function(t,e,i,r,o,s,a){if(null==t||null==e||null==i){var l=new Date;null==t&&(t=l.getFullYear()),null==e&&(e=l.getMonth()),null==i&&(i=l.getDate())}null==r&&(r=0),null==o&&(o=0),null==s&&(s=0),null==a&&(a=0);var u=new Date(t,e,i,r,o,s,a),c=u.getFullYear();return t<100&&c>=1900&&u.setFullYear(u.getFullYear()-1900),u},n.clone=function(t){return n.fromDateTime(t,t)},n}();function lf(n,t){var e=t||{},i=e.method?U(e.method).toUpperCase():"GET",r=null==e.async||N(e.async),o=e.data;if(null!=o&&"GET"==i){var s=[];for(var a in o){var l=o[a];wt(l)&&(l=l.toJSON()),s.push(a+"="+encodeURIComponent(l))}if(s.length){var u=n.indexOf("?")<0?"?":"&";n+=u+s.join("&")}o=null}var c=new XMLHttpRequest;c.URL_DEBUG=n;var h=!1;if(null!=o&&!xe(o)&&(h=li(o),o=JSON.stringify(o)),c.onload=function(){4==c.readyState&&(c.status<300?e.success&&Ot(e.success)(c):e.error&&Ot(e.error)(c),e.complete&&Ot(e.complete)(c))},c.onerror=function(){if(!Ge(e.error))throw"HttpRequest Error: "+c.status+" "+c.statusText;e.error(c)},c.open(i,n,r,e.user,e.password),e.user&&e.password&&c.setRequestHeader("Authorization","Basic "+btoa(e.user+":"+e.password)),h&&function(){for(var f in e.requestHeaders)if("content-type"===f.toLowerCase())return!1;return!0}()&&c.setRequestHeader("Content-Type","application/json"),e.requestHeaders)for(var d in e.requestHeaders)c.setRequestHeader(d,e.requestHeaders[d]);return J(e.timeout)&&(c.timeout=e.timeout),Ge(e.beforeSend)&&e.beforeSend(c),c.send(o),c}var mM={};function Ms(n,t){if(mM[n]=t,"wijmo"===n){var e=typeof window<"u"?window:typeof self<"u"?self:null;e&&(e.wijmo=t)}}function uf(n){return mM[n]}var _M=function(){function n(t){if(void 0===t&&(t=!0),t)this._h={};else{var e=function DU(){var n=null;return typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"&&(n=self),n}();this._m=e&&e.Map&&new Map||new xU}}return Object.defineProperty(n.prototype,"isPojoHash",{get:function(){return null!=this._h},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._h&&Object.keys(this._h).length||this._m.size},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this._h?this._h={}:this._m.clear()},n.prototype.delete=function(t){this._h?delete this._h[t]:this._m.delete(t)},n.prototype.get=function(t){return this._h?this._h[t]:this._m.get(t)},n.prototype.has=function(t){return this._h?t in this._h:this._m.has(t)},n.prototype.set=function(t,e){return this._h?this._h[t]=e:this._m.set(t,e),this},n}(),xU=function(){function n(){this._d=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this._d.length},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this._d=[]},n.prototype.delete=function(t){var e=this._kIdx(t);return e>-1&&(this._d.splice(e,1),!0)},n.prototype.get=function(t){var e=this._kIdx(t);return e>-1?this._d[e].v:void 0},n.prototype.has=function(t){return this._kIdx(t)>-1},n.prototype.set=function(t,e){var i=this._kIdx(t);return i>-1?this._d[i].v=e:this._d.push({k:t,v:e}),this},n.prototype._kIdx=function(t){var e=this._d,i=e.length;if(t==t){for(var r=0;r<i;r++)if(e[r].k===t)return r}else for(r=0;r<i;r++){var o=e[r].k;if(o!=o)return r}return-1},n}(),wn=function(){function n(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(n.prototype,"r",{get:function(){return this._r},set:function(t){this._r=Ne(F(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"g",{get:function(){return this._g},set:function(t){this._g=Ne(F(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this._b},set:function(t){this._b=Ne(F(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this._a},set:function(t){this._a=Ne(F(t),0,1)},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},n.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},n.fromRgba=function(t,e,i,r){void 0===r&&(r=1);var o=new n(null);return o.r=Math.round(Ne(F(t),0,255)),o.g=Math.round(Ne(F(e),0,255)),o.b=Math.round(Ne(F(i),0,255)),o.a=Ne(F(r),0,1),o},n.fromHsb=function(t,e,i,r){void 0===r&&(r=1);var o=n._hsbToRgb(Ne(F(t),0,1),Ne(F(e),0,1),Ne(F(i),0,1));return n.fromRgba(o[0],o[1],o[2],r)},n.fromHsl=function(t,e,i,r){void 0===r&&(r=1);var o=n._hslToRgb(Ne(F(t),0,1),Ne(F(e),0,1),Ne(F(i),0,1));return n.fromRgba(o[0],o[1],o[2],r)},n.fromString=function(t){var e=new n(null);return e._parse(U(t))?e:null},n.prototype.getHsb=function(){return n._rgbToHsb(this.r,this.g,this.b)},n.prototype.getHsl=function(){return n._rgbToHsl(this.r,this.g,this.b)},n.interpolate=function(t,e,i){i=Ne(F(i),0,1);var r=n._rgbToHsl(t.r,t.g,t.b),o=n._rgbToHsl(e.r,e.g,e.b),s=1-i,a=t.a*s+e.a*i,l=[r[0]*s+o[0]*i,r[1]*s+o[1]*i,r[2]*s+o[2]*i],u=n._hslToRgb(l[0],l[1],l[2]);return n.fromRgba(u[0],u[1],u[2],a)},n.toOpaque=function(t,e){if(1==(t=xe(t)?n.fromString(t):Pe(t,n)).a)return t;e=null==e?n.fromRgba(255,255,255,1):xe(e)?n.fromString(e):Pe(e,n);var i=t.a,r=1-i;return n.fromRgba(t.r*i+e.r*r,t.g*i+e.g*r,t.b*i+e.b*r)},n.prototype._parse=function(t){if("transparent"==(t=t.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")){var e=document.createElement("div");e.style.color=t;var i=e.style.color;i==t&&!(i=window.getComputedStyle(e).color)&&(document.body.appendChild(e),i=window.getComputedStyle(e).color,Dt(e)),t=i.toLowerCase()}if(0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length&&(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0);if(0==t.indexOf("rgb")){var r=t.indexOf("("),o=t.indexOf(")");if(r>-1&&o>-1&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}var s;if(0==t.indexOf("hsl")&&(r=t.indexOf("("),o=t.indexOf(")"),r>-1&&o>-1)&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2){var a=parseInt(s[0])/360,l=parseInt(s[1]),u=parseInt(s[2]);s[1].indexOf("%")>-1&&(l/=100),s[2].indexOf("%")>-1&&(u/=100);var c=n._hslToRgb(a,l,u);return this.r=c[0],this.g=c[1],this.b=c[2],this.a=s.length>3?parseFloat(s[3]):1,!0}return!1},n._hslToRgb=function(t,e,i){var r,o,s;if(ge(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSL values"),0==e)r=o=s=i;else{var a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;r=n._hue2rgb(l,a,t+1/3),o=n._hue2rgb(l,a,t),s=n._hue2rgb(l,a,t-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s)]},n._hue2rgb=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},n._rgbToHsl=function(t,e,i){ge(t>=0&&t<=255&&e>=0&&e<=255&&i>=0&&i<=255,"bad RGB values"),t/=255,e/=255,i/=255;var r,o,s=Math.max(t,e,i),a=Math.min(t,e,i),l=(s+a)/2;if(s==a)r=o=0;else{var u=s-a;switch(o=l>.5?u/(2-s-a):u/(s+a),s){case t:r=(e-i)/u+(e<i?6:0);break;case e:r=(i-t)/u+2;break;case i:r=(t-e)/u+4}r/=6}return[r,o,l]},n._rgbToHsb=function(t,e,i){ge(t>=0&&t<=255&&e>=0&&e<=255&&i>=0&&i<=255,"bad RGB values");var r=n._rgbToHsl(t,e,i);return n._hslToHsb(r[0],r[1],r[2])},n._hsbToRgb=function(t,e,i){var r=n._hsbToHsl(t,e,i);return n._hslToRgb(r[0],r[1],r[2])},n._hsbToHsl=function(t,e,i){ge(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSB values");var r=Ne(i*(2-e)/2,0,1),o=1-Math.abs(2*r-1),s=Ne(o>0?i*e/o:e,0,1);return ge(!isNaN(r)&&!isNaN(s),"bad conversion to HSL"),[t,s,r]},n._hslToHsb=function(t,e,i){ge(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSL values");var r=Ne(1==i?1:(2*i+e*(1-Math.abs(2*i-1)))/2,0,1),o=Ne(r>0?2*(r-i)/r:e,0,1);return ge(!isNaN(r)&&!isNaN(o),"bad conversion to HSB"),[t,o,r]},n}(),ft=typeof window<"u"&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},Se=function(){function n(){}return n.format=function(t,e,i,r,o){return xe(t)?t:J(t)?(e=e||(t==Math.round(t)?"n0":"n2"),n.formatNumber(t,e,i,r,o)):wt(t)?n.formatDate(t,e=e||"d"):null!=t?t.toString():""},n.formatNumber=function(t,e,i,r,o){t=F(t),e=U(e);var s,a=ft.Globalize.numberFormat,l=n._parseNumericFormat(e),u=l.spec,c=l.prec,h=a["."]||".",d=a[","]||",",f=a["-"]||"-",p=Math;if(null==c&&(c=o??("c"==u?a.currency.decimals:"e"==u?6:"r"==u?15:t==p.round(t)?0:2)),l.scale&&(t/=p.pow(10,l.scale)),"d"==u||"x"==u){for(s=(r?p.floor:p.round)(p.abs(t)).toString("d"==u?10:16);s.length<c;)s="0"+s;return t<0&&(s=f+s),"X"==l.specRaw?s.toUpperCase():s}switch(r&&"p"!=u&&"e"!=u&&(t=fv(t,c,!0)),u){case"e":s=t.toExponential(c),"E"==l.specRaw&&(s=s.replace("e","E"));break;case"c":s=n._toFixedStr(p.abs(t),c);break;case"p":t=n._shiftDecimal(t,2,14),r&&(t=fv(t,c,r)),s=n._toFixedStr(p.abs(t),c);break;default:"-"!=(s=n._toFixedStr(t,c))[0]||s.match(/[1-9]/)||(s=s.substr(1))}if((i||"g"==u||"r"==u)&&s.indexOf(".")>-1&&(s=s.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),"."!=h&&(s=s.replace(".",h)),"-"!=f&&(s=s.replace("-",f)),d&&("n"==u||"c"==u||"p"==l.specRaw||"F"==l.specRaw||"G"==l.specRaw)){var g=s.indexOf(h),m=/\B(?=(\d\d\d)+(?!\d))/g;s=g>-1?s.substr(0,g).replace(m,d)+s.substr(g):s.replace(m,d)}if("c"==u){var _=t<0&&s.match(/[1-9]/)?0:1,v=a.currency.pattern[_],y=l.curr||a.currency.symbol;"\u200b"==y&&(y=""),s=v.replace("n",s).replace("$",y)}if("p"==u){_=t<0&&s.match(/[1-9]/)?0:1;var w=a["%"]||"%";s=(v=a.percent.pattern[_]).replace("n",s),"%"!=w&&(s=s.replace("%",w)),"-"!=f&&0==_&&(s=s.replace("-",f))}return l.prefix||l.suffix?l.prefix+s+l.suffix:s},n.formatDate=function(t,e){switch(t=yi(t),e){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}return e=n._expandFormat(e),n._parseDateFormat(e).map(function(i){return n._formatDatePart(t,e,i)}).join("")},n.parseInt=function(t,e){return Math.round(n.parseFloat(t,e))},n.parseFloat=function(t,e){var i=n._parseNumericFormat(e),r=i.prefix;r&&0==t.indexOf(r)&&(t=t.substring(r.length));var o=i.suffix;if(o){var s=t.lastIndexOf(o);s>-1&&s==t.length-o.length&&(t=t.substring(0,t.length-o.length))}var a=ft.Globalize.numberFormat,l=a["."]||".",u=a[","]||",",c=a["-"]||"-",h=a["%"]||"%",d=i.curr||a.currency.symbol||"$",f=t.indexOf(h)>-1,p=t.indexOf("(")>-1&&t.indexOf(")")>-1,g=0;if("x"==i.spec)g=parseInt(t,16);else{[d,h,"(",")"].forEach(function(_){t=t.replace(_,"")}),/\s/.test(u)&&(t=t.replace(/\s+/g,""));var m=(t=t.replace(new RegExp("\\"+u,"g"),"").replace(new RegExp("\\"+c,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(l,".").trim()).length;!p&&m&&"-"==t[m-1]&&(p=!0,t=t.substring(0,m-1)),g=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(t)?parseFloat(t):Number.NaN}return isNaN(g)||(p=p||g<0,g=Math.abs(g),f&&(g=n._shiftDecimal(g,-2)),p&&(g=-g),i.scale&&(g*=Math.pow(10,i.scale))),g},n.parseDate=function(t,e,i){if(!(t=U(t)))return null;if("u"==e)return new Date(t);var r;if("R"==e||"r"==e){var o=t.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return o[1]||o[5]?(r=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(r.setHours(parseInt(o[6])),r.setMinutes(parseInt(o[7])),r.setSeconds(o[8]?parseInt(o[9]):0))):r=new Date(t),isNaN(r.getTime())?null:r}e=n._expandFormat(e||"d");var s=ft.Globalize.calendar,a=n._CJK,l=new RegExp("(\\"+s["/"]+")|(\\"+s[":"]+")|(\\d+)|(["+a+"\\.]{2,})|(["+a+"]+)","gi"),u=t.match(l),c=n._parseDateFormat(e),h=0;if(!(u&&u.length&&c&&c.length))return null;var d,f,p,g,m,_=-1,v=0,y=1,w=0,b=0,C=0,I=0,M=-1,S=null;(i=yi(i,!0))&&(v=i.getMonth(),y=i.getDate(),w=i.getHours(),b=i.getMinutes(),C=i.getSeconds(),I=i.getMilliseconds());for(var R=0;R<c.length&&u;R++){var P=R-h,x=P>-1&&P<u.length?u[P]:"",E=c[R].length;switch(c[R]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":m=c[R];case"yyyy":case"yyy":case"yy":case"y":E>1&&x.length>E&&(u[P]=x.substr(E),x=x.substr(0,E),h++),_=parseInt(x),g=4==x.length;break;case"MMMM":case"MMM":p=!0,v=-1;for(var j=x.toLowerCase(),ee="MMMM"==c[R]?s.months:s.monthsAbbr,L=0;L<12;L++)if(0==ee[L].toLowerCase().indexOf(j)){v=L;break}if(v>-1)break;case"MM":case"M":p=!0,E>1&&x.length>E&&(u[P]=x.substr(E),x=x.substr(0,E),h++),v=parseInt(x)-1;break;case"dddd":case"ddd":d=!0;break;case"dd":case"d":E>1&&x.length>E&&(u[P]=x.substr(E),x=x.substr(0,E),h++),y=parseInt(x),f=!0;break;case"hh":case"h":E>1&&x.length>E&&(u[P]=x.substr(E),x=x.substr(0,E),h++),w=12==(w=parseInt(x))?0:w;break;case"HH":E>1&&x.length>E&&(u[P]=x.substr(E),x=x.substr(0,E),h++),w=parseInt(x);break;case"H":w=parseInt(x);break;case"mm":case"m":E>1&&x.length>E&&(u[P]=x.substr(E),x=x.substr(0,E),h++),b=parseInt(x);break;case"ss":case"s":E>1&&x.length>E&&(u[P]=x.substr(E),x=x.substr(0,E),h++),C=parseInt(x);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":I=parseInt(x)/Math.pow(10,E-3);break;case"tt":case"t":x=x.toUpperCase(),w<12&&s.pm.indexOf(x)>-1&&(w+=12);break;case"q":case"Q":case"u":case"U":M=parseInt(x);break;case"ggg":case"gg":case"g":if(S=s.eras.length>1?n._getEra(x,s):null,s.eras.length>0&&!S)return null;break;case"/":case":":if(x&&x!=s[c[R]])return null;break;case s["/"]:case s[":"]:if(x&&x!=c[R])return null;break;case"K":break;default:n._unquote(c[R]).trim()!=x.trim()&&h++}}if(p&&f&&(isNaN(w)&&(w=0),isNaN(b)&&(b=0),isNaN(C)&&(C=0)),v<0||v>11||isNaN(v)||y<1||y>31||isNaN(y)||w<0||w>=24||isNaN(w)||b<0||b>=60||isNaN(b)||C<0||C>=60||isNaN(C)||u.length+h>c.length)return null;if(m){if(!p)return null;var B=ft.Globalize.calendar;if(Rt(B.fiscalYearOffsets)){var re=v-B.fiscalYearOffsets["E"==m[0]?0:1];_+=re>11?-1:re<0?1:0}}if(d&&!f)return null;if(!p&&M>=1&&M<=4&&(v=3*(M-1)),isNaN(_)||_<0)_=i?i.getFullYear():(new Date).getFullYear();else if(S&&S.start)_=_+S.start.getFullYear()-1;else if(_<100&&!g){var oe=J(s.twoDigitYearMax)?s.twoDigitYearMax:2029;oe>99&&(_+=_+2e3<=oe?2e3:1900)}return(r=Ce.newDate(_,v,y,w,b+0,C,I)).getMonth()!=v||r.getDate()!=y||isNaN(r.getTime())?null:r},n.getFirstDayOfWeek=function(){return ft.Globalize.calendar.firstDay||0},n.getNumberDecimalSeparator=function(){return ft.Globalize.numberFormat["."]||"."},n._toFixedStr=function(t,e){var i=t.toString(),r=i.indexOf("."),o=e-(i.length-r)+1,s=i.indexOf("e")>-1;return!s&&r>-1&&o>=0?i+Array(o+1).join("0"):(r>-1&&!s&&"5"==i[i.length-1]&&(t=+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)*(t<0?-1:1)),t.toFixed(e))},n._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},n._parseNumericFormat=function(t){var e=n._numFormatInfo[t];if(!e){var i=t&&t.match(/(\"(.*?)\"\s*)?([a-z]+)\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],r=i[3]?i[3]:"n";r.length>1&&(i=[],r="n"),e={prefix:i[2]||"",spec:r.toLowerCase(),specRaw:r,prec:i[4]?parseInt(i[4]):null,scale:i[5]?3*i[5].length:0,suffix:i[7]||"",curr:i[8]||null},n._numFormatInfo[t]=e}return e},n._parseDateFormat=function(t){var e=n._dateFormatParts[t];if(!e){if(e=[],t){var i=void 0,r=void 0;for(i=0;i>-1&&i<t.length;i++){var o=t[i];if(("'"==o||'"'==o)&&(r=t.indexOf(o,i+1))>-1)e.push(t.substring(i,r+1)),i=r;else if("\\"==o&&i<t.length-1)i++,e.push('"'+t[i]+'"');else{for(r=i+1;r<t.length&&t[r]==o;r++);e.push(t.substring(i,r)),i=r-1}}}n._dateFormatParts[t]=e}return e},n._formatDatePart=function(t,e,i){var r,o=ft.Globalize.calendar,s=null,a=0,l=0,u=i.length;switch(i){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return a=(r="E"==i[0]?Ce.toFiscal(t,!0):"e"==i[0]?Ce.toFiscal(t,!1):t).getFullYear(),o.eras.length>1&&e.indexOf("g")>-1&&(s=n._getEra(t,o))&&(a=wt(s.start)?a-s.start.getFullYear()+1:Math.abs(a)),n._zeroPad(i.length<3?a%100:3==i.length?a%1e3:a,i.length);case"MMMMM":return o.monthsAbbr[t.getMonth()][0];case"MMMM":return o.months[t.getMonth()];case"MMM":return o.monthsAbbr[t.getMonth()];case"MM":case"M":return n._zeroPad(t.getMonth()+1,u);case"dddd":return o.days[t.getDay()];case"ddd":return o.daysAbbr[t.getDay()];case"dd":return n._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return n._zeroPad(n._h12(t),u);case"HH":case"H":return n._zeroPad(t.getHours(),u);case"mm":case"m":return n._zeroPad(t.getMinutes(),u);case"ss":case"s":return n._zeroPad(t.getSeconds(),u);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return l=t.getMilliseconds()*Math.pow(10,u-3),"f"==i[0]?n._zeroPad(l,u):l.toFixed(0);case"tt":return t.getHours()<12?o.am[0]:o.pm[0];case"t":return t.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return r=Ce.toFiscal(t,"U"==i),(Math.floor(r.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=n._getEra(t,o))){if(xe(s))return s;switch(i){case"gg":return s.name[0];case"g":return s.symbol;default:return s.name}}return o.eras[0];case":":case"/":return o[i];case"K":var h=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return h?h[1]+h[2]+h[3]:"";case"zzz":case"zz":case"z":var d=-t.getTimezoneOffset(),f=Math.abs(d),p=n.formatNumber,g=void 0;switch(i){case"zzz":g=p(f/60,"d2",!1,!0)+o[":"]+p(f%60,"d2",!1,!0);break;case"zz":g=p(f/60,"d2",!1,!0);break;case"z":g=p(f/60,"d1",!1,!0)}return(d>=0?"+":"-")+g}return u>1&&i[0]==i[u-1]&&('"'==i[0]||"'"==i[0])?i.substr(1,u-2):i},n._getEra=function(t,e){if(e.eras){var i=e.eras,r=e.eras.length;if(wt(t)){if(xe(i[0]))return i[t.getFullYear()>=0?0:1];if(wt(i[0].start)){for(var o=0;o<r;o++)if(t>=i[o].start)return i[o];return i[r-1]}}else if(xe(t)&&t.length>0)for(t=t.toLowerCase(),o=0;o<r;o++){var s=i[o];if(xe(s)){if(0==s.toLowerCase().indexOf(t))return s}else if(s.name&&0==s.name.toLowerCase().indexOf(t)||s.symbol&&0==s.symbol.toLowerCase().indexOf(t))return s}}return null},n._expandFormat=function(t){return ft.Globalize.calendar.patterns[t]||t},n._zeroPad=function(t,e){var i=t.toFixed(0),r=e-i.length+1;return r>0?Array(r).join("0")+i:i},n._h12=function(t){var e=ft.Globalize.calendar,i=t.getHours();return e.am&&e.am[0]&&0==(i%=12)&&(i=12),i},n._shiftDecimal=function(t,e,i){if(0==e||isNaN(t))return t;var r=t.toString();if(r.indexOf("e")>-1){var o=t*Math.pow(10,e);return null!=i&&(o=parseFloat(o.toFixed(i))),o}var s=Array(Math.abs(e)+1).join("0");e<0&&(r=s+r);var a=r.indexOf(".");return a<0&&(a=(r+=".").indexOf(".")),e>0&&(r+=s),a+=e,r=(r=r.replace(".","")).substr(0,a)+"."+r.substr(a),parseFloat(r)},n._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),n._numFormatInfo={},n._dateFormatParts={},n}(),_v=typeof window<"u"&&window.wijmo&&window.wijmo._loadedCultures||{};function SU(n){ft=n,_v[n.Globalize.name]=n}function Ts(n,t){var e=typeof window<"u"?window.wijmo:null,i=e?e.culture:null;ft[n]=(i?i[n]:null)||t}var un,vM=function(n,t){for(var e=document.getElementsByTagName("script"),i=0;i<e.length;i++){var r=e[i];if(r.src.indexOf("wijmo.culture.")>-1){r.parentElement.removeChild(r);break}}var o=_v[n]||void 0;if(o){var s=window.wijmo._updateCulture;s?s(o):window.wijmo.culture=o,t&&t(),window.wijmo.Control.invalidateAll()}return o},EU=function(n){return new Promise(function(t,e){var i=vM(n);i?t(i):e()})},Rl=function(){function n(t,e,i){void 0===e&&(e=""),void 0===i&&(i="_"),this._promptChar="_",this._mskArr=[],this._overWrite=!1,this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=U(e),this.input=t,this.promptChar=U(i,!1),this._connect(!0),(this._evtInput=document.createEvent("HTMLEvents")).initEvent("input",!0,!1)}return Object.defineProperty(n.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=U(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){if(t!=this._promptChar){ge(1==(t=U(t,!1)).length,"promptChar must be a string with length 1.");for(var e=this._tbx,i=e.value,r="",o=this._mskArr,s=this._promptChar,a=0;a<i.length;a++){var l=o[a],u=i[a];l&&l.literal||u!==s||(u=t),r+=u}e.value=r,this._promptChar=t}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overwriteMode",{get:function(){return this._overWrite},set:function(t){this._overWrite=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),n.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},n.prototype.getRawValue=function(){var t=this._tbx?this._tbx.value:"";if(!this.mask)return t;for(var e="",i=0;i<this._mskArr.length&&i<t.length;i++)this._mskArr[i].literal||t[i]==this._promptChar||(e+=t[i]);return e},n.prototype.refresh=function(){this._parseMask(),this._valueChanged()},n.prototype._input=function(t){var e=this;this._msk&&!this._composing&&t!=this._evtInput&&(t.preventDefault(),t.stopImmediatePropagation(),setTimeout(function(){e._valueChanged(),e._tbx&&e._tbx.dispatchEvent(e._evtInput)}))},n.prototype._keydown=function(t){if(t.keyCode==A.Back){var e=this._tbx.selectionStart;if(e<=this._firstPos&&this._tbx.selectionEnd==e)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==A.Back},n.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},n.prototype._cmpstart=function(t){this._composing=!0},n.prototype._cmpend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout(function(){var i=e._tbx;i&&e._valueChanged()&&i.dispatchEvent(e._evtInput)}))},n.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,i=e.selectionStart,r=String.fromCharCode(t);if(i<this._firstPos&&st(e,i=this._firstPos),i>=this._mskArr.length)return!0;var o=this._mskArr[i];if(o.literal)this._validatePosition(i);else if(o.wildCard!=r&&!this._isCharValid(o.wildCard,r))return!0}return!1},n.prototype._connect=function(t){var e=this._tbx;e&&(ge(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._inputBnd,!0),e.addEventListener("keydown",this._keydownBnd,!0),e.addEventListener("keypress",this._keypressBnd,!0),e.addEventListener("compositionstart",this._cmpstartBnd,!0),e.addEventListener("compositionend",this._cmpendBnd,!0),e.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._inputBnd,!0),e.removeEventListener("keydown",this._keydownBnd,!0),e.removeEventListener("keypress",this._keypressBnd,!0),e.removeEventListener("compositionstart",this._cmpstartBnd,!0),e.removeEventListener("compositionend",this._cmpendBnd,!0),e.removeEventListener("blur",this._cmpendBnd,!0)))},n.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,e=t.selectionStart,i=e>0?t.value[e-1]:"",r=t.value;return t.value=this._applyMask(),""==r&&(e=this._firstPos+1),e>0&&(e>0?t.value[e-1]:"")==this._promptChar&&i!=this.promptChar&&e--,e==r.length&&(e=this._matchEnd),this._validatePosition(e),r!=t.value},n.prototype._applyMask=function(){var t=this._tbx,e=t.value;if(this._full=!0,this._matchEnd=0,!this._msk||!e&&!t.required)return e;if(this._overWrite){var i=t.selectionStart;t==document.activeElement&&t.selectionEnd==i&&e.length>this.mask.length&&(e=e.substr(0,i)+e.substr(i+e.length-this.mask.length))}e=this._handleVagueLiterals(e);for(var r="",o=0,s=this._promptChar,a=0;a<this._mskArr.length;a++){var l=this._mskArr[a],u=l.literal;if(u&&u==e[o]&&o++,l.wildCard){if(u=s,e){for(var c=o;c<e.length;c++)if(this._isCharValid(l.wildCard,e[c])){switch(u=e[c],l.charCase){case">":u=u.toUpperCase();break;case"<":u=u.toLowerCase()}u!=s&&(this._matchEnd=r.length+1);break}o=c+1}u==s&&(this._full=!1)}r+=u}return r},n.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(0!=e&&t.length>1){for(var i=-1,r=this._backSpace,o=this._tbx,s=o==nt()?o.selectionStart:o.value.length,a=Math.max(0,s-e);a<this._mskArr.length;a++)if(this._mskArr[a].vague){i=a;break}if(i>-1)if(e<0){if(r)for(;i>0&&this._mskArr[i-1].literal;)i--;var l=Array(1-e).join(this._promptChar),u=i+e;u>-1&&(t=t.substr(0,u)+l+t.substr(u-e))}else{for(;i>0&&this._mskArr[i-1].literal;)i--;t=t.substr(0,i)+t.substr(i+e)}}return t},n.prototype._isCharValid=function(t,e){if(e==this._promptChar)return!0;switch(t){case"0":return this._isDigit(e);case"9":return this._isDigit(e)||" "==e;case"#":return this._isDigit(e)||" "==e||"+"==e||"-"==e;case"L":return this._isLetter(e);case"l":return this._isLetter(e)||" "==e;case"A":return this._isDigit(e)||this._isLetter(e);case"a":return this._isDigit(e)||this._isLetter(e)||" "==e;case"\uff19":return e>="\uff10"&&e<="\uff19";case"\uff2a":case"\uff27":return!("\uff27"==t&&n._X_DBCS_BIG_HIRA.indexOf(e)>-1)&&e>="\u3041"&&e<="\u309f";case"\uff2b":case"\uff2e":return!("\uff2e"==t&&n._X_DBCS_BIG_KATA.indexOf(e)>-1)&&e>="\u30a0"&&e<="\u30ff";case"\uff3a":return!(e>="\uff66"&&e<="\uff9f")&&(e<" "||e>"\xff");case"H":return e>="!"&&e<="\xff"||e>="\uff66"&&e<="\uff9f";case"K":case"N":return!("N"==t&&n._X_SBCS_BIG_KATA.indexOf(e)>-1)&&e>="\uff66"&&e<="\uff9f"}return!1},n.prototype._isDigit=function(t){return t>="0"&&t<="9"},n.prototype._isLetter=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},n.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;t>0&&t<e.length&&e[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;nt()==this._tbx&&st(this._tbx,t),this._backSpace=!1},n.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,i="|",r=0;e&&r<e.length;r++)switch(e[r]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"\uff19":case"\uff2a":case"\uff27":case"\uff2b":case"\uff2e":case"\uff3a":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new Ic(e[r],i));break;case".":case",":case":":case"/":case"$":switch(e[r]){case".":case",":t=ft.Globalize.numberFormat[e[r]];break;case":":case"/":t=ft.Globalize.calendar[e[r]];break;case"$":t=ft.Globalize.numberFormat.currency.symbol}for(var o=0;o<t.length;o++)this._mskArr.push(new Ic(t[o]));break;case"<":case">":case"|":i=e[r];break;case"\\":r<e.length-1&&r++,this._mskArr.push(new Ic(e[r]));break;default:this._mskArr.push(new Ic(e[r]))}for(r=0;r<this._mskArr.length;r++){var s=this._mskArr[r];if(s.literal)for(o=0;o<this._mskArr.length;o++){var a=this._mskArr[o];if(a.wildCard&&this._isCharValid(a.wildCard,s.literal)){s.vague=!0;break}}}},n._X_DBCS_BIG_HIRA="\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096",n._X_DBCS_BIG_KATA="\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6",n._X_SBCS_BIG_KATA="\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f",n}(),Ic=function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t};function cf(n,t,e,i){var r=0,o=0,s=0,a=0,l=null,u=null,c=null,h=e?new At(e):null;if((n=Ie(n,un))==un.CntAll)return t.length;for(var d=0;d<t.length;d++){var f=t[d];if(h&&(f=h.getValue(f)),null!=f){if(n==un.First)return f;r++,(null==l||f<l)&&(l=f),(null==u||f>u)&&(u=f),c=f,f&&"string"==typeof f&&f.length>1&&"="===f[0]&&"="!==f[1]&&i&&"function"==typeof i.evaluate&&(f=i.evaluate(f)),J(f)&&!isNaN(f)?(o++,s+=f,a+=f*f):Zn(f)&&(o++,1==f&&(s++,a++))}}var p=0==o?0:s/o;switch(n){case un.Avg:return p;case un.Cnt:return r;case un.Max:return u;case un.Min:return l;case un.Rng:return u-l;case un.Sum:return s;case un.VarPop:return o<=1?0:a/o-p*p;case un.StdPop:return o<=1?0:Math.sqrt(a/o-p*p);case un.Var:return o<=1?0:(a/o-p*p)*o/(o-1);case un.Std:return o<=1?0:Math.sqrt((a/o-p*p)*o/(o-1));case un.Last:return c}throw"Invalid aggregate type."}!function(n){n[n.None=0]="None",n[n.Sum=1]="Sum",n[n.Cnt=2]="Cnt",n[n.Avg=3]="Avg",n[n.Max=4]="Max",n[n.Min=5]="Min",n[n.Rng=6]="Rng",n[n.Std=7]="Std",n[n.Var=8]="Var",n[n.StdPop=9]="StdPop",n[n.VarPop=10]="VarPop",n[n.CntAll=11]="CntAll",n[n.First=12]="First",n[n.Last=13]="Last"}(un||(un={}));var Mc=function(n){function t(){var e=this;return hf?e.length=0:e=n.call(this)||this,e}return Zr(t,n),t}(Array),hf=!0;try{(function IU(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])})(Mc.prototype,Array.prototype),hf=Mc.prototype.length===Array.prototype.length}catch{hf=!1}var vv=typeof window<"u"?window.Symbol:null;!hf&&vv&&vv.species&&Object.defineProperty(Mc,vv.species,{get:function(){return Array},enumerable:!1,configurable:!1});var So,ei=function(n){function t(e){var i=n.call(this)||this;if(i._updating=0,i.collectionChanged=new k,e){e=Dn(e),i._updating++;for(var r=0;r<e.length;r++)i.push(e[r]);i._updating--}return i}return Zr(t,n),t.prototype.push=function(){for(var e=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return i.forEach(function(o){n.prototype.push.call(e,o),e._raiseCollectionChanged(yn.Add,o,e.length-1)}),this.length},t.prototype.shift=function(){var e=n.prototype.shift.call(this);return this._raiseCollectionChanged(yn.Remove,e,0),e},t.prototype.unshift=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=n.prototype.unshift.apply(this,e);return 1==e.length?this._raiseCollectionChanged(yn.Add,e[0],0):this._raiseCollectionChanged(),r},t.prototype.pop=function(){var e=n.prototype.pop.call(this);return this._raiseCollectionChanged(yn.Remove,e,this.length),e},t.prototype.splice=function(e,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s,a=yn,l=this._raiseCollectionChanged.bind(this);return i&&r.length?(s=n.prototype.splice.apply(this,[e,i].concat(r)),1==i&&1==r.length?l(a.Change,r[0],e):l()):r.length?(s=n.prototype.splice.apply(this,[e,0].concat(r)),1==r.length?l(a.Add,r[0],e):l()):(s=n.prototype.splice.call(this,e,i),1==i?l(a.Remove,s[0],e):l()),s},t.prototype.slice=function(e,i){return n.prototype.slice.call(this,e,i)},t.prototype.indexOf=function(e,i){return n.prototype.indexOf.call(this,e,i)},t.prototype.sort=function(e){var i=n.prototype.sort.call(this,e);return this._raiseCollectionChanged(),i},t.prototype.insert=function(e,i){this.splice(e,0,i)},t.prototype.remove=function(e){var i=this.indexOf(e);return i>-1&&this.removeAt(i),i>-1},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.setAt=function(e,i){e>=this.length&&(this.length=e+1),this.splice(e,1,i)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(e){return"INotifyCollectionChanged"==e},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=Or.reset),this.isUpdating||this.collectionChanged.raise(this,e)},t.prototype._raiseCollectionChanged=function(e,i,r){if(void 0===e&&(e=yn.Reset),!this.isUpdating){var o=new Or(e,i,r);this.onCollectionChanged(o)}},t}(Mc);!function(n){n[n.Natural=0]="Natural",n[n.First=1]="First",n[n.Last=2]="Last"}(So||(So={}));var gr=function(){function n(t,e){var i=this;this._srcRaw=null,this._src=null,this._ncc=null,this._view=null,this._pgView=null,this._groups=null,this._fullGroups=null,this._digest="",this._idx=-1,this._filter=null,this._filters=new ei,this._srtDsc=new ei,this._grpDesc=new ei,this._newItem=null,this._edtItem=null,this._edtClone=null,this._committing=!1,this._canceling=!1,this._pendingRefresh=!1,this._pendingRemove=!1,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=So.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new ei,this._chgRemoved=new ei,this._chgEdited=new ei,this._orgVals=window.Map?new Map:null,this._srtCvt=null,this._srtCmp=null,this._getError=null,this._keepCurrentItem=null,this._initializing=!1,this.collectionChanged=new k,this.sourceCollectionChanging=new k,this.sourceCollectionChanged=new k,this.currentChanged=new k,this.currentChanging=new k,this.pageChanged=new k,this.pageChanging=new k,this._srtDsc.collectionChanged.addHandler(function(){i._srtDsc.forEach(function(r){ge(r instanceof oa,"sortDescriptions array must contain SortDescription objects.")}),i.canSort&&i._commitAndRefresh()}),this._grpDesc.collectionChanged.addHandler(function(){i._grpDesc.forEach(function(r){ge(r instanceof uv,"groupDescriptions array must contain GroupDescription objects.")}),i.canGroup&&i._commitAndRefresh()}),this._filters.collectionChanged.addHandler(function(){i._filters.forEach(function(r){ge(Ge(r),"filters array must contain IPredicate functions.")}),i.canFilter&&i._commitAndRefresh()}),this.sourceCollection=t||new ei,e&&(this._initializing=!0,this.deferUpdate(function(){vi(i,e)}),this._initializing=!1),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return n.prototype._copy=function(t,e){switch(t){case"sortDescriptions":var i=this.sortDescriptions;return i.deferUpdate(function(){i.clear(),Dn(e).forEach(function(o){xe(o)?o=new oa(o,!0):o instanceof oa||!o.property||(o=new oa(o.property,o.ascending)),i.push(o)})}),!0;case"groupDescriptions":var r=this.groupDescriptions;return r.deferUpdate(function(){r.clear(),e.forEach(function(o){xe(o)&&(o=new cv(o)),r.push(o)})}),!0;case"currentItem":return this.currentItem=e,!0}return!1},Object.defineProperty(n.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(t){if(t&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),t=null),t!=this._calcFields){this._calcFields=t;var e=this._srcRaw;this._srcRaw=null,this.sourceCollection=e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=Ot(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=Ot(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=Ot(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){t!=this._stableSort&&(this._stableSort=N(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(t){(t=Ie(t,So))!=this._srtNulls&&(this._srtNulls=t,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=So.Last},set:function(t){Dc("sortNullsFirst","sortNulls"),this.sortNulls=N(t)?So.First:So.Last},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(t,e,i){return cf(t,i?this._pgView:this._view,e)},Object.defineProperty(n.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(t){this._refreshOnEdit=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),n.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear(),this._orgVals&&this._orgVals.clear()},n.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(n.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError!=t&&(this._getError=Ot(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),n.prototype.onCollectionChanged=function(t,e){void 0===t&&(t=Or.reset),t.action!=yn.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item,e),this._updating||this.collectionChanged.raise(this,t)},n.prototype._raiseCollectionChanged=function(t,e,i){void 0===t&&(t=yn.Reset);var r=new Or(t,e,i);this.onCollectionChanged(r)},n.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},n.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(n.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(F(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=Ot(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._srcRaw){if(!this.onSourceCollectionChanging(new zt))return;var e=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=t,this._src=Dn(t,!1),this._calcFields&&(this._src=lM(this._src,this._calcFields)),this._ncc=Tn(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&e>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),n.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},n.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},n.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},n.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},n.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},n.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},n.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},n.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length&&t!=this._idx){var e=new zt;if(this.onCurrentChanging(e)){var i=this._pgView[t],r=uM(i),o=this._edtItem,s=this._newItem;o&&o!=i&&o!=r?this.commitEdit():s&&s!=i&&s!=r&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},n.prototype.refresh=function(){if(this._newItem||this._edtItem||this._updating>0)this._pendingRefresh=!0;else{var t=this.currentItem;this._performRefresh(),this.onCollectionChanged(),t==this.currentItem||this._initializing||this.onCurrentChanged()}},n.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},n.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1,this._pendingRemove=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=Ne(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._keepCurrentItem&&null!=t?this._pgView.indexOf(t):-1;e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups)}},n.prototype._performSort=function(t){if(this._stableSort){var e=t.map(function(o,s){return{item:o,index:s}}),i=this._compareItems();e.sort(function(o,s){var a=i(o.item,s.item);return 0==a?o.index-s.index:a});for(var r=0;r<t.length;r++)t[r]=e[r].item}else t.sort(this._compareItems())},n.prototype._compareItems=function(){var t=this,e=this._srtDsc,i=this._srtCvt,r=this._srtCmp,o=n._collator,s=!0,a=0;return function(l,u){for(var c=0;c<e.length;c++){var h=e[c],d=h._bnd.getValue(l),f=h._bnd.getValue(u);if(i&&(d=i(h,l,d,s),f=i(h,u,f,!1),s=!1),r&&null!=(a=r(d,f))){if(0!=a)return h.ascending?+a:-a}else{if(d!=d&&(d=null),f!=f&&(f=null),d!==f&&(null==d||null==f))switch(t._srtNulls){case So.First:return null==d?-1:1;case So.Last:return null==d?1:-1;default:return a=null==d?-1:1,h.ascending?+a:-a}if("string"==typeof d&&"string"==typeof f){if(o){if(0!=(a=o.compare(d,f)))return h.ascending?+a:-a;continue}var p=d.toLowerCase(),g=f.toLowerCase();p!=g&&(d=p,f=g)}if(0!=(a=d<f?-1:d>f?1:0))return h.ascending?+a:-a}}return 0}},n.prototype._performFilter=function(t){return this.canFilter&&this._filter||this._filters.length?t.filter(this._filterItem,this):t},n.prototype._filterItem=function(t){for(var e=!this.canFilter||!this._filter||this._filter(t),i=0;i<this._filters.length&&e;i++)e=this._filters[i](t);return e},n.prototype.onCurrentChanged=function(t){this.currentChanged.raise(this,t)},n.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(n.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),n.prototype.beginUpdate=function(){this._updating++},n.prototype.endUpdate=function(t){void 0===t&&(t=!0),this._updating--,t&&(this._pendingRefresh=!0),this._updating<=0&&(this._pendingRefresh&&this.refresh(),this._pendingRemove&&(this._pendingRemove=!1,this._raiseCollectionChanged()))},Object.defineProperty(n.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),n.prototype.deferUpdate=function(t,e){void 0===e&&(e=!0);try{this.beginUpdate(),t()}finally{this.endUpdate(e)}},Object.defineProperty(n.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){t!=this._canAddNew&&(this._canAddNew=N(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),n.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone=this._extend({},this._edtItem))},n.prototype.commitEdit=function(){var t=this._edtItem,e=this._edtClone;if(null!=t){this._committing=!0;var i=this._getChangedFields(t,e),r=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var o=this._pgView.indexOf(t),s=this._digest;if(this._needRefresh(i)&&this._refreshOnEdit&&this._performRefresh(),this._trackItemChanged(t,e),this._pgView.indexOf(t)!=o||s!=this._digest||r?this._raiseCollectionChanged():this._raiseCollectionChanged(yn.Change,t,o),this.commitNew(),this._committing=!1,this.sourceCollection instanceof ei){this._updating++;var a=new Or(yn.Change,t);this.sourceCollection.onCollectionChanged(a),this._updating--}}},n.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return;var e=this._src.indexOf(t);e>=0&&this._edtClone&&(this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(yn.Change,t,e),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},n.prototype.addNew=function(t,e){if(void 0===e&&(e=!1),this.commitEdit(),!this.canAddNew)return null;var i=this.sourceCollection;if(null==t&&(t=this.newItemCreator?this.newItemCreator():i&&i.length?new i[0].constructor:{}),null!=t){if(this._updating++,i.push(t),this._updating--,this._newItem=t=i[i.length-1],this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var r=this.groups[this.groups.length-1];for(r.items.push(t);r.groups&&r.groups.length;)(r=r.groups[r.groups.length-1]).items.push(t)}this._raiseCollectionChanged(yn.Add,t,this._pgView.length-1),this.moveCurrentTo(t),e&&this.commitNew()}return this._newItem},n.prototype.commitNew=function(){var t=this._newItem;if(null!=t){this._newItem=null;var e=this._pgView.indexOf(t),i=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var r=this._chgEdited.indexOf(t);r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)!=e||i!=this._digest||this.calculatedFields?this._raiseCollectionChanged():this._raiseCollectionChanged(yn.Change,t,e)}},n.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},n.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var i=this._src.indexOf(t);if(i>-1){var r=this._view.indexOf(t)<0,o=this.currentItem;this._updating++,this._src.splice(i,1),this._updating--;var s=this._digest;if(this._refreshOnEdit)this._performRefresh();else{this._updating>0&&(this._pendingRemove=!0);var a=this._pgView.indexOf(t);a>=0&&this._pgView.splice(a,1)}if(this._trackChanges){var l=this._chgAdded.indexOf(t);l>-1&&this._chgAdded.removeAt(l);var u=this._chgEdited.indexOf(t);u>-1&&this._chgEdited.removeAt(u),this._chgRemoved.indexOf(t)<0&&!e&&l<0&&this._chgRemoved.push(t)}this.sortDescriptions.length>0||this.pageSize>0&&this._pgIdx>-1||s!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():r||this._raiseCollectionChanged(yn.Remove,t,i),this.currentItem!==o&&this.onCurrentChanged()}}},n.prototype.removeAt=function(t){t=Xt(t),this.remove(this._pgView[t])},n.prototype._trackItemChanged=function(t,e){if(this._trackChanges){var i=this.sourceCollection;if(i&&i.indexOf(t)>-1){var r=this._orgVals,o=r?r.get(t):null;e&&!o&&(r.set(t,e),o=e);var s=this._chgEdited.indexOf(t),a=yn.Change;if(o&&this._sameContent(t,o))return void(s>-1&&this._chgEdited.removeAt(s));if(s<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(s>-1){var l=new Or(a,t,s);this._chgEdited.onCollectionChanged(l)}else(s=this._chgAdded.indexOf(t))>-1&&(l=new Or(a,t,s),this._chgAdded.onCollectionChanged(l))}}},n.prototype._extend=function(t,e,i){for(var r in void 0===i&&(i=2),e)try{var o=e[r];i>0&&li(o)?"Map"===o.constructor.name?t[r]=o:(t[r]={},this._extend(t[r],o,i-1)):t[r]=o}catch{}return t},n.prototype._getChangedFields=function(t,e,i){void 0===i&&(i=2),ge(null!=e&&null!=t,"Two objects expected.");var r={};for(var o in e)try{this._sameValue(t[o],e[o],i)||(r[o]=!0)}catch{}for(var o in t)try{r[o]||this._sameValue(t[o],e[o],i)||(r[o]=!0)}catch{}var s=Object.keys(r);return s.length?s:null},n.prototype._sameValue=function(t,e,i){return void 0===i&&(i=2),!!(t===e||Ce.equals(t,e)||Number.isNaN(t)&&Number.isNaN(e)||li(t)&&li(e)&&!(i>0&&null!=this._getChangedFields(t,e,i-1)))},n.prototype._sameContent=function(t,e){return null==this._getChangedFields(t,e)},n.prototype._needRefresh=function(t){if(this._pendingRefresh)return!0;if(!t)return!1;if(this._filter)return!0;for(var e=0;e<this._srtDsc.length;e++){var i=this._getBindingRoot(this._srtDsc[e].property);if(t.indexOf(i)>-1)return!0}for(e=0;e<this._grpDesc.length;e++){var r=this._grpDesc[e];if(!(r instanceof cv)||(i=this._getBindingRoot(r.propertyName),t.indexOf(i)>-1))return!0}return!1},n.prototype._getBindingRoot=function(t){var e=t.indexOf(".");return e>-1?t.substr(0,e):t},Object.defineProperty(n.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=Xt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),n.prototype.moveToFirstPage=function(){return this.moveToPage(0)},n.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},n.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},n.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},n.prototype.moveToPage=function(t){var e=Ne(t,0,this.pageCount-1);if(e!=this._pgIdx){if(!this.canChangePage)return!1;var i=new hM(e);if(this.onPageChanging(i)&&this.onCurrentChanging(i)){this.commitEdit(),this.commitNew();var r=this.currentItem;this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():(this.onCollectionChanged(),r!=this.currentItem&&this.onCurrentChanged()),this.onPageChanged()}}return this._pgIdx==t},n.prototype.onPageChanged=function(t){this.pageChanged.raise(this,t)},n.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},n.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=e&&(t=e),t},n.prototype._getGroupByPath=function(t,e,i){if(t)for(var r=0;r<t.length;r++){var o=t[r];if(o.level==e&&o._path==i||o.level<e&&0==i.indexOf(o._path)&&null!=(o=this._getGroupByPath(o.groups,e,i)))return o}return null},n.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},n.prototype._createGroups=function(t){var e=this;if(!this._grpDesc||!this._grpDesc.length)return null;var i=[],r={},o=null;return t.forEach(function(s){for(var a=i,l=e._grpDesc.length,u="",c=0;c<l;c++){var h=e._grpDesc[c],d=h.groupNameFromItem(s,c),f=c==l-1;!(o=r[u])&&Cc(d)&&(r[u]=o={});var p=e._getGroup(h,a,o,d,c,f);p._path=u+="/"+d,f&&p.items.push(s),a=p.groups}}),i},n.prototype._getGroupsDigest=function(t){for(var e="",i=0;null!=t&&i<t.length;i++){var r=t[i];e+="{"+r.name+":"+(r.items?r.items.length:"*"),r.groups.length>0&&(e+=",",e+=this._getGroupsDigest(r.groups)),e+="}"}return e},n.prototype._mergeGroupItems=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];if(!r._isBottomLevel)for(var o=this._mergeGroupItems(r.groups),s=0,a=o.length;s<a;s++)r._items.push(o[s]);for(s=0,a=r._items.length;s<a;s++)e.push(r._items[s])}return e},n.prototype._getGroup=function(t,e,i,r,o,s){var a;if(i&&Cc(r)){if(a=i[r])return a}else for(var l=0;l<e.length;l++)if(t.namesMatch(e[l].name,r))return e[l];var u=new Nr(t,r,o,s);return e.push(u),i&&(i[r]=u),u},n._collator=typeof window<"u"&&window.Intl&&Intl.Collator?new Intl.Collator:null,n}(),Nr=function(){function n(t,e,i,r){this._gd=t,this._name=e,this._level=i,this._isBottomLevel=r,this._groups=[],this._items=[]}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(t,e,i,r){var o=Tn(i,gr);return cf(t,(o?o._getFullGroup(this):this).items,e,r)},n.prototype._clone=function(){var t=new n(this.groupDescription,this.name,this.level,this.isBottomLevel);if(t._path=this._path,this.groups.length)for(var e=0;e<this.groups.length;e++)t.groups.push(this.groups[e]);if(this.items.length)for(e=0;e<this.items.length;e++)t.items.push(this.items[e]);return t},n}(),wv=typeof window<"u"&&window["wj-control-is-element"]?HTMLElement:Object,bv=!1;try{bv=(function(){}.prototype=Array.prototype)!==Array.prototype}catch{bv=!0}var MU=bv||wv!==Object,wM=function(n){function t(){var e=this;return MU&&(e=n.call(this)||this),e}return Zr(t,n),t}(wv),z=function(n){function t(e,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);var o=n.call(this)||this;o.workingAs="PureJs",o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new k,o.lostFocus=new k,o.invalidInput=new k,o.refreshing=new k,o.refreshed=new k,o._updateWme(),ge(null==t.getControl(e),"Element is already hosting a control.");var s=Qo(e);ge(null!=s,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgInner=s.innerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,"INPUT"!=s.tagName&&"SELECT"!=s.tagName||(s=o._replaceWithDiv(s)),o._e=s,s[t._CTRL_KEY]=o;var a=o.addEventListener.bind(o);if(1==r){o._szCtl=new Ke(s.offsetWidth,s.offsetHeight);var l=window.ResizeObserver,u=null;l&&(u=o._szObserver=new l(function(d){return o._resizeObserverCallback(d)})),u?u.observe(s):a(window,"resize",o._handleResize.bind(o))}var c=o._handleFocusBlur.bind(o);a(s,"focus",c,!0),a(s,"blur",c,!0);var h=o._handleDisabled.bind(o);return a(s,"mousedown",h,!0),a(s,"mouseup",h,!0),a(s,"click",h,!0),a(s,"dblclick",h,!0),a(s,"wheel",h,ef(!0,!0)),a(s,"keydown",function(d){o.isDisabled&&d.keyCode!=A.Tab&&d.preventDefault()}),0==t._ctlCnt&&bM(!0),t._ctlCnt++,o}return Zr(t,n),t.prototype.getTemplate=function(){for(var e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e)){var i=e.constructor.controlTemplate;if(i)return i}return null},t.prototype.applyTemplate=function(e,i,r,o){var s=this,a=this._e;e&&Me(a,e);var l=null;i&&(l=Ct(i,a));for(var u=a.querySelectorAll("a.wj-btn"),c=0;c<u.length;c++){var h=u[c];$(h,"role","button",!0),$(h,"href","",!0),$(h,"draggable",!1,!0)}var d=a.querySelectorAll("button");for(c=0;c<d.length;c++)$(d[c],"type","button",!0);var f=a.querySelectorAll("input"),p=1==f.length?f[0]:null;if(p){var g=t._rxInputAtts;this._copyAttributes(p,a.attributes,g),this._copyAttributes(p,this._orgAtts,g)}if(p&&a.id){for(var m=a;m.parentElement;)m=m.parentElement;var _=m.querySelector('label[for="'+a.id+'"]');if(_ instanceof HTMLLabelElement){var v=dv(a.id+"_input");p.id=v,_.htmlFor=v}}if(p){var y=p.value,w=!0,b=!1,C=document.createEvent("HTMLEvents");C.initEvent("change",!0,!1),this.gotFocus.addHandler(function(){w=!1,b=!0,y=p.value}),this.addEventListener(a,"focusin",function(x){w&&(b=!0,w=!1,y=p.value)}),this.addEventListener(p,"input",function(){s._pristine=!1,setTimeout(function(){y=p.value})}),this.addEventListener(p,"change",function(x){x.isTrusted&&(y=p.value)});var I=function(){s._containsFocus()||(w=!0,s._pristine&&(s._pristine=!1,s._updateState()),b&&y!=p.value&&(y=p.value,p.dispatchEvent(C)),b=!1)};this.addEventListener(a,"blur",function(){I()}),this.lostFocus.addHandler(function(){I()})}if(p?a.tabIndex=-1:a.getAttribute("tabindex")||(a.tabIndex=0),this._updateState(),r)for(var M in r){var S=r[M];if(this[M]=l.querySelector('[wj-part="'+S+'"]'),null==this[M]&&l.getAttribute("wj-part")==S&&(this[M]=l),null==this[M])throw'Missing template part: "'+S+'"';if(S==o){var R="name",P=a.attributes[R];P&&P.value&&this[M].setAttribute(R,P.value),(P=a.attributes[R="accesskey"])&&P.value&&(this[M].setAttribute(R,P.value),a.removeAttribute(R))}}return l},t.prototype.dispose=function(){if(this._e){for(var e=this._e.querySelectorAll(".wj-control"),i=0;i<e.length;i++){var r=t.getControl(e[i]);r&&r.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this._toFocus&&(clearTimeout(this._toFocus),this._toFocus=null);var o=this._szObserver;for(var s in o&&o.disconnect(),this.removeEventListener(),this)s.length>2&&0==s.indexOf("on")&&(l=this[s[2].toLowerCase()+s.substr(3)])instanceof k&&l.removeAllHandlers();var a=this.collectionView;if(a instanceof gr)for(var s in a){var l;(l=a[s])instanceof k&&l.removeHandler(null,this)}this._e.parentNode&&(null!=this._orgOuter&&(this._e.outerHTML=this._orgOuter),this._e.innerHTML=this._orgInner),this._e[t._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null,0==--t._ctlCnt&&bM(!1),t._ctlInvalidInput===this&&(t._toInvalidInput&&(clearTimeout(t._toInvalidInput),t._toInvalidInput=null),t._toClearCtlInvalid&&(clearTimeout(t._toClearCtlInvalid),t._toClearCtlInvalid=null),t._ctlInvalidInput=null)}},t.getControl=function(e){var i=Qo(e);return i?Pe(i[t._CTRL_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){var e=this._e;e&&e.offsetHeight&&(this.isDisabled||!(e.tabIndex>=0)&&Sc(e,0)||e.focus())},t.prototype.containsFocus=function(){return this._containsFocusImpl(nt())},t.prototype._containsFocus=function(){return this._containsFocusImpl(pM())},t.prototype._containsFocusImpl=function(e){return je(this._e,e,!0)},t.prototype.invalidate=function(e){var i=this;void 0===e&&(e=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate),i._toInv=null},t._REFRESH_INTERVAL))},t.prototype.refresh=function(e){var i=this;void 0===e&&(e=!0),this.isUpdating||(this.onRefreshing(),this.refreshed.hasHandlers&&setTimeout(function(){i.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},t.invalidateAll=function(e){e||(e=document.body);var i=e.children;if(i)for(var r=0;r<i.length;r++)t.invalidateAll(i[r]);var o=t.getControl(e);o&&o.invalidate()},t.refreshAll=function(e){if(e||(e=document.body),e.children)for(var i=0;i<e.children.length;i++)t.refreshAll(e.children[i]);var r=t.getControl(e);r&&r.refresh()},t.disposeAll=function(e){var i=t.getControl(e);if(i)i.dispose();else if(e.children)for(var r=0;r<e.children.length;r++)t.disposeAll(e.children[r])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabOrder",{get:function(){return this._orgTabIndex},set:function(e){this._setTabOrder(e)},enumerable:!0,configurable:!0}),t.prototype._setTabOrder=function(e){var i=this._e;this._orgTabIndex=e;var r=i.querySelectorAll("input"),o=1===r.length?r[0]:null;i.tabIndex=this.isDisabled||o?-1:this._orgTabIndex,o&&(o.tabIndex=this._orgTabIndex)},Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){this._setIsDisabled(e)},enumerable:!0,configurable:!0}),t.prototype._setIsDisabled=function(e){if((e=!!N(e,!0))!=this.isDisabled){var i=this._e;if(i){if(qe(i,"wj-state-disabled",e),$(i,"disabled",e?"disabled":null),i.id){var r=document.querySelector("[dropdown-id="+i.id+"]");r&&qe(r,"wj-state-disabled",e)}i.tabIndex=this.isDisabled||1===i.querySelectorAll("input").length?-1:this._orgTabIndex;for(var o=i.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),s=t._DSBL_KEY,a=0;a<o.length;a++){var l=o[a];if(e)l[s]=l.disabled,l.disabled=!0;else if(be(l,".wj-control.wj-state-disabled"))l[s]=l.disabled,l.disabled=!0;else{var u=l[s];Zn(u)||(u=!1),l.disabled=u,delete l[s]}}}}},t.prototype.initialize=function(e){vi(this,e)},t.prototype.addEventListener=function(e,i,r,o,s){if(e){null==o&&(o=!1),Zn(o)&&null==s&&(i.indexOf("touch")>-1||i.indexOf("wheel")>-1)&&(s=!1);var a=Zn(o)&&Zn(s)?ef(o,s):o;e.addEventListener(i,r,a),this._listeners.push({target:e,type:i,fn:r,capture:o})}},t.prototype.removeEventListener=function(e,i,r,o){for(var s=0,a=0;a<this._listeners.length;a++){var l=this._listeners[a];null!=e&&e!=l.target||null!=i&&i!=l.type||null!=r&&r!=l.fn||null!=o&&o!=l.capture||(l.target.removeEventListener(l.type,l.fn,l.capture),this._listeners.splice(a,1),a--,s++)}return s},t.prototype.onGotFocus=function(e){this.gotFocus.raise(this,e)},t.prototype.onLostFocus=function(e){this.lostFocus.raise(this,e)},t.prototype.onInvalidInput=function(e){var i=this;if(this.invalidInput.raise(this,e),e.cancel){var r=t._FOCUS_INTERVAL+50;(null==t._ctlInvalidInput||t._ctlInvalidInput===this)&&(t._ctlInvalidInput=this,t._toInvalidInput&&clearTimeout(t._toInvalidInput),t._toClearCtlInvalid&&clearTimeout(t._toClearCtlInvalid),t._toInvalidInput=setTimeout(function(){t._toInvalidInput=null,i.focus(),t._toClearCtlInvalid=setTimeout(function(){t._ctlInvalidInput=null,t._toClearCtlInvalid=null},r)},r))}else t._ctlInvalidInput=null;return this._updateState(),!e.cancel},t.prototype.onRefreshing=function(e){this.refreshing.raise(this,e)},t.prototype.onRefreshed=function(e){this.refreshed.raise(this,e)},t.prototype._getProductInfo=function(){return"B0C3,Control"},t.prototype._getFocusedElements=function(e){for(var i=e;i;){if(!i.parentNode)return i.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&void 0!==i.host?i.querySelectorAll(".wj-state-focused"):document.body.querySelectorAll(".wj-state-focused");i=i.parentNode}return[]},t.prototype._updateWme=function(){var e=this._getProductInfo(),i=t._toWme,r=DM;Ge(r)&&!i[e]&&(i[e]=!0,r(this,t._licKey))},t.prototype._hasPendingUpdates=function(){return null!=this._toInv},t.prototype._handleResize=function(){if(this._e.parentElement||this._e.parentNode){var e=new Ke(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,(e.width||e.height)&&this.invalidate())}},t.prototype._resizeObserverCallback=function(e){e.forEach(function(i){var r=t.getControl(i.target);r&&r._handleResize()})},t.prototype._handleFocusBlur=function(){var e=this;this._toFocus||(this._toFocus=setTimeout(function(){e._toFocus=null,e._updateFocusState()},t._FOCUS_INTERVAL))},t.prototype._updateFocusState=function(){var e=this;setTimeout(function(){for(var i=Do.empty,r=e._getFocusedElements(e.hostElement),o=0;o<r.length;o++)(u=t.getControl(r[o]))&&u._focus&&!u.containsFocus()&&(ui(u._e,"wj-state-focus"),u._focus=!1,u._updateState(),u.onLostFocus(i));var s=nt();if(s)for(var a=!0,l=s;l;){var u;(u=t.getControl(l))&&!u._focus&&u.containsFocus()&&(a&&(Me(l,"wj-state-focus"),a=!1),u._focus=!0,u._updateState(),u.onGotFocus(i)),l=l[t._OWNR_KEY]||l.parentNode}})},t.prototype._updateState=function(){var e=this.hostElement;if(e){qe(e,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(e).direction,qe(e,"wj-rtl",this._rtlDir);var i=e.querySelector("input");if(i instanceof HTMLInputElement){qe(e,"wj-state-empty",0==i.value.length),qe(e,"wj-state-readonly",i.readOnly);var r=i.validationMessage;qe(e,"wj-state-invalid",!this._pristine&&null!=r&&r.length>0)}}},t.prototype._handleDisabled=function(e){(this.isDisabled||be(e.target,".wj-state-disabled"))&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(e){var i=document.createElement("div");return e.parentElement.replaceChild(i,e),i.innerHTML=e.innerHTML,this._copyAttributes(i,e.attributes,/id|style|class/i),i},t.prototype._copyAttributes=function(e,i,r){if(e)for(var o=0;o<i.length;o++){var s=i[o].name;s.match(r)&&e.setAttribute(s,i[o].value)}},t.prototype._getKeyCode=function(e){var i=e.keyCode;if(this.rightToLeft)switch(i){case A.Right:i=A.Left;break;case A.Left:i=A.Right}return i},t.sharedState={},t._toWme={},t._ctlCnt=0,t._touching=!1,t._REFRESH_INTERVAL=10,t._FOCUS_INTERVAL=5,t._ANIM_DEF_DURATION=400,t._ANIM_DEF_STEP=35,t._CLICK_DELAY=800,t._CLICK_REPEAT=75,t._CLIPBOARD_DELAY=100,t._POPUP_ZINDEX=1500,t._SEARCH_DELAY=500,t._HOVER_DELAY=400,t._LEAVE_DELAY=600,t._DRAG_SCROLL_EDGE=15,t._DRAG_SCROLL_STEP=20,t._CTRL_KEY="$WJ-CTRL",t._OWNR_KEY="$WJ-OWNR",t._SCRL_KEY="$WJ-SCRL",t._TTIP_KEY="$WJ-TTIP",t._DSBL_KEY="$WJ-DSBL",t._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,t}(wM);function bM(n){if("ontouchstart"in window||"onpointerdown"in window){var t=document,e=ef(!0,!0),i=TU,r=PU,o=n?t.addEventListener.bind(t):t.removeEventListener.bind(t);"ontouchstart"in window?(o("touchstart",i,e),o("touchend",r,e),o("touchcancel",r,e)):"onpointerdown"in window&&(o("pointerdown",i,e),o("pointerup",r,e),o("pointercancel",r,e))}}function TU(n){(null==n.pointerType||"touch"==n.pointerType)&&(z._toTouch&&(clearTimeout(z._toTouch),z._toTouch=null),z._touching=!0)}function PU(n){if((null==n.pointerType||"touch"==n.pointerType)&&(z._toTouch=setTimeout(function(){z._toTouch=null,z._touching=!1},900),document.querySelector("ion-app"))){var t=n.target;be(t,".wj-dropdown-panel,.wj-dropdown")&&(t.focus(),n.stopPropagation(),n.stopImmediatePropagation())}}var Zi,ci,AU=function(){function n(t){this._title=null,this._copyCss=!0,null!=t&&vi(this,t)}return Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){this._title=U(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=N(t)},enumerable:!0,configurable:!0}),n.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},n.prototype.append=function(t){var e=this._getDocument();if(xe(t))e.write(t);else if(t instanceof Element){t instanceof HTMLElement&&z.refreshAll(t);for(var i=t.cloneNode(!0),r=i.querySelectorAll("input"),o=0;o<r.length;o++){var s=r[o];switch(s.type){case"checkbox":$(s,"checked",!!s.checked||null),$(s,"indeterminate",!!s.indeterminate||null);break;case"radio":$(s,"checked",!!s.checked||null);break;default:$(s,"value",s.value||null)}}e.write(i.outerHTML)}else ge(!1,"content should be an HTML string or an Element.")},n.prototype.print=function(t){var e=this;this._iframe&&(this._close(),setTimeout(function(){var i=e._iframe.contentWindow,r="onafterprint"in i&&!xs();r&&(i.onafterprint=function(){e._afterPrint(t)}),pt()&&null==i.document.body||!document.queryCommandSupported("print")?(i.focus(),i.print()):i.document.execCommand("print",!0,null),r||e._afterPrint(t)},100))},n.prototype._afterPrint=function(t){document.body.removeChild(this._iframe),this._iframe=null,Ge(t)&&t()},n.prototype._getDocument=function(){if(!this._iframe){var t=this._iframe=document.createElement("iframe");Me(t,"wj-printdocument"),ie(t,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(t)}return this._iframe.contentDocument},n.prototype._close=function(){var t=this,e=this._getDocument();if(e.close(),e.title=null!=this.title?this.title:document.title,e.title&&e.title.trim()||(e.title="\xa0"),this._copyCss&&[document.head,document.body].forEach(function(s){for(var a=s.querySelectorAll("LINK"),l=0;l<a.length;l++){var u=a[l];if(u.rel.match(/stylesheet/i)&&(!u.type||u.type.match(/text\/css/i))){var c=lf(u.href,{async:!1});t._addStyle(c.responseText)}}var h=s.querySelectorAll("STYLE");for(l=0;l<h.length;l++)t._addStyle(h[l].textContent)}),this._css)for(var i=0;i<this._css.length;i++){var r=e.createElement("style"),o=lf(this._css[i],{async:!1});r.textContent=o.responseText,e.head.appendChild(r)}},n.prototype._addStyle=function(t){var e=this._getDocument(),i=e.createElement("style");i.textContent=t,e.head.appendChild(i)},n}(),Cv=function(){function n(){}return n.copy=function(t){n._copyPaste(U(t),null)},n.paste=function(t){t=Ot(t),n._copyPaste(null,t)},n._copyPaste=function(t,e){for(var i=nt(),r=be(i,".wj-control");r&&z.getControl(r);)r=r.parentElement;if(r=r||document.body){var o=!1,s=Ct('<textarea class="wj-clipboard">',r,{position:"fixed",opacity:"0"});s.onkeydown=function(a){return a.preventDefault()},s.onchange=function(a){return a.stopImmediatePropagation()},xe(t)?(s.value=t,s.select(),document.execCommand("copy")&&(o=!0)):(s.select(),Ge(e)&&document.execCommand("paste")&&(e(s.value),o=!0)),setTimeout(function(){i.focus({preventScroll:!0}),(pt()?setTimeout:function(a,l){return a()})(function(){return Dt(s)},500),!o&&Ge(e)&&e(s.value)},z._CLIPBOARD_DELAY)}},n}(),sa=function(){function n(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(n.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=Pe(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=N(t)},enumerable:!0,configurable:!0}),n.prototype._connect=function(t){var e=this;this._e&&n._startEvents.forEach(function(i){t?e._e.addEventListener(i,e._mousedownBnd,{passive:!0}):e._e.removeEventListener(i,e._mousedownBnd)})},n.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},n.prototype._mousedown=function(t){var e=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,n._stopEvents.forEach(function(i){document.addEventListener(i,e._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){e._isDown&&(e._click(),e._toRepeat=setTimeout(e._clickBnd,z._CLICK_REPEAT))},z._CLICK_DELAY))},n.prototype._mouseup=function(t){var e=this;this._isDown&&t&&"keydown"!=t.type&&this._clicked&&t.preventDefault(),n._stopEvents.forEach(function(i){document.removeEventListener(i,e._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},n.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,z._CLICK_REPEAT)))},n._startEvents=["mousedown","touchstart"],n._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],n}();function eo(n,t,e,i,r,o){void 0===r&&(r=!0);var s=n.offsetHeight||n.offsetWidth,a=e;(Zn(e)||null==e)&&(a=e?Zi.AboveLeft:Zi.BelowLeft);var l=function OU(n){var t=document.body;if(n instanceof HTMLElement){if(!je(document.body,n))return t;for(var e=n;e;e=e.parentElement){if("DIALOG"==e.tagName||"ION-CONTENT"==e.tagName||"fixed"==getComputedStyle(e).position){t=e;break}if(RU(e)){t=e.querySelector(".ui-dialog-content")||e;break}}}return t}(t);if(function NU(n,t){(!n.offsetHeight||!n.offsetWidth||n.parentElement!=t)&&(ie(n,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),t.appendChild(n))}(n,l),function kU(n,t,e){if(t instanceof HTMLElement&&e){var i=e instanceof HTMLElement?e:t,r=getComputedStyle(i);1==new wn(r.backgroundColor).a&&ie(n,{color:r.color,backgroundColor:r.backgroundColor,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle})}}(n,t,r),z.refreshAll(n),xs()?requestAnimationFrame(function(){CM(n,t,a)}):CM(n,t,a),t instanceof HTMLElement&&(n[z._OWNR_KEY]=t),!s){if(function FU(n,t,e){var i=t instanceof MouseEvent?t.target:t;if(i instanceof HTMLElement&&i.parentElement!=document.body){var r=Date.now(),o=i.getBoundingClientRect(),s=new z(document.createElement("div"));n[z._SCRL_KEY]=s,s.addEventListener(document,"scroll",function(a){if(a.target!=n.parentElement&&Date.now()-r>100&&je(document,i)&&!je(n,a.target)&&(a.target!=document||null!=t&&"fixed"==n.style.position)){var l=i.getBoundingClientRect(),u=Math.abs(l.left-o.left),c=Math.abs(l.top-o.top);(u>1||c>1)&&(Ge(e)&&e(),xv(n,!0),s.dispose())}},!0)}}(n,t,o),i)return Ec(function(u){return n.style.opacity=u<1?u.toString():""});n.style.opacity=""}return null}function jr(n,t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);var i=null;return e?i=Ec(function(r){n.style.opacity=(1-r).toString(),1==r&&(xv(n,t),n.style.opacity="")}):xv(n,t),i}function CM(n,t,e){var i=function HU(n,t){return t instanceof MouseEvent?t.clientX<=0&&t.clientY<=0&&t.target instanceof HTMLElement?K.fromBoundingRect(t.target.getBoundingClientRect()):new K(t.pageX-pageXOffset,t.pageY-pageYOffset,0,0):t instanceof T?new K(t.x,t.y,0,0):t instanceof HTMLElement?K.fromBoundingRect(t.getBoundingClientRect()):t&&null!=t.top&&null!=t.left?t:null}(0,t),r=function jU(n){var t=document.body,e=document.documentElement,i=n.parentElement,r=new T(t.scrollLeft||pageXOffset,t.scrollTop||pageYOffset);if(i!=t){var o=i==t?e:n.offsetParent||i;if(o==t&&(o=i),o){var s=o.getBoundingClientRect();r=new T(o.scrollLeft-s.left,o.scrollTop-s.top)}}if(i instanceof HTMLElement){var a=getComputedStyle(i);r.x-=parseFloat(a.borderLeftWidth),r.y-=parseFloat(a.borderTopWidth)}return r}(n),o=function LU(n,t,e,i){var r=document.documentElement,o=r.clientWidth,s=r.clientHeight,a=Zi;switch(e){case a.AboveLeft:case a.AboveRight:case a.BelowLeft:case a.BelowRight:if(t){var l=t.width;l&&(pt()&&(l-=n.offsetWidth-n.clientWidth),n.style.minWidth=l+"px")}}var u=getComputedStyle(n),c=parseFloat(u.marginTop)+parseFloat(u.marginBottom),h=parseFloat(u.marginLeft)+parseFloat(u.marginRight),d=new Ke(n.offsetWidth+h,n.offsetHeight+c),f=new T((o-d.width)/2,Math.round((s-d.height)/2*.7));if(t){"rtl"==u.direction&&(e=function VU(n){var t=Zi;switch(n){case t.AboveLeft:return t.AboveRight;case t.AboveRight:return t.AboveLeft;case t.BelowLeft:return t.BelowRight;case t.BelowRight:return t.BelowLeft;case t.Left:return t.Right;case t.LeftTop:return t.RightTop;case t.LeftBottom:return t.RightBottom;case t.Right:return t.Left;case t.RightTop:return t.LeftTop;case t.RightBottom:return t.LeftBottom}return n}(e));var p=t.left,g=o-t.right;switch(f.x=t.left,e){case a.Above:case a.Below:f.x=t.left+(t.width-d.width)/2;break;case a.AboveLeft:case a.BelowLeft:f.x=t.left;break;case a.AboveRight:case a.BelowRight:f.x=t.right-d.width;break;case a.Left:case a.LeftTop:case a.LeftBottom:f.x=p>=d.width||p>=g?t.left-d.width:t.right;break;case a.RightTop:case a.RightBottom:case a.Right:f.x=g>=d.width||g>=p?t.right:t.left-d.width}var m=t.top,_=s-t.bottom;switch(e){case a.Above:case a.AboveLeft:case a.AboveRight:f.y=m>d.height||m>_?t.top-d.height:t.bottom;break;case a.Below:case a.BelowLeft:case a.BelowRight:f.y=_>d.height||_>m?t.bottom:t.top-d.height;break;case a.LeftTop:case a.RightTop:f.y=t.top;break;case a.LeftBottom:case a.RightBottom:f.y=t.bottom-d.height;break;case a.Left:case a.Right:f.y=t.bottom-d.height+(d.height-t.height)/2}}return f.x=Math.min(f.x,o-d.width),f.y=Math.min(f.y,s-d.height),f.x=Math.max(0,f.x)+i.x,f.y=Math.max(0,f.y)+i.y,f}(n,i,e,r),s={position:"absolute",zIndex:z._POPUP_ZINDEX},a=0==r.x;a?(s.left=o.x,s.top=o.y):s.transform="translate("+o.x+"px, "+o.y+"px)";var l=n.getBoundingClientRect().width;if(ie(n,s),a){var u=l-n.getBoundingClientRect().width;u>0&&(n.style.left=o.x-Math.ceil(u)+"px")}}function xv(n,t){n.style.display="none",t&&n.parentElement&&setTimeout(function(){"none"==n.style.display&&(Dt(n),Ge(t)&&t())},z._FOCUS_INTERVAL+50);var e=n[z._SCRL_KEY];e instanceof z&&e.dispose(),delete n[z._SCRL_KEY],delete n[z._OWNR_KEY]}function RU(n){var t=window.jQuery,e=Ge(t)?t(n):null;return e&&Ge(e.dialog)&&gt(n,"ui-dialog")}!function(n){n[n.Above=0]="Above",n[n.AboveRight=1]="AboveRight",n[n.RightTop=2]="RightTop",n[n.Right=3]="Right",n[n.RightBottom=4]="RightBottom",n[n.BelowRight=5]="BelowRight",n[n.Below=6]="Below",n[n.BelowLeft=7]="BelowLeft",n[n.LeftBottom=8]="LeftBottom",n[n.Left=9]="Left",n[n.LeftTop=10]="LeftTop",n[n.AboveLeft=11]="AboveLeft"}(Zi||(Zi={})),function(n){n[n.Focus=0]="Focus",n[n.Hover=1]="Hover",n[n.Both=2]="Both"}(ci||(ci={}));var Ol=function(){function n(t){var e=this;this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._focusBnd=this._focus.bind(this),this._mousemovedocBnd=this._mousemovedoc.bind(this),this._keydownBnd=this._keydown.bind(this),this._html=!0,this._cssClass="",this._gap=6,this._isAnimated=!1,this._position=Zi.Above,this._trigger=ci.Hover,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tooltipVisibleOnHover=!0,this._tips=[],this.popup=new k,vi(this,t),document.addEventListener("keydown",function(i){"Escape"==i.key&&e.hide()})}return Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(t){this._position=Ie(t,Zi)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trigger",{get:function(){return this._trigger},set:function(t){var e=this;this._trigger=Ie(t,ci),this._tips.forEach(function(i){e._detach(i.element),e._attach(i.element)})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){this._isAnimated=N(t)},enumerable:!0,configurable:!0}),n.prototype.setTooltip=function(t,e,i){t=Qo(t),e=this._getContent(e);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1)),e&&(this._attach(t),this._tips.push({element:t,content:e,position:i}));var o=n._eTip;o&&o[z._TTIP_KEY]==t&&(e?this._setContent(e):this._hideAutoTip())},n.prototype.getTooltip=function(t){t=Qo(t);for(var e=this._tips,i=0;i<e.length;i++)if(e[i].element==t)return e[i].content;return null},n.prototype.show=function(t,e,i,r){if(t=Qo(t),e=this._getContent(e),t){null==r&&(r=this.position);var o=n._eTip;o||(Me(o=n._eTip=document.createElement("div"),"wj-tooltip"),o.style.visibility="none"),o.setAttribute("class","wj-tooltip"),this._tooltipVisibleOnHover&&[ci.Hover,ci.Both].includes(this.trigger)&&o.addEventListener("mouseleave",this._hideAutoTipBnd),Me(o,this.cssClass),gt(t,"wj-state-invalid")?o.setAttribute("role","alert"):o.setAttribute("role","tooltip"),this._setContent(e),o[z._TTIP_KEY]=t;var s=new xM(e,t);if(this.onPopup(s),s.content&&!s.cancel){this._setContent(s.content),i||(i=K.fromBoundingRect(t.getBoundingClientRect()));var a=this.gap;if(a)switch(r){case Zi.Above:case Zi.AboveLeft:case Zi.AboveRight:case Zi.Below:case Zi.BelowLeft:case Zi.BelowRight:i=i.inflate(0,a);break;default:i=i.inflate(a,0)}eo(o,i,r,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},n.prototype.hide=function(){var t=n._eTip;t&&(Dt(t),ui(t,this.cssClass),t.innerHTML="",this._tooltipVisibleOnHover&&t.removeEventListener("mouseleave",this._hideAutoTipBnd)),document.removeEventListener("mousedown",this._hideAutoTipBnd),this._tooltipVisibleOnHover&&document.removeEventListener("mousemove",this._mousemovedocBnd)},n.prototype.dispose=function(){var t=this;this.isVisible&&this.hide();var e=this._tips;e.length&&(e.forEach(function(i){t._detach(i.element)}),e.splice(0,e.length)),this._clearTimeouts()},Object.defineProperty(n.prototype,"isVisible",{get:function(){var t=n._eTip;return null!=t&&null!=t.parentElement&&t.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=U(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=F(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=Xt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=Xt(t)},enumerable:!0,configurable:!0}),n.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},n.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},n.prototype._attach=function(t){if(this._tooltipVisibleOnHover)switch(this._trigger){case ci.Focus:t.addEventListener("focus",this._focusBnd),t.addEventListener("keydown",this._keydownBnd),t.addEventListener("blur",this._hideAutoTipBnd);break;case ci.Both:t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("focus",this._focusBnd),t.addEventListener("keydown",this._keydownBnd),t.addEventListener("blur",this._hideAutoTipBnd);break;default:t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd)}else t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd);t.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&t.addEventListener("mousemove",this._mousemoveBnd)},n.prototype._detach=function(t){t.removeEventListener("focus",this._focusBnd),t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd),t.removeEventListener("mousemove",this._mousemoveBnd),t.removeEventListener("keydown",this._keydownBnd),t.removeEventListener("blur",this._hideAutoTipBnd)},n.prototype._keydown=function(t,e){"Tab"==t.key&&(this._clearTimeouts(),this.hide())},n.prototype._focus=function(t){t&&t.target&&this._showAutoTip(void 0,t.target)},n.prototype._showAutoTip=function(t,e){var i=this,r=this._hideDelay;if(t&&[ci.Hover,ci.Both].includes(this.trigger)){if(t.defaultPrevented)return;if("click"==t.type&&!z._touching)return void this._hideAutoTip(t);var o=t&&"mouseenter"==t.type?this._showDelay:0;this._clearTimeouts(),this._eMouse=t;var s=t.target;this._toShow=setTimeout(function(){var a=i._indexOf(s);if(a>-1){var l=i._tips[a],u=i._eMouse,c=i._showAtMouse?new K(u.clientX,u.clientY,0,0):null,h=l&&l.element;if(h&&i._hasOffset(h)){var d=z.getControl(l.element);(null==d||0!=d.isVisible)&&(i.show(l.element,l.content,c,l.position),r>0&&(i._toHide=setTimeout(function(){i.hide()},r)))}}},o)}e&&[ci.Focus,ci.Both].includes(this.trigger)&&(o=this._showDelay,this._toShow=setTimeout(function(){var a=i._indexOf(e);if(a>-1){var l=i._tips[a],u=l&&l.element;if(u&&i._hasOffset(u)){var c=z.getControl(l.element);(null==c||0!=c.isVisible)&&(i.show(l.element,l.content,null,l.position),r>0&&(i._toHide=setTimeout(function(){i.hide()},r)))}}},o))},n.prototype._mousemove=function(t){this._eMouse=t},n.prototype._mousemovedoc=function(t){[ci.Hover,ci.Both].includes(this.trigger)&&this._checkBoundsAndHide(t,!1)},n.prototype._hideAutoTip=function(t){t&&(n._eTip&&(this._tooltipVisibleOnHover?("mouseleave"==t.type&&document.addEventListener("mousemove",this._mousemovedocBnd),this._checkBoundsAndHide(t,!0)):(this.trigger==ci.Hover||this.trigger==ci.Both)&&t&&"click"!=t.type&&"mousedown"!=t.type&&(this._clearTimeouts(),this.hide())))},n.prototype._checkBoundsAndHide=function(t,e){var i=n._eTip;if(i){var r=i[z._TTIP_KEY],o=K.fromBoundingRect(i.getBoundingClientRect()),s=K.fromBoundingRect(r.getBoundingClientRect()),a=this.gap+2,l=Zi,u=0;if(t){var c=this._indexOf(r);switch(c>-1&&(u=this._tips[c]&&this._tips[c].position?this._tips[c].position:this.position),u){case l.Above:case l.AboveLeft:case l.AboveRight:s=s.inflate(0,a,0,0);break;case l.Below:case l.BelowLeft:case l.BelowRight:s=s.inflate(0,0,0,a);break;case l.Left:case l.LeftTop:case l.LeftBottom:s=s.inflate(a,0,0,0);break;case l.Right:case l.RightTop:case l.RightBottom:s=s.inflate(0,0,a,0)}var h=t,d=!0;i.getClientRects().length>0&&null!=h&&(d=!(h.clientX>=o.left&&h.clientX<=o.right&&h.clientY>=o.top&&h.clientY<=o.bottom));var f=!0;null!=h&&(f=!(h.clientX>=s.left&&h.clientX<=s.right&&h.clientY>=s.top&&h.clientY<=s.bottom)),(d&&f||"blur"==t.type)&&(e&&this._clearTimeouts(),this.hide())}}},n.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},n.prototype._getContent=function(t){if((t=U(t))&&"#"==t[0]){var e=Qo(t);e&&(t=e.innerHTML)}return t},n.prototype._setContent=function(t){var e=n._eTip;e&&(this._html?e.innerHTML=t:e.textContent=t)},n.prototype._hasOffset=function(t){var e=new Ke(t.offsetWidth,t.offsetHeight);if(t instanceof SVGGraphicsElement){var i=t.getBBox();e.width=i.width,e.height=i.height}return e.width>0||e.height>0},n}(),xM=function(n){function t(e,i){var r=n.call(this)||this;return r._content=U(e),r._e=i,r}return Zr(t,n),Object.defineProperty(t.prototype,"tip",{get:function(){return Ol._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=U(e)},enumerable:!0,configurable:!0}),t}(zt);Ms("wijmo",eu);var Nl="The Wijmo license in this application ",Dv={evl:"Wijmo Evaluation Version ({version})",prd:Nl+"is not valid for the <b>{control}</b> control.",ver:Nl+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:Nl+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:Nl+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:Nl+"is invalid.",mss:Nl+"is not set.",ctc:'If you are a customer, you can <a target="_blank" rel="noopener" href="https://developer.mescius.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">create a license</a> online. Otherwise, you can <a target="_blank" rel="noopener" href="https://developer.mescius.com/wijmo/request-trial-key?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">generate a 30-day license</a> for free. For further assistance, contact MESCIUS: <a href="mailto:us.sales@mescius.com">us.sales@mescius.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},jl={};function DM(n,t){var e=z._wme;if(!(e&&je(document.body,e)&&e.offsetWidth&&e.offsetHeight))if(t){var i=SM(n);jl[i]||(jl[i]=!0,function XU(n,t,e,i){var r=function KU(n,t){try{var e=n.indexOf(t="#"+t);if(e>-1)return{prefix:n.substring(0,e),lic:JSON.parse(ZU(n.substr(e+t.length)))}}catch{}return null}(n,t.algorithmCode);if(!r)return i();var o=r.lic,s=r.prefix+"#"+t.algorithmCode;if(function o5(n){for(var t=0,e=5381,i=0,r=n.length-1;r>=0;r--){var o=n.charCodeAt(r);t=o+(t<<6)+(t<<16)-t,e=o+((e<<5)+e),i=o+((i<<5)-i)}var s=t^e^i;return s<0&&(s=~s),s.toString(16).toUpperCase()}(s+JSON.stringify(o.D))!=o.H)return i();var a=window.msCrypto||window.crypto,l=a?a.subtle:null;if(!l||!location.protocol.match(/^https/i))return e(o.D);var u={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},c={alg:"RS256",e:"AQAB",kty:"RSA",n:r5(t.publicKey)};c=window.msCrypto?NM(JSON.stringify(c)):c;try{jM(l.importKey("jwk",c,u,!1,["verify"])).then(function(h){var d=function n5(n){return String.fromCharCode.apply(null,new Ev(n))}(OM(function i5(n){return btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}))}(s+JSON.stringify(o.D))));jM(l.verify(u,h,OM(o.S),NM(d))).then(function(f){return f?e(o.D):i()})},function(){return e(o.D)})}catch{return e(o.D)}}(t,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},function(r){Sv(n,t,r),delete jl[i]},function(){Sv(n,t,null),delete jl[i]}))}else Sv(n,null,null)}function SM(n){return n._getProductInfo().split(",")[0]}function BU(n){return n._getProductInfo().split(",")[1]}function Sv(n,t,e){var i=ft.Licensing||Dv,r=null;e?function WU(n,t){if(t.Exp){var e=t.Exp,i=new Date(parseInt(e.substr(0,4))||0,parseInt(e.substr(4,2))-1||0,parseInt(e.substr(6,2))||0);if(Math.ceil((i.valueOf()-Date.now())/864e5)<=0)return!1}return!0}(0,e)?function GU(n,t){var e=t.Anl?t.Anl.ver:null,i=hv();return!e||!i||parseInt(e.replace("v",""))+10>=parseInt(i.split(".")[1])}(0,e)?function UU(n,t){if(MM()||!t.Dms)return!0;for(var e=location.hostname,i=t.Dms.split(","),r=0;r<i.length;r++)if(EM(e,i[r]))return!0;return!1}(0,e)?function zU(n,t){var e=SM(n);if(e&&e.length>=4)for(var i=0;i<t.Prd.length;i++)if(t.Prd[i].C.indexOf(e)>-1)return!0;return!1}(n,e)?IM(0,e)&&(r=i.evl):r=i.prd:r=i.dmn:r=i.ver:r=i.exp:r=t?i.lic:i.mss,r&&function $U(n,t,e){if(t=TM(n,t,e),!jl[" "]&&!MM()&&!IM(0,e)){jl[" "]=!0;var i=ft.Licensing||Dv,r=Ct('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+i.hdr+"</p><p>"+t+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+i.cls+"</button></div></div></div>",document.body);r.addEventListener("click",function(a){a.target instanceof HTMLButtonElement&&Dt(r)})}if(!z._wme){var o=Ct('<div><a href="'+function YU(){switch(ft.Globalize.name){case"ja":return"https://developer.mescius.jp/wijmo/about-license";case"ko":return"https://www.mescius.co.kr/wijmo#price";default:return"https://developer.mescius.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis"}}()+'" target="_blank" rel="noopener">'+TM(n)+"</a></div>"),s={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:s.right=s.bottom=0;break;case 1:s.left=s.bottom=0;break;case 2:s.right=s.top=0}ie(o,s),document.body.appendChild(o),z._wme=o,function qU(n,t){var e,i=Ct(t);i.className="wj-tooltip",ie(i,{pointerEvents:"auto",padding:"10px",margin:"6px"}),[n,i].forEach(function(s){s.addEventListener("mouseenter",function(){return o(!0)}),s.addEventListener("mouseleave",function(){return o(!1)})});var r=0;function o(s){r+=s?1:-1,e&&clearTimeout(e),e=setTimeout(function(){e=null,1==r?eo(i,n.getBoundingClientRect()):r<1&&jr(i)},500)}}(o,t)}}(n,r+="<br/><br/>"+i.ctc,e)}function EM(n,t){var e="^"+t.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",i=new RegExp(e,"i").test(n);return i||"*."!=t.substr(0,2)?i:EM(n,t.substr(2))}function IM(n,t){return!!t&&t.Evl}function MM(){var n=location,t=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return"file:"==n.protocol||new RegExp(t,"i").test(n.hostname)}function TM(n,t,e){(!t||t.trim().length<15)&&(t=(ft.Licensing||Dv).evl),(!t||t.trim().length<15)&&(t=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var i=null;if(e&&e.Exp){var r=e.Exp;i=new Date(parseInt(r.substr(0,4))||0,parseInt(r.substr(4,2))-1||0,parseInt(r.substr(6,2))||0)}return pr(t,{version:hv(),domain:location.hostname,control:BU(n),licVer:e&&e.Anl?"5."+e.Anl.ver.replace("v","")+".*":null,licDomain:e?e.Dms:null,expDate:i})}var PM,Ev=typeof window>"u"?null:window.Uint8Array||window.TypedArray;function ZU(n){if(!n)return"";var t=function QU(n){for(var t=n.split(""),e=t.length-5;e>=0;e--)AM(t,e+1,e+3,RM),AM(t,e,e+2,RM);return t.join("")}(n);t=function e5(n){return n.split("").reverse().join("")}(t);var e=Math.ceil(t.length/2);return function t5(n){for(var t=atob(n),e="",i=0;i<t.length;i++)e+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(e)}(t=(t=(t=t.substr(e)+t.substr(0,e)).replace("#","=")).replace("&","=="))}function AM(n,t,e,i){n.length>1&&n.splice(e,1,i(n.splice(t,1,i(n[e]))[0]))}function RM(n){return function JU(n,t){var e=n.charCodeAt(0);return e>=65&&e<=90?n.toLowerCase():e>=97&&e<=122?n.toUpperCase():e>=48&&e<=57?String.fromCharCode(48+(e-48+10+t)%10):n}(n,-1)}function OM(n){for(var t=atob(n),e=t.length,i=new Ev(e),r=0;r<e;r++)i[r]=t.charCodeAt(r);return i.buffer}function r5(n){return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function NM(n){for(var t=new ArrayBuffer(n.length),e=new Ev(t),i=0,r=n.length;i<r;i++)e[i]=n.charCodeAt(i);return t}function jM(n){return"oncomplete"in n&&(n.then=function(t,e){n.resolve=t,n.reject=e},n.oncomplete=function(t){n.resolve(n.result)},n.onerror=function(t){n.reject()}),n}var s5=function(){function n(){}return n.asyncBindings=!0,n}(),a5=function(){function n(t){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(t)}return n.prototype.resolveChangeEventMap=function(t){var e=this.changeEventMap,i=t.outputs,r=t.changeEvents||{};if(e.splice(0,e.length),this.allImplEvents=[],i&&i.length){var o=i.map(function(d){return d.split(":")}).map(function(d){return{implName:d[0].trim(),exposeName:d[1]&&d[1].trim()}});this.allImplEvents=o.map(function(d){return d.implName});for(var s=0,a=o.filter(function(d){return d.implName&&d.exposeName});s<a.length;s++){var l=a[s];if(kl.getWjEventName(l.implName)){var u={eventImpl:l.implName,event:l.exposeName},c=r[l.exposeName];c&&c.length&&(u.props=c.map(function(d){return{prop:d,evExposed:kl.getChangeEventNameExposed(d),evImpl:kl.getChangeEventNameImplemented(d)}})),e.push(u)}}for(var h in r)h.indexOf(".")>-1&&(u={eventImpl:null,event:h,props:r[h].map(function(d){return{prop:d,evExposed:kl.getChangeEventNameExposed(d),evImpl:kl.getChangeEventNameImplemented(d)}})},e.push(u))}},n}(),Y=function(){function n(t,e,i,r){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.nzRun=function(l){return l()},this.directive=t,this.elementRef=e,this.injector=i,this._overrideDirectiveMethods();var o=this.nz=i.get(Vt);o&&(this.nzRun=o.run.bind(o)),this.injectedParent=r;var s=this.typeData=t.constructor[n.directiveTypeDataProp];null==s.siblingId&&(s.siblingId=++n.siblingDirId+"");var a=t.constructor[n.directiveResolvedTypeDataProp];a?this.resolvedTypeData=a:t.constructor[n.directiveResolvedTypeDataProp]=a=this.resolvedTypeData=new a5(s),t[n.BehaviourRefProp]=this,i[n.BehaviourRefProp]=this,t[n.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&e.nativeElement.setAttribute(n.siblingDirIdAttr,s.siblingId),this.subscribeToEvents(!1)}return n.getHostElement=function(t,e){return n.ngZone=e.get(Vt),t.nativeElement},n.attach=function(t,e,i,r){return new n(t,e,i,r)},n.getZone=function(t){var e=n.getBehavior(t);return e&&e.nz||n.ngZone},n.prototype.ngOnInit=function(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)},n.prototype.ngAfterViewInit=function(){var t=this;this.directive[n.isInitializedPropAttr]=!0,setTimeout(function(){t.isDestroyed||t.directive[n.initializedEventAttr].emit(void 0)})},n.prototype.ngOnDestroy=function(){if(!this.isDestroyed){this.isDestroyed=!0;var t=this.directive;if(this._siblingInsertedMO&&this._siblingInsertedMO.disconnect(),this._isChild()&&this.parentBehavior){var e=this.parentBehavior.directive,i=this._getParentProp();if(!this.parentBehavior.isDestroyed&&e&&i&&t){var r=e[i];if(Rt(r)&&r){var o=r.indexOf(t);o>=0&&r.splice(o,1)}}}if(t instanceof z&&t.hostElement){var s=this.elementRef.nativeElement,a=s&&s.parentNode,l=a?Array.prototype.indexOf.call(a.childNodes,s):-1;t.dispose(),l>-1&&Array.prototype.indexOf.call(a.childNodes,s)<0&&(s.textContent="",l<a.childNodes.length&&a.replaceChild(s,a.childNodes[l]))}this.injector[n.BehaviourRefProp]=null}},n.instantiateTemplate=function(t,e,i,r,o){void 0===r&&(r=!1),void 0===o&&(o={});var s,a=e.createEmbeddedView(i,o,e.length),l=a.rootNodes;if(r&&1===l.length)s=l[0];else{s=document.createElement("div");for(var u=0,c=l;u<c.length;u++)s.appendChild(c[u])}return t&&t.appendChild(s),{viewRef:a,rootElement:s}},n.prototype.getPropChangeEvent=function(t){var e=this.typeData.changeEvents;if(e)for(var i in e)if(e[i].indexOf(t)>-1)return i;return null},n.prototype._createEvents=function(){for(var t=0,e=this.resolvedTypeData.allImplEvents;t<e.length;t++)this.directive[e[t]]=new qt(!1)},n.prototype._overrideDirectiveMethods=function(){var t=this.directive;if(t instanceof z){var e=t._resizeObserverCallback.bind(t);t._resizeObserverCallback=function(i){Vt.isInAngularZone()?e(i):n.getZone(this).run(function(){e(i)})}.bind(t)}},n.prototype.subscribeToEvents=function(t){var e=this.resolvedTypeData.changeEventMap;t=!!t;for(var i=0,r=e;i<r.length;i++)t!==(a=r[i]).event.indexOf(".")<0&&this.addHandlers(a);if(t)for(var o=0,s=e;o<s.length;o++){var a=s[o];this.triggerPropChangeEvents(a,!0)}},n.prototype.addHandlers=function(t){var e=this,i=this.directive;n.evaluatePath(i,t.event).addHandler(function(r,o){e.nzRun(function(){e.isInitialized&&e.triggerPropChangeEvents(t),t.eventImpl&&e._triggerEvent(i[t.eventImpl],o,t.props&&t.props.length>0)})})},n.prototype.triggerPropChangeEvents=function(t,e){void 0===e&&(e=!0);var i=this.directive;if(t.props&&t.props.length)for(var r=0,o=t.props;r<o.length;r++){var s=o[r];this._triggerEvent(i[s.evImpl],i[s.prop],e)}},n.prototype._setupAsChild=function(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=n.getBehavior(this.injectedParent))},n.prototype._isAsyncBinding=function(){return this.directive[n.asyncBindingUpdatePropAttr]??s5.asyncBindings},n.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},n.prototype._isParentInitializer=function(){return null!=this.directive[n.parPropAttr]},n.prototype._isParentReferencer=function(){return!!this.typeData.parentRefProperty},n.prototype._getParentProp=function(){return this.directive[n.parPropAttr]},n.prototype._getParentReferenceProperty=function(){return this.typeData.parentRefProperty},n.prototype._useParentObj=function(){return!1},n.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},n.prototype._initParent=function(){if(this.parentBehavior&&!this._useParentObj()){var t=this.parentBehavior.directive,e=this._getParentProp(),i=this.directive;if(this._isParentInitializer()){this._getParentProp();var r=t[e];if(Rt(r)){var o=this._isHostElement(),s=o?this._getSiblingIndex():-1;if((s<0||s>=r.length)&&(s=r.length),r.splice(s,0,i),o){var a=this.elementRef.nativeElement;this._siblingInsertedMO=new MutationObserver(this._siblingInserted.bind(this)),this._siblingInsertedMO.observe(a,{childList:!0})}}else t[e]=i}this._isParentReferencer()&&!this._parentInCtor()&&(i[this._getParentReferenceProperty()]=t)}},n.prototype._getSiblingIndex=function(){var t=this.elementRef.nativeElement,e=t.parentElement;if(!e)return-1;for(var i=e.childNodes,r=-1,o=this.typeData.siblingId,s=0;s<i.length;s++){var a=i[s];if(1==a.nodeType&&a.getAttribute(n.siblingDirIdAttr)==o&&(++r,a===t))return r}return-1},n.prototype._siblingInserted=function(t){for(var e=this,i=0,r=t;i<r.length;i++){var o=r[i];if("childList"===o.type&&o.addedNodes.length>0&&Array.from(o.addedNodes).some(function(h){return h===e.elementRef.nativeElement})){var s=this._getSiblingIndex(),a=this.parentBehavior.directive[this._getParentProp()],l=this.directive,u=a.indexOf(l);if(s>=0&&u>=0&&s!==u){a.splice(u,1);var c=Math.min(s,a.length);a.splice(c,0,l)}}}},n.prototype._isHostElement=function(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE},n.prototype._triggerEvent=function(t,e,i){var r=this;i&&this._isAsyncBinding()?(this._pendingEvents.push({event:t,args:e}),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout(function(){r._triggerPendingEvents(!1)},0))):t.emit(e)},n.prototype._triggerPendingEvents=function(t){if(null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null),!this.isDestroyed){var e=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(var i=0,r=e;i<r.length;i++){var o=r[i];o.event.emit(o.args)}t&&this._pendingEvents.length&&this._triggerPendingEvents(!0)}},n.prototype.flushPendingEvents=function(){this._triggerPendingEvents(!0)},n.evaluatePath=function(t,e){return this._pathBinding.path=e,this._pathBinding.getValue(t)},n.getBehavior=function(t){return t?t[n.BehaviourRefProp]:null},n.directiveTypeDataProp="meta",n.directiveResolvedTypeDataProp="_wjResolvedMeta",n.BehaviourRefProp="_wjBehaviour",n.parPropAttr="wjProperty",n.wjModelPropAttr="wjModelProperty",n.initializedEventAttr="initialized",n.isInitializedPropAttr="isInitialized",n.siblingDirIdAttr="wj-directive-id",n.asyncBindingUpdatePropAttr="asyncBindings",n.siblingDirId=0,n.wijmoComponentProviderId="WjComponent",n.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0,pointerenter:!0,pointerleave:!0,pointerout:!0,mouseover:!0,mouseenter:!0,mouseleave:!0,mouseout:!0},n._pathBinding=new At(""),n.\u0275fac=function(e){Yg()},n.\u0275dir=Te({type:n}),n}(),kl=function(){function n(){}return n.initEvents=function(t,e){for(var i=[],r=0,o=e;r<o.length;r++){var s=o[r],a=s.props;if(s.event&&s.eventImpl&&i.push(s.eventImpl+":"+s.event),a&&a.length)for(var l=0,u=a;l<u.length;l++){var c=u[l];i.push(c.evImpl+":"+c.evExposed)}}return i},n.getChangeEventNameImplemented=function(t){return n.getChangeEventNameExposed(t)+n.changeEventImplementSuffix},n.getChangeEventNameExposed=function(t){return t+"Change"},n.getWjEventNameImplemented=function(t){return t+n.wjEventImplementSuffix},n.getWjEventName=function(t){if(t){var e=n.wjEventImplementSuffix,i=t.length-e.length;if(i>0&&t.substr(i)===e)return t.substr(0,i)}return null},n.getBaseType=function(t){var e;return t&&(e=Object.getPrototypeOf(t.prototype))&&e.constructor},n.getAnnotations=function(t){return Reflect.getMetadata("annotations",t)},n.getAnnotation=function(t,e){if(e&&t)for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o instanceof e)return o}return null},n.getTypeAnnotation=function(t,e,i){for(var r=t;r;r=i?null:n.getBaseType(r)){var o=n.getAnnotation(n.getAnnotations(r),e);if(o)return o}return null},n.equals=function(t,e){return t!=t&&e!=e||Ce.equals(t,e)||t===e},n._copy=function(t,e,i,r,o){if(t&&e)for(var s in e)if(r||"_"!==s[0]){var a=e[s];if(!o||o(s,a)){var l=t[s];Rt(a)?t[s]=(!Rt(l)||i?[]:l).concat(a):void 0!==a&&(t[s]=a)}}},n.changeEventImplementSuffix="PC",n.wjEventImplementSuffix="Ng",n}(),l5=function(){function n(t){this._writeQnt=0,this._isSubscribed=!1,this._dirUpdateQnt=0,this._onChange=function(e){},this._onTouched=function(){},this._directive=t,this._behavior=Y.getBehavior(t)}return n.prototype.writeValue=function(t){var e=this;this._modelValue=t,++this._writeQnt,this._directive.isInitialized?(this._ensureInitEhUnsubscribed(),this._updateDirective()):this._dirInitEh||(this._dirInitEh=this._directive.initialized.subscribe(function(){e._updateDirective(),e._ensureInitEhUnsubscribed()}))},n.prototype.registerOnChange=function(t){this._onChange=t},n.prototype.registerOnTouched=function(t){this._onTouched=t},n.prototype.setDisabledState=function(t){var e=this._directive;e instanceof z&&(e.isDisabled=t)},n.prototype._updateDirective=function(){if(!this._isFirstChange()||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){var t=this._modelValue;""===t&&(t=null),this._dirUpdateQnt++;try{this._directive[this._ngModelProp]=t}finally{this._dirUpdateQnt--}}this._ensureSubscribed()}},n.prototype._ensureSubscribed=function(){if(!this._isSubscribed){var t=this._directive;if(t){this._ensureNgModelProp();var e=this._ngModelProp=t[Y.wjModelPropAttr];if(e){var i=this._behavior.getPropChangeEvent(e);i&&t[i].addHandler(this._dirValChgEh,this)}t instanceof z&&t.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}},n.prototype._ensureNgModelProp=function(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[Y.wjModelPropAttr])},n.prototype._ensureInitEhUnsubscribed=function(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)},n.prototype._isFirstChange=function(){return this._writeQnt<2},n.prototype._dirValChgEh=function(t,e){if(this._onChange&&this._directive&&this._ngModelProp){var i=this._directive[this._ngModelProp],r=this._modelValue;""===r&&(r=null),(!(this._dirUpdateQnt>0&&kM(r)&&kM(i)||kl.equals(r,i))||Rt(i))&&(this._modelValue=i,this._onChange(i))}},n.prototype._dirLostFocusEh=function(t,e){this._onTouched&&this._onTouched()},n}();function en(n){return new l5(n)}function kM(n){return null==n||""===n}var u5=["anchor"],Tc=function(n,t,e,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},aa=function(n,t){return function(e,i){t(e,i,n)}},FM={selector:"[wjTooltip]",inputs:[],outputs:["initialized"],exportAs:"wjTooltip",providers:[]},Pc=function(){function n(e,i,r){this.isInitialized=!1,this._wjBehaviour=Y.attach(this,e,i,r),this._elRef=e,t._toolTip||(t._toolTip=new Ol),this.created()}var t;return t=n,n.prototype.created=function(){},n.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},n.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},n.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy(),this.wjTooltip=null},Object.defineProperty(n.prototype,"wjTooltip",{get:function(){return this._toolTipText},set:function(e){this._toolTipText!=e&&(this._toolTipText=e,t._toolTip.setTooltip(this._elRef.nativeElement,e,this._toolTipPosition))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wjTooltipPosition",{get:function(){return this._toolTipPosition},set:function(e){if(this._toolTipText){var i=Ie(e,Zi);this._toolTipPosition!=i&&(this._toolTipPosition=i,t._toolTip.setTooltip(this._elRef.nativeElement,this._toolTipText,i))}},enumerable:!0,configurable:!0}),n.meta={outputs:FM.outputs},Tc([Wm()],n.prototype,"wjTooltip",null),Tc([Wm()],n.prototype,"wjTooltipPosition",null),n.\u0275fac=function(i){return new(i||n)(D(W),D(q),D("WjComponent",12))},n.\u0275dir=Te({type:n,selectors:[["","wjTooltip",""]],inputs:{wjTooltip:"wjTooltip",wjTooltipPosition:"wjTooltipPosition"},outputs:{initialized:"initialized"},exportAs:["wjTooltip"],features:[ce([{provide:"WjComponent",useExisting:se(function(){return t})}].concat(FM.providers))]}),n=t=Tc([,aa(0,O(W)),aa(1,O(q)),aa(2,O("WjComponent")),aa(2,Le()),aa(2,Ee())],n)}(),h5=(function(){function n(t,e){this._cmpResolver=t,this._elementRef=e,this._isInit=!1,this.propertiesChange=new qt}Object.defineProperty(n.prototype,"component",{get:function(){return this._component},set:function(t){this._component!==t&&(this._component=t,this._createComponent())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"properties",{get:function(){return this._properties},set:function(t){this._properties=t,this._updateProperties()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this._isInit=!0,this._createComponent()},n.prototype._createComponent=function(){if(this._isInit){this._cmpRef&&(this._cmpRef.destroy(),this._cmpRef=null);var t=this._component;t&&this._anchor&&(this._cmpRef=this._anchor.createComponent(this._cmpResolver.resolveComponentFactory(t)),this._updateProperties())}},n.prototype._updateProperties=function(){var t=this._cmpRef&&this._cmpRef.instance,e=this.properties;if(t&&e)for(var i=0,r=Object.getOwnPropertyNames(e);i<r.length;i++){var o=r[i];t[o]=e[o];var s=t[o+"Change"];s instanceof qt&&this._addPropListener(t,o,s)}},n.prototype._addPropListener=function(t,e,i){var r=this;i.subscribe(function(o){r.properties[e]=r.properties[e]=t[e],r.propertiesChange.next(r.properties)})},Tc([FO("anchor",{read:vn,static:!0})],n.prototype,"_anchor",void 0),n.\u0275fac=function(e){return new(e||n)(D(Ka),D(W))},n.\u0275cmp=Oe({type:n,selectors:[["wj-component-loader"]],viewQuery:function(e,i){var r;1&e&&Fm(u5,7,vn),2&e&&fd(r=pd())&&(i._anchor=r.first)},inputs:{component:"component",properties:"properties"},outputs:{propertiesChange:"propertiesChange"},decls:2,vars:0,consts:[["anchor",""]],template:function(e,i){1&e&&lt(0,"div",null,0)},encapsulation:2}),n=Tc([,aa(0,O(Ka)),aa(1,O(W))],n)}(),function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Hi({type:n}),n.\u0275inj=Di({imports:[ea]}),n}());let d5=(()=>{class n{constructor(){this.activeSessionTooltip="Number of current active sessions.",this.loadTimeTooltip="Current average loadtime of the site.",this.apdexTooltip="Ratio of tolerating requests to total requests made.",this.bounceRateTooltip="Percentage of visitors who enter and then leave the site.",this.activeSession={current:112,previous:148,change:"24.32%"},this.loadTime={current:"2.08s",previous:"1.7s",change:"18.30%"},this.apdexScore={current:"1.00",previous:"0.96",change:"4.17%"},this.bounceRate={current:"10.2%",previous:"16.4%",change:"37.8%"}}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Oe({type:n,selectors:[["app-global-info"]],decls:69,vars:8,consts:[[1,"info-grid"],[1,"info"],[1,"info-session-header"],[1,"bi","bi-info-circle",3,"wjTooltip","wjTooltipPosition"],[1,"info-session-count"],[1,"info-session","previous-day"],[1,"previous-day-count"],[1,"previous-day-change"],[1,"change-right"],[1,"change-right","positive"],[1,"bi","bi-caret-down-fill"],[1,"bi","bi-caret-up-fill"],[1,"change-right","negative"]],template:function(i,r){1&i&&(ue(0,"div",0)(1,"div",1)(2,"div",2),bt(3,"Global GHG Emissions "),lt(4,"i",3),le(),ue(5,"div",4),bt(6,"50,900"),le(),ue(7,"div",5)(8,"div",6)(9,"div"),bt(10,"MtCO2e"),le()(),ue(11,"div",7)(12,"div",8),bt(13,"52,400 (2019)"),le(),lt(14,"br"),ue(15,"div",9),lt(16,"i",10),bt(17,"-1,500"),le()()()(),ue(18,"div",1)(19,"div",2),bt(20,"Global Population "),lt(21,"i",3),le(),ue(22,"div",4),bt(23,"7.8"),le(),ue(24,"div",5)(25,"div",6)(26,"div"),bt(27,"in Billion"),le()(),ue(28,"div",7)(29,"div",8),bt(30,"7.7 (2019)"),le(),lt(31,"br"),ue(32,"div",9),lt(33,"i",11),bt(34,"0.1"),le()()()(),ue(35,"div",1)(36,"div",2),bt(37,"Global Temperature "),lt(38,"i",3),le(),ue(39,"div",4),bt(40,"1.01"),le(),ue(41,"div",5)(42,"div",6)(43,"div"),bt(44,"degree Celsius"),le()(),ue(45,"div",7)(46,"div",8),bt(47,"0.98 (2019)"),le(),lt(48,"br"),ue(49,"div",12),lt(50,"i",11),bt(51,"0.03"),le()()()(),ue(52,"div",1)(53,"div",2),bt(54,"Global Sea Level rise "),lt(55,"i",3),le(),ue(56,"div",4),bt(57,"86.7"),le(),ue(58,"div",5)(59,"div",6)(60,"div"),bt(61,"millimeters"),le()(),ue(62,"div",7)(63,"div",8),bt(64,"83.8 (2019)"),le(),lt(65,"br"),ue(66,"div",12),lt(67,"i",11),bt(68,"2.9"),le()()()()()),2&i&&(dt(4),kt("wjTooltip",r.activeSessionTooltip)("wjTooltipPosition",6),dt(17),kt("wjTooltip",r.loadTimeTooltip)("wjTooltipPosition",6),dt(17),kt("wjTooltip",r.apdexTooltip)("wjTooltipPosition",6),dt(17),kt("wjTooltip",r.bounceRateTooltip)("wjTooltipPosition",6))},dependencies:[Pc],styles:['.info-grid[_ngcontent-%COMP%]{display:grid;grid-auto-columns:1fr;grid-template-areas:"one" "two" "three";width:100%;margin-inline:auto;box-shadow:2px 2px 2px 2px #b3b3b3;background-color:#fff}.info[_ngcontent-%COMP%]{padding:1rem}.info[_ngcontent-%COMP%]:nth-child(1){grid-area:one}.info[_ngcontent-%COMP%]:nth-child(2){grid-area:two}.info[_ngcontent-%COMP%]:nth-child(3){grid-area:three}.info-session-header[_ngcontent-%COMP%]{font-size:1.05em;color:gray}.info-session-count[_ngcontent-%COMP%]{font-size:2.5em;font-weight:200}.previous-day[_ngcontent-%COMP%]{display:grid;grid-auto-columns:1fr;grid-template-areas:"one two";color:gray}.previous-day-value[_ngcontent-%COMP%]{color:#000;font-weight:700}.change-right[_ngcontent-%COMP%]{float:right}.caret[_ngcontent-%COMP%]{width:0;height:0;display:inline-block;border:9px solid transparent}.positive[_ngcontent-%COMP%]{color:green}.negative[_ngcontent-%COMP%]{color:red}@media (max-width: 899px){.info[_ngcontent-%COMP%]:nth-child(1){border-bottom:1px lightgray solid}.info[_ngcontent-%COMP%]:nth-child(2){border-bottom:1px lightgray solid}.info[_ngcontent-%COMP%]:nth-child(3){border-bottom:1px lightgray solid}}@media (min-width: 900px){.info-grid[_ngcontent-%COMP%]{grid-template-areas:"one two" "three four"}.info[_ngcontent-%COMP%]:nth-child(1){border-bottom:1px lightgray solid;border-right:1px lightgray solid}.info[_ngcontent-%COMP%]:nth-child(2){border-bottom:1px lightgray solid}.info[_ngcontent-%COMP%]:nth-child(3){border-right:1px lightgray solid}}@media (min-width: 1200px){.info-grid[_ngcontent-%COMP%]{grid-template-areas:"one two three four"}.info[_ngcontent-%COMP%]:nth-child(1){border-right:1px lightgray solid}.info[_ngcontent-%COMP%]:nth-child(2){border-right:1px lightgray solid}.info[_ngcontent-%COMP%]:nth-child(3){border-right:1px lightgray solid}}']})}return n})(),Ac=(()=>{class n{constructor(){this.sessionData=[{sessions:"Top emitting Sectors",number:""},{sessions:"Remaining Sectors",number:""}],this.platformLoadTimeData=[{platform:"Desktop",prevMonth:1.58,curMonth:1.49},{platform:"Phone",prevMonth:2.01,curMonth:1.96},{platform:"Tablet",prevMonth:2.16,curMonth:2.41},{platform:"Other",prevMonth:2.53,curMonth:2.65}],this.sectors=["Industrial Processes","Land-use Change and Forestry","Waste","Agriculture","Fugitive Emissions","Other Fuel Combustion","Transportation","Manufacturing/Construction","Building","Electricity/Heat"],this.franceSectorData=[{sector:"Industrial Processes",value:15.95},{sector:"Land-use Change and Forestry",value:-81.54},{sector:"Waste",value:15.6},{sector:"Agriculture",value:55.14},{sector:"Fugitive Emissions",value:1.86},{sector:"Other Fuel Combustion",value:11.79},{sector:"Transportation",value:109.52},{sector:"Manufacturing/Construction",value:25.87},{sector:"Building",value:66.05},{sector:"Electricity/Heat",value:35.73}],this.indiaSectorData=[{sector:"Industrial Processes",value:267.66},{sector:"Land-use Change and Forestry",value:-32.56},{sector:"Waste",value:92.24},{sector:"Agriculture",value:980.78},{sector:"Fugitive Emissions",value:101.14},{sector:"Other Fuel Combustion",value:64.92},{sector:"Transportation",value:505.84},{sector:"Manufacturing/Construction",value:648.73},{sector:"Building",value:358.58},{sector:"Electricity/Heat",value:1615.64}],this.russiaSectorData=[{sector:"Industrial Processes",value:103.74},{sector:"Land-use Change and Forestry",value:-560.6},{sector:"Waste",value:170.11},{sector:"Agriculture",value:150.06},{sector:"Fugitive Emissions",value:531.86},{sector:"Other Fuel Combustion",value:66.46},{sector:"Transportation",value:302.41},{sector:"Manufacturing/Construction",value:270.99},{sector:"Building",value:249.87},{sector:"Electricity/Heat",value:945.2}],this.australiaSectorData=[{sector:"Industrial Processes",value:2.46},{sector:"Land-use Change and Forestry",value:-4.64},{sector:"Waste",value:12.01},{sector:"Agriculture",value:134.55},{sector:"Fugitive Emissions",value:43.19},{sector:"Other Fuel Combustion",value:6.74},{sector:"Transportation",value:71.44},{sector:"Manufacturing/Construction",value:26.95},{sector:"Building",value:15.36},{sector:"Electricity/Heat",value:199.58}],this.canadaSectorData=[{sector:"Industrial Processes",value:21.06},{sector:"Land-use Change and Forestry",value:78.09},{sector:"Waste",value:18.22},{sector:"Agriculture",value:61.36},{sector:"Fugitive Emissions",value:60.86},{sector:"Other Fuel Combustion",value:18.69},{sector:"Transportation",value:118.01},{sector:"Manufacturing/Construction",value:60.85},{sector:"Building",value:65.31},{sector:"Electricity/Heat",value:85.49}],this.usSectorData=[{sector:"Industrial Processes",value:211.43},{sector:"Land-use Change and Forestry",value:-394.78},{sector:"Waste",value:133.21},{sector:"Agriculture",value:379.31},{sector:"Fugitive Emissions",value:393.91},{sector:"Other Fuel Combustion",value:48.28},{sector:"Transportation",value:1811.78},{sector:"Manufacturing/Construction",value:430.35},{sector:"Building",value:558.96},{sector:"Electricity/Heat",value:2183.79}],this.brazilSectorData=[{sector:"Industrial Processes",value:31.16},{sector:"Land-use Change and Forestry",value:400.08},{sector:"Waste",value:70.36},{sector:"Agriculture",value:486.48},{sector:"Fugitive Emissions",value:32.58},{sector:"Other Fuel Combustion",value:18.08},{sector:"Transportation",value:242.98},{sector:"Manufacturing/Construction",value:94.03},{sector:"Building",value:23.14},{sector:"Electricity/Heat",value:141.01}],this.browserLoadTimeData=[{browser:"Chrome",prevMonth:1.68,curMonth:1.52},{browser:"Firefox",prevMonth:1.93,curMonth:1.71},{browser:"Edge",prevMonth:2.25,curMonth:2.38},{browser:"Safari",prevMonth:2.11,curMonth:2.03},{browser:"Other",prevMonth:2.56,curMonth:2.49}],this.browserSessionData=[{browser:"Chrome",sessions:34520},{browser:"Firefox",sessions:29586},{browser:"Edge",sessions:13793},{browser:"Safari",sessions:22136},{browser:"Other",sessions:11865}],this.countryData=[{Country:"United States",AverageResponseTime:"1.2000",PageViews:"21.9k",IssuesReported:"72"},{Country:"Canada",AverageResponseTime:"1.4250",PageViews:"12.7k",IssuesReported:"35"},{Country:"Mexico",AverageResponseTime:"1.5500",PageViews:"4.2k",IssuesReported:"24"},{Country:"Brazil",AverageResponseTime:"2.6505",PageViews:"1.3k",IssuesReported:"7"},{Country:"Peru",AverageResponseTime:"3.2400",PageViews:"0.8k",IssuesReported:"2"},{Country:"United Kingdom",AverageResponseTime:"1.7500",PageViews:"7.9k",IssuesReported:"29"},{Country:"France",AverageResponseTime:"1.9000",PageViews:"3.4k",IssuesReported:"19"},{Country:"Germany",AverageResponseTime:"2.1000",PageViews:"5.6k",IssuesReported:"15"},{Country:"Spain",AverageResponseTime:"2.2500",PageViews:"2.3k",IssuesReported:"9"},{Country:"Italy",AverageResponseTime:"2.3500",PageViews:"1.9k",IssuesReported:"6"},{Country:"Netherlands",AverageResponseTime:"1.9250",PageViews:"0.9k",IssuesReported:"4"},{Country:"Finland",AverageResponseTime:"2.0150",PageViews:"1.1k",IssuesReported:"7"},{Country:"Denmark",AverageResponseTime:"3.5025",PageViews:"1.8k",IssuesReported:"9"},{Country:"Norway",AverageResponseTime:"2.7500",PageViews:"2.1k",IssuesReported:"14"},{Country:"Poland",AverageResponseTime:"3.4000",PageViews:"0.3k",IssuesReported:"3"},{Country:"Russia",AverageResponseTime:"2.2250",PageViews:"5.9k",IssuesReported:"11"},{Country:"Ukraine",AverageResponseTime:"3.2500",PageViews:"3.1k",IssuesReported:"8"},{Country:"China",AverageResponseTime:"2.7000",PageViews:"11.3k",IssuesReported:"18"},{Country:"Japan",AverageResponseTime:"2.3000",PageViews:"13.8k",IssuesReported:"17"},{Country:"Australia",AverageResponseTime:"3.1000",PageViews:"2.4k",IssuesReported:"7"}],this.globalData=[{Country:"France",Population:"6,75,71,107",CurrentEmission:"376 MtCO2e",PredictedEmission:"251.88 MtCO2e",MajorContributingSector:"Transportation"},{Country:"India",Population:"1,38,00,04,385",CurrentEmission:"3166.95 MtCO2e",PredictedEmission:"4625.85 MtCO2e",MajorContributingSector:"Electricity/Heat"},{Country:"Russia",Population:"14,52,45,148",CurrentEmission:"1836.79 MtCO2e",PredictedEmission:"2257.68 MtCO2e",MajorContributingSector:"Electricity/Heat"},{Country:"Australia",Population:"2,56,49,248",CurrentEmission:"580.76 MtCO2e",PredictedEmission:"498.58 MtCO2e",MajorContributingSector:"Electricity/Heat"},{Country:"Canada",Population:"3,80,28,638",CurrentEmission:"721.31 MtCO2e",PredictedEmission:"575.30 MtCO2e",MajorContributingSector:"Transportation"},{Country:"United States",Population:"33,15,11,512",CurrentEmission:"5268.61 MtCO2e",PredictedEmission:"5625.76 MtCO2e",MajorContributingSector:"Electricity/Heat"},{Country:"Brazil",Population:"21,31,96,304",CurrentEmission:"1470.25 MtCO2e",PredictedEmission:"1589.23 MtCO2e",MajorContributingSector:"Agriculture"}],this.countryCodes=[{country:"United States",code:"USA"},{country:"Canada",code:"CAN"},{country:"Mexico",code:"MEX"},{country:"Brazil",code:"BRA"},{country:"Peru",code:"PER"},{country:"United Kingdom",code:"GBR"},{country:"France",code:"FRA"},{country:"Germany",code:"DEU"},{country:"Spain",code:"ESP"},{country:"Italy",code:"ITA"},{country:"Netherlands",code:"NLD"},{country:"Finland",code:"FIN"},{country:"Denmark",code:"DNK"},{country:"Norway",code:"NOR"},{country:"Poland",code:"POL"},{country:"Russia",code:"RUS"},{country:"Ukraine",code:"UKR"},{country:"China",code:"CHN"},{country:"Japan",code:"JPN"},{country:"Australia",code:"AUS"},{country:"India",code:"IND"}],this.reportedIssues=[{country:"United States",issuesReported:72},{country:"Canada",issuesReported:35},{country:"Mexico",issuesReported:24},{country:"Brazil",issuesReported:7},{country:"Peru",issuesReported:2},{country:"United Kingdom",issuesReported:29},{country:"France",issuesReported:19},{country:"Germany",issuesReported:15},{country:"Spain",issuesReported:9},{country:"Italy",issuesReported:6},{country:"Netherlands",issuesReported:4},{country:"Finland",issuesReported:7},{country:"Denmark",issuesReported:9},{country:"Norway",issuesReported:14},{country:"Poland",issuesReported:3},{country:"Russia",issuesReported:11},{country:"Ukraine",issuesReported:8},{country:"China",issuesReported:18},{country:"Japan",issuesReported:17},{country:"Australia",issuesReported:7}]}getSessionData(){return this.sessionData}getPlatformLoadTimeData(){return this.platformLoadTimeData}getPlatformSessionData(e){return"France"===e?this.franceSectorData:"India"===e?this.indiaSectorData:"Russia"===e?this.russiaSectorData:"Australia"===e?this.australiaSectorData:"Canada"===e?this.canadaSectorData:"United States"===e?this.usSectorData:"Brazil"===e?this.brazilSectorData:this.franceSectorData}getBrowserLoadTimeData(){return this.browserLoadTimeData}getBrowserSessionData(){return this.browserSessionData}getCountryData(){return this.globalData}isValidCountry(e){for(var i=0;i<this.globalData.length;i++)if(this.globalData[i].Country==e)return!0;return!1}getCountryInfo(e){for(var i=[],r=["Desktop","Mobile","Tablet","Other"],o=["Chrome","Firefox","Edge","Safari","Other"],s=0;s<200;s++)i.push({country:e,sessionDuration:Math.round(7*Math.random())+"m "+Math.round(60*Math.random())+"s",ipAddress:Math.round(998*Math.random()+1)+"."+Math.round(998*Math.random()+1)+"."+Math.round(998*Math.random()+1)+"."+Math.round(998*Math.random()+1),platform:r[Math.round(3*Math.random())],browser:o[Math.round(4*Math.random())]});return i}getSectorWiseInfo(e){for(var i=[],r=0;r<10;r++)i.push({country:e,countryCode:this.getCountryCode(e),sectors:this.sectors[r],predictedValue:this.getPredictedSectorValue(this.sectors[r],e),unit:"MtCO2e"});return i}getPredictedSectorValue(e,i){var r=[];"France"===i?r=this.franceSectorData:"India"===i?r=this.indiaSectorData:"Russia"===i?r=this.russiaSectorData:"Australia"===i?r=this.australiaSectorData:"Canada"===i?r=this.canadaSectorData:"United States"===i?r=this.usSectorData:"Brazil"===i&&(r=this.brazilSectorData);for(var o=0;o<r.length;o++)if(r[o].sector==e)return r[o].value;return""}getCountryCode(e){for(var i=0;i<this.countryCodes.length;i++)if(this.countryCodes[i].country==e)return this.countryCodes[i].code;return""}getIssueData(e){for(var i=[{issue:"500 Internal Server Error",status:"High",message:"General purpose error: potential server overload"},{issue:"400 Bad Request",status:"High",message:"Browser error: corrupted request"},{issue:"408 Request Time-Out",status:"High",message:"Slow response time: check server request"},{issue:"403 Forbidden",status:"Moderate",message:"Refused access: user attempted to access forbidden directory"},{issue:"501 Not Implemented",status:"Moderate",message:"Request refused: unsupported browser feature"},{issue:"401 Unauthorised",status:"Low",message:"Login failed: user does not have access"},{issue:"404 Not Found",status:"Low",message:"Page not returned: check status of requested page"}],r=[],o=0;o<this.reportedIssues.length;o++)if(this.reportedIssues[o].country==e){for(var s=0;s<this.reportedIssues[o].issuesReported;s++){var a=Math.round(6*Math.random());r.push({country:e,issue:i[a].issue,status:i[a].status,message:i[a].message})}break}return r}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mt=new ye("NgValueAccessor");var Jo,Rn=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yv=function(){function n(t,e,i,r,o){this._volumes=Dn(t),this._xVals=Dn(e),this._xDataMin=F(i,!0,!1),this._xDataMax=F(r,!0,!1),this._xDataType=Ie(o,ze,!0),this._calcData=[],this._init()}return n.prototype.convert=function(t,e,i){var r=void 0,o=this._calcData.length,s=-1;if(this._hasXs&&this._xDataType===ze.Date){if(-1===(s=this._xVals.indexOf(t)))for(var a=0;a<this._xVals.length;a++){if(a<this._xVals.length-1&&this._xVals[a]<=t&&t<=this._xVals[a+1]){s=a;break}if(0===a&&t<=this._xVals[a]){s=a;break}if(a===this._xVals.length-1&&this._xVals[a]<=t){s=a;break}}-1===s&&(s=Ne(s=this._xVals.indexOf(Math.floor(t)),0,o-1))}else this._hasXs?-1===(s=this._xVals.indexOf(t))&&(s=Ne(s=this._xVals.indexOf(Math.floor(t)),0,o-1)):s=Ne(Math.round(t),0,o-1);return 0<=s&&s<o&&(this._hasXs&&(t=n.convertToRange(t,0,o-1,this._xDataMin,this._xDataMax)),r=((r=this._calcData[s].value+(t-s)*this._calcData[s].width-.5*this._calcData[s].width)-(e=this._getXVolume(e)))/((i=this._getXVolume(i))-e)),r},n.prototype.convertBack=function(t,e,i){var r,o=void 0,s=this._calcData.length,a=-1;for(r=0;r<s;r++)if(this._calcData[r].x1<=t&&t<=this._calcData[r].x2||0===r&&t<=this._calcData[r].x2||r===s-1&&this._calcData[r].x1<=t){a=r;break}return 0<=a&&a<s&&(o=t/this._calcData[a].width-this._calcData[a].value/this._calcData[a].width+.5+r,this._hasXs&&(o=n.convertToRange(o,this._xDataMin,this._xDataMax,0,s-1))),o},n.prototype._init=function(){this._hasXs=null!==this._xVals&&this._xVals.length>0,this._hasXs&&!J(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals)),this._hasXs&&!J(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals)),this._hasXs&&(this._hasXs=J(this._xDataMin)&&J(this._xDataMax)),this._hasXs&&this._xDataType===ze.Date&&this._fillGaps();var t=0,e=0,i=null!==this._volumes&&this._volumes.length>0?this._volumes.length:0;for(e=0;e<i;e++)t+=this._volumes[e]||0;var r,o,s=0;for(e=0;e<i;e++)r=s+(o=(this._volumes[e]||0)/t),this._calcData.push({value:r,width:o,x1:s,x2:r}),s=this._calcData[e].value},n.prototype._getXVolume=function(t){var e=this._calcData.length,i=-1;if(this._hasXs){i=this._xVals.indexOf(t);for(var r=0;r<this._xVals.length;r++){if(r<this._xVals.length-1&&this._xVals[r]<=t&&t<=this._xVals[r+1]){i=r;break}if(0===r&&t<=this._xVals[r]){i=r;break}if(r===this._xVals.length-1&&this._xVals[r]<=t){i=r;break}}}return this._hasXs&&(t=n.convertToRange(t,0,e-1,this._xDataMin,this._xDataMax)),-1===i&&(i=Ne(Math.round(t),0,e-1)),this._calcData[i].value+(t-i)*this._calcData[i].width-.5*this._calcData[i].width},n.convertToRange=function(t,e,i,r,o){return e===i||r===o?0:(t-r)*(i-e)/(o-r)+e},n.prototype._fillGaps=function(){if(!(this._xDataType!==ze.Date||null===this._xVals||this._xVals.length<=0)){var t,e=this._xDataMin,i=this._xDataMax;for(t=1;e<i;t++)(e=new Date(e)).setDate(e.getDate()+1),(e=e.valueOf())!==this._xVals[t]&&(this._xVals.splice(t,0,e),this._volumes.splice(t,0,0))}},n}(),Xv=function(){function n(t,e,i,r){this.monoX=!1,this.monoY=!1;var o=i||Math.min(t.length,e.length),s=0,a=0,l=0,u=0;if(o>3)for(var c=0;c<o-1;c++)c>0&&(a=Math.min(a,t[c]-t[c-1]),s=Math.max(s,t[c]-t[c-1]),u=Math.min(u,e[c]-e[c-1]),l=Math.max(l,e[c]-e[c-1]));this.monoX=s>0&&0===a||a<0&&0===s,this.monoY=l>0&&0===u||u<0&&0===l,this.calc=this.monoX&&"spline"!==r?a<0?new z1(t.reverse(),e.reverse(),i):new z1(t,e,i):new B1(t,e,i)}return n.prototype.calculate=function(){return this.calc.calculate()},n}(),B1=function(){function n(t,e,i){this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]],this._x=t,this._y=e;var r=this._len=i||Math.min(t.length,e.length);if(r>3)for(var o=0;o<r-1;o++){var s=0==o?new T(t[o],e[o]):new T(t[o-1],e[o-1]),a=new T(t[o],e[o]),l=new T(t[o+1],e[o+1]),u=o==r-2?new T(t[o+1],e[o+1]):new T(t[o+2],e[o+2]),c=new T,h=new T,d=new T,f=new T;c.x=s.x*this.m[0][0]+a.x*this.m[0][1]+l.x*this.m[0][2]+u.x*this.m[0][3],h.x=s.x*this.m[1][0]+a.x*this.m[1][1]+l.x*this.m[1][2]+u.x*this.m[1][3],d.x=s.x*this.m[2][0]+a.x*this.m[2][1]+l.x*this.m[2][2]+u.x*this.m[2][3],f.x=s.x*this.m[3][0]+a.x*this.m[3][1]+l.x*this.m[3][2]+u.x*this.m[3][3],c.y=s.y*this.m[0][0]+a.y*this.m[0][1]+l.y*this.m[0][2]+u.y*this.m[0][3],h.y=s.y*this.m[1][0]+a.y*this.m[1][1]+l.y*this.m[1][2]+u.y*this.m[1][3],d.y=s.y*this.m[2][0]+a.y*this.m[2][1]+l.y*this.m[2][2]+u.y*this.m[2][3],f.y=s.y*this.m[3][0]+a.y*this.m[3][1]+l.y*this.m[3][2]+u.y*this.m[3][3],this._a.push(c),this._b.push(h),this._c.push(d),this._d.push(f)}}return n.prototype.calculatePoint=function(t){var e=Math.floor(t);e<0&&(e=0),e>this._len-2&&(e=this._len-2);var i=t-e;return{x:((this._a[e].x*i+this._b[e].x)*i+this._c[e].x)*i+this._d[e].x,y:((this._a[e].y*i+this._b[e].y)*i+this._c[e].y)*i+this._d[e].y}},n.prototype.calculate=function(){if(this._len<=3)return{xs:this._x,ys:this._y};var t=[],e=[],i=this.calculatePoint(0);t.push(i.x),e.push(i.y);for(var r=Math.min(this._len*this.k,.2),o=r;o<=this._len-1;o+=r){var s=Math.ceil(o),a=this.calculatePoint(o);(Math.abs(i.x-a.x)>=3||Math.abs(i.y-a.y)>=3)&&(t.push(a.x),e.push(a.y),i=a),o+r>=s&&(t.push(this._x[s]),e.push(this._y[s]))}return{xs:t,ys:e}},n}(),z1=function(){function n(t,e,i){this._x=[],this._y=[],this._c1s=[],this._c2s=[],this._c3s=[];for(var r=this._len=i||Math.min(t.length,e.length),o=0;o<r;o++)this._x.push(t[o]),this._y.push(e[o]);if(t=this._x,e=this._y,!(this._len<=3)){var s=[],a=[],l=[];for(o=0;o<r-1;o++){var u=t[o+1]-t[o],c=e[o+1]-e[o];a[o]=u,s[o]=c,l[o]=c/u}var h=this._c1s;for(h.push(l[0]),o=0;o<a.length-1;o++){var d=l[o],f=l[o+1];if(d*f<=0)h.push(0);else{var p=a[o],g=a[o+1],m=p+g;h.push(3*m/((m+g)/d+(m+p)/f))}}h.push(l[l.length-1]);var _=this._c2s,v=this._c3s;for(o=0;o<h.length-1;o++){var y=h[o],w=l[o],b=1/a[o],C=y+h[o+1]-w-w;_[o]=(w-y-C)*b,v[o]=C*b*b}}}return n.prototype.interpolate=function(t){var e=this._x.length-1;if(t>=this._x[e])return this._y[e];for(var i,r=0,o=this._c3s.length-1;r<=o;){i=Math.floor(.5*(r+o));var s=this._x[i];if(s<t)r=i+1;else{if(!(s>t))return this._y[i];o=i-1}}e=Math.max(0,o);var a=t-this._x[e];return this._y[e]+a*(this._c1s[e]+a*(this._c2s[e]+a*this._c3s[e]))},n.prototype.calculate=function(){if(this._len<=3)return{xs:this._x,ys:this._y};for(var t=[],e=[],r=this._x[0],o=this._x[this._len-1],s=Math.min(.001*this._len,.2),a=r;a<=o;a+=s)t.push(a),e.push(this.interpolate(a));return{xs:t,ys:e}},n}(),Ll=function(){function n(){}return n._isExtended=function(t){return-1!==this._values(n.Diverging).indexOf(t)||-1!==this._values(n.Qualitative).indexOf(t)||-1!==this._values(n.SequentialSingle).indexOf(t)||-1!==this._values(n.SequentialMulti).indexOf(t)},n._values=function(t){return Object.keys(t).map(function(e){return t[e]})},n.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],n.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],n.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],n.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],n.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],n.light=["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],n.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],n.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],n.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],n.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],n.zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"],n.cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"],n.superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"],n.flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"],n.darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"],n.cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"],n.Qualitative={Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"]},n.Diverging={BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},n.SequentialSingle={Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},n.SequentialMulti={BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},n}(),d8={},bf=function(){function n(t){this._row=0,this._col=0,this._rect=new K(0,0,0,0),vi(this,t)}return Object.defineProperty(n.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=Xt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=Xt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=U(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(t){t!=this._height&&(this._height=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),n.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},n.prototype._render=function(t){t.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},n.prototype._setPlotX=function(t,e){this._rect.left=t,this._rect.width=e},n.prototype._setPlotY=function(t,e){this._rect.top=t,this._rect.height=e},n}(),W1=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Rn(t,n),t.prototype.getPlotArea=function(e){var i=this.indexOf(e);return i>-1?this[i]:null},t.prototype.indexOf=function(e){for(var i=0;i<this.length;i++)if(this[i].name==e)return i;return-1},t.prototype._getWidth=function(e){for(var i=0;i<this.length;i++){var r=this[i];if(r.column==e&&0==r.row)return r.width}},t.prototype._getHeight=function(e){for(var i=0;i<this.length;i++){var r=this[i];if(r.row==e&&0==r.column)return r.height}},t.prototype._calculateWidths=function(e,i){if(i<=0)throw"ncols";for(var r=[],o=0;o<i;o++){var s=this._getWidth(o);r[o]=new G1(s)}return this._calculateLengths(e,i,r)},t.prototype._calculateHeights=function(e,i){if(i<=0)throw"nrows";for(var r=[],o=0;o<i;o++){var s=this._getHeight(o);r[o]=new G1(s)}return this._calculateLengths(e,i,r)},t.prototype._calculateLengths=function(e,i,r){for(var o=[i],s=0,a=0,l=0;l<i;l++)r[l].isAbsolute?(o[l]=r[l].value,s+=o[l]):r[l].isStar?a+=r[l].value:r[l].isAuto&&a++;var u=(e-s)/a;for(l=0;l<i;l++)r[l].isStar?o[l]=u*r[l].value:r[l].isAuto&&(o[l]=u),o[l]<0&&(o[l]=0);return o},t}(ei);!function(n){n[n.Auto=0]="Auto",n[n.Pixel=1]="Pixel",n[n.Star=2]="Star"}(Jo||(Jo={}));var Hl,bi,Z,es,G1=function(){function n(t){void 0===t&&(t=null),this._unitType=Jo.Auto,t&&((t=t.toString()).indexOf("*")>=0?(this._unitType=Jo.Star,t=t.replace("*",""),this._value=parseFloat(t),isNaN(this._value)&&(this._value=1)):(this._unitType=Jo.Pixel,this._value=parseFloat(t),isNaN(this._value)&&(this._unitType=Jo.Auto,this._value=1)))}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isStar",{get:function(){return this._unitType==Jo.Star},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAbsolute",{get:function(){return this._unitType==Jo.Pixel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAuto",{get:function(){return this._unitType==Jo.Auto},enumerable:!0,configurable:!0}),n}(),Os=function(){function n(t){this._STROKE_JOIN="round",this._strokeWidth=1,this._fontSize=null,this._fontFamily=null,this._savedGradient={},this._bbCache={},this._baseUrl="",this._cssPriority=!0,this._readOnly=!1,this._isRtl=!1,this._precision=1,this._options=null,this._element=t,this._create(),this._element&&this._element.appendChild(this._svg);var e=navigator.userAgent.toLowerCase();void 0===n._isff&&(n._isff=e.indexOf("firefox")>=0),void 0===n._isSafari&&(n._isSafari=e.indexOf("safari")>-1&&-1==e.indexOf("chrome"))}return n.prototype.attach=function(t){this._element=t,t&&(t.insertBefore(this._svg,t.childNodes[0]),t.appendChild(this._svg))},n.prototype.detach=function(){for(this._element&&this._element.removeChild(this._svg);this._svg.firstChild;)Dt(this._svg.firstChild)},n.prototype.beginRender=function(){for(;this._svg.firstChild;)Dt(this._svg.firstChild);this._savedGradient={},this._bbCache={},this._svg.appendChild(this._defs),this._svg.appendChild(this._textGroup),this._isRtl=this._checkRtl()},n.prototype.endRender=function(){Dt(this._textGroup)},n.prototype.setViewportSize=function(t,e){this._svg.setAttribute("width",t.toString()),this._svg.setAttribute("height",e.toString())},Object.defineProperty(n.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=void 0===t?null:t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textFill",{get:function(){return this._textFill},set:function(t){this._textFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssPriority",{get:function(){return this._cssPriority},set:function(t){this._cssPriority=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"precision",{get:function(){return this._precision},set:function(t){this._precision=F(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t},enumerable:!0,configurable:!0}),n.prototype.addClipRect=function(t,e){if(t&&e){var i=this.precision,r=document.createElementNS(n.svgNS,"clipPath"),o=document.createElementNS(n.svgNS,"rect");o.setAttribute("x",(t.left-1).toFixed(i)),o.setAttribute("y",(t.top-1).toFixed(i)),o.setAttribute("width",(t.width+2).toFixed(i)),o.setAttribute("height",(t.height+2).toFixed(i)),r.appendChild(o),r.setAttribute("id",e),this._svg.appendChild(r)}},n.prototype.drawEllipse=function(t,e,i,r,o,s){var a=document.createElementNS(n.svgNS,"ellipse"),l=this.precision;return this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),this._applyColor(a,"fill",this._fill),a.setAttribute("cx",t.toFixed(l)),a.setAttribute("cy",e.toFixed(l)),a.setAttribute("rx",i.toFixed(l)),a.setAttribute("ry",r.toFixed(l)),o&&a.setAttribute("class",o),this._applyStyle(a,s),this._appendChild(a),a},n.prototype.drawRect=function(t,e,i,r,o,s,a){var l=document.createElementNS(n.svgNS,"rect"),u=this.precision;return this._applyColor(l,"fill",this._fill),this._applyColor(l,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(l,"stroke-width",this._strokeWidth.toString()),l.setAttribute("x",t.toFixed(u)),isNaN(Number(e))||l.setAttribute("y",e.toFixed(u)),l.setAttribute("width",i>0&&i<.05?"0.1":i.toFixed(u)),l.setAttribute("height",r>0&&r<.05?"0.1":r.toFixed(u)),a&&this._setClipPath(l,a),o&&l.setAttribute("class",o),this._applyStyle(l,s),this._appendChild(l),l},n.prototype.drawLine=function(t,e,i,r,o,s){var a=document.createElementNS(n.svgNS,"line"),l=this.precision;return this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),a.setAttribute("x1",t.toFixed(l)),a.setAttribute("x2",i.toFixed(l)),a.setAttribute("y1",e.toFixed(l)),a.setAttribute("y2",r.toFixed(l)),o&&a.setAttribute("class",o),this._applyStyle(a,s),this._appendChild(a),a},n.prototype.drawLines=function(t,e,i,r,o,s){if(t&&e){var a=s||Math.min(t.length,e.length);if(a>0){var l=document.createElementNS(n.svgNS,"polyline"),u=this.precision;this._applyColor(l,"stroke",this._stroke),null!==this._strokeWidth&&(this._setAttribute(l,"stroke-width",this._strokeWidth.toString()),this._strokeWidth>1&&this._setAttribute(l,"stroke-linejoin",this._STROKE_JOIN)),l.setAttribute("fill","none");for(var c="",h=0;h<a;h++)c+=t[h].toFixed(u)+","+e[h].toFixed(u)+" ";return l.setAttribute("points",c),i&&l.setAttribute("class",i),o&&this._setClipPath(l,o),this._applyStyle(l,r),this._appendChild(l),l}}return null},n.prototype.drawSplines=function(t,e,i,r,o,s){if(t&&e){var a=new Xv(t,e,s,this._options&&this._options.spline).calculate(),l=a.xs,u=a.ys,c=Math.min(l.length,u.length);if(c>0){var h=document.createElementNS(n.svgNS,"polyline"),d=this.precision;this._applyColor(h,"stroke",this._stroke),null!==this._strokeWidth&&(this._setAttribute(h,"stroke-width",this._strokeWidth.toString()),this._strokeWidth>1&&this._setAttribute(h,"stroke-linejoin",this._STROKE_JOIN)),h.setAttribute("fill","none");for(var f="",p=0;p<c;p++)f+=l[p].toFixed(d)+","+u[p].toFixed(d)+" ";return h.setAttribute("points",f),i&&h.setAttribute("class",i),o&&this._setClipPath(h,o),this._applyStyle(h,r),this._appendChild(h),h}}return null},n.prototype.drawPolygon=function(t,e,i,r,o){if(t&&e){var s=Math.min(t.length,e.length);if(s>0){var a=document.createElementNS(n.svgNS,"polygon"),l=this.precision;this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&(this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),this._strokeWidth>1&&this._setAttribute(a,"stroke-linejoin",this._STROKE_JOIN)),this._applyColor(a,"fill",this._fill);for(var u="",c=0;c<s;c++)u+=t[c].toFixed(l)+","+e[c].toFixed(l)+" ";return a.setAttribute("points",u),i&&a.setAttribute("class",i),o&&this._setClipPath(a,o),this._applyStyle(a,r),this._appendChild(a),a}}return null},n.prototype.drawPieSegment=function(t,e,i,r,o,s,a,l){if(o>=2*Math.PI)return this.drawEllipse(t,e,i,i,s,a);var u=document.createElementNS(n.svgNS,"path"),c=this.precision;this._applyColor(u,"fill",this._fill),this._applyColor(u,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(u,"stroke-width",this._strokeWidth.toString());var h=new T(t,e);h.x+=i*Math.cos(r),h.y+=i*Math.sin(r);var d=r+o,f=new T(t,e);f.x+=i*Math.cos(d),f.y+=i*Math.sin(d);var p=" 0 0,1 ";Math.abs(o)>Math.PI&&(p=" 0 1,1 ");var g="M "+h.x.toFixed(c)+","+h.y.toFixed(c);return g+=" A "+i.toFixed(c)+","+i.toFixed(c)+p,g+=f.x.toFixed(c)+","+f.y.toFixed(c),g+=" L "+t.toFixed(c)+","+e.toFixed(c)+" z",u.setAttribute("d",g),l&&this._setClipPath(u,l),s&&u.setAttribute("class",s),this._applyStyle(u,a),this._appendChild(u),u},n.prototype.drawDonutSegment=function(t,e,i,r,o,s,a,l,u){var c=!1;s>=2*Math.PI&&(c=!0,s-=.001);var h=document.createElementNS(n.svgNS,"path"),d=this.precision+2;this._applyColor(h,"fill",this._fill),this._applyColor(h,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(h,"stroke-width",this._strokeWidth.toString());var f=new T(t,e);f.x+=i*Math.cos(o),f.y+=i*Math.sin(o);var p=o+s,g=new T(t,e);g.x+=i*Math.cos(p),g.y+=i*Math.sin(p);var m=new T(t,e);m.x+=r*Math.cos(p),m.y+=r*Math.sin(p);var _=new T(t,e);_.x+=r*Math.cos(o),_.y+=r*Math.sin(o);var v=" 0 0,1 ",y=" 0 0,0 ";Math.abs(s)>Math.PI&&(v=" 0 1,1 ",y=" 0 1,0 ");var w="M "+f.x.toFixed(d)+","+f.y.toFixed(d);return w+=" A "+i.toFixed(d)+","+i.toFixed(d)+v,w+=g.x.toFixed(d)+","+g.y.toFixed(d),w+=c?" M "+m.x.toFixed(d)+","+m.y.toFixed(d):" L "+m.x.toFixed(d)+","+m.y.toFixed(d),w+=" A "+r.toFixed(d)+","+r.toFixed(d)+y,w+=_.x.toFixed(d)+","+_.y.toFixed(d),c||(w+=" z"),h.setAttribute("d",w),u&&this._setClipPath(h,u),a&&h.setAttribute("class",a),this._applyStyle(h,l),this._appendChild(h),h},n.prototype.drawString=function(t,e,i,r){var o=this._createText(e,t),s=this.precision;i&&o.setAttribute("class",i),this._applyStyle(o,r),this._appendChild(o);var a,l=this._getKey(t,i,this._groupCls);return this._bbCache[l]?o.setAttribute("y",(e.y-((a=this._bbCache[l]).y+a.height)).toFixed(s)):(a=this._getBBox(o),o.setAttribute("y",(e.y-(a.y+a.height-e.y)).toFixed(s))),this._isRtl&&!pt()&&o.setAttribute("x",(e.x+a.width).toFixed(s)),o},n.prototype.drawStringRotated=function(t,e,i,r,o,s){var a=this._createText(e,t),l=this.precision;o&&a.setAttribute("class",o),this._applyStyle(a,s);var u=document.createElementNS(n.svgNS,"g");u.setAttribute("transform","rotate("+r.toFixed(l)+","+i.x.toFixed(l)+","+i.y.toFixed(l)+")"),u.appendChild(a),this._appendChild(u);var c=this._getBBox(a);return a.setAttribute("y",(e.y-(c.y+c.height-e.y)).toFixed(l)),this._isRtl&&!pt()&&a.setAttribute("x",(e.x+c.width).toFixed(l)),a},n.prototype.measureString=function(t,e,i,r){var o=new Ke(0,0);if(!this._fontFamily&&!this._fontSize){var s=this._getKey(t,e,i);if(this._bbCache[s])return this._bbCache[s]}if(this.cssPriority)this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily);else{var a="";this._fontSize&&(a+="font-size:"+this._fontSize+";"),this._fontFamily&&(a+="font-family:"+this._fontFamily+";"),a.length>0&&this._text.setAttribute("style",a)}e&&this._text.setAttribute("class",e),i&&this._textGroup.setAttribute("class",i),this._applyStyle(this._text,r),this._setText(this._text,t);var l=this._getBBox(this._text);if(o.width=l.width,o.height=l.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),this._text.removeAttribute("style"),r)for(var u in r)this._text.removeAttribute(this._deCase(u));if(this._textGroup.removeAttribute("class"),this._text.textContent=null,!this._fontFamily&&!this._fontSize){var c=this._getKey(t,e,i);this._bbCache[c]={x:l.x,y:l.y+1e3,width:l.width,height:l.height}}return o},n.prototype.startGroup=function(t,e,i){void 0===i&&(i=!1);var r=document.createElementNS(n.svgNS,"g");return t&&(r.setAttribute("class",t),this._groupCls=t),e&&this._setClipPath(r,e),this._appendChild(r),i&&r.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=r,r},n.prototype.endGroup=function(){if(this._group){var t=this._group.parentNode;t==this._svg?(this._group=null,this._groupCls=null):(this._group=t,this._groupCls=this._getClass(this._group))}},n.prototype.drawImage=function(t,e,i,r,o){var s=document.createElementNS(n.svgNS,"image"),a=this.precision;return s.setAttributeNS(n.xlinkNS,"href",t),s.setAttribute("x",e.toFixed(a)),s.setAttribute("y",i.toFixed(a)),s.setAttribute("width",r.toFixed(a)),s.setAttribute("height",o.toFixed(a)),this._appendChild(s),s},n.prototype._setClipPath=function(t,e){t.setAttribute("clip-path","url(#"+e+")"),n._isSafari&&ie(t,{"-webkit-clip-path":"url(#"+e+")"})},n.prototype._appendChild=function(t){if(!this.readOnly){var e=this._group;e||(e=this._svg),e.appendChild(t)}},n.prototype._create=function(){this._svg=document.createElementNS(n.svgNS,"svg"),this._defs=document.createElementNS(n.svgNS,"defs"),this._svg.appendChild(this._defs),this._text=this._createText(new T(-1e3,-1e3),""),this._textGroup=document.createElementNS(n.svgNS,"g"),this._textGroup.appendChild(this._text),this._svg.appendChild(this._textGroup)},n.prototype._setText=function(t,e){var i=e?e.toString():null;if(i&&i.indexOf("tspan")>=0)try{t.textContent=null;for(var s=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">'+i+"</svg>","text/xml").documentElement.firstChild;s;)t.appendChild(t.ownerDocument.importNode(s,!0)),s=s.nextSibling}catch{throw new Error("Error parsing XML string.")}else t.textContent=i},n.prototype._getKey=function(t,e,i){return t+(e||"")+(i||"")},n.prototype._createText=function(t,e){var i=document.createElementNS(n.svgNS,"text"),r=this.precision;if(this._setText(i,e),i.setAttribute("x",t.x.toFixed(r)),i.setAttribute("y",t.y.toFixed(r)),this.cssPriority)null!=this._textFill&&i.setAttribute("fill",this._textFill),this._fontSize&&i.setAttribute("font-size",this._fontSize),this._fontFamily&&i.setAttribute("font-family",this._fontFamily);else{var o="";null!=this._textFill&&(o+="fill:"+this._textFill+";"),this._fontSize&&(o+="font-size:"+this._fontSize+";"),this._fontFamily&&(o+="font-family:"+this._fontFamily+";"),o.length>0&&i.setAttribute("style",o)}return i},n.prototype._applyStyle=function(t,e){if(e)for(var i in e)"fill"===i||"stroke"===i?this._applyColor(t,i,e[i]):t.setAttribute(this._deCase(i),e[i])},n.prototype._deCase=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},n.prototype._getClass=function(t){var e;if(t)for(var i=t;i&&!(e=i.getAttribute("class"));i=i.parentNode);return e},n.prototype._getBBox=function(t){if(!n._isff)return t.getBBox();try{return t.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},n.prototype._applyColor=function(t,e,i){var r=f8.tryParse(i);if(null!=r){if(!xe(r)){if(null==this._savedGradient[i]){var o,s="gc"+(1e6*Math.random()).toFixed();null!=r.x1?(o=document.createElementNS(n.svgNS,"linearGradient"),["x1","y1","x2","y2","gradientUnits"].forEach(function(a){null!=r[a]&&o.setAttribute(a,r[a])})):null!=r.r&&(o=document.createElementNS(n.svgNS,"radialGradient"),["cx","cy","r","fx","fy","fr","gradientUnits"].forEach(function(a){null!=r[a]&&o.setAttribute(a,r[a])})),r.colors&&r.colors&&r.colors.length>0&&r.colors.forEach(function(a){var l=document.createElementNS(n.svgNS,"stop");null!=a.color&&l.setAttribute("stop-color",a.color),null!=a.offset&&l.setAttribute("offset",a.offset),null!=a.opacity&&l.setAttribute("stop-opacity",a.opacity),o.appendChild(l)}),o.setAttribute("id",s),this._defs.appendChild(o),this._savedGradient[i]=s}r="url("+this._baseUrl+"#"+this._savedGradient[i]+")"}this.cssPriority?t.setAttribute(e,r):this._addInlineStyle(t,e,r)}},n.prototype._addInlineStyle=function(t,e,i){var r=t.getAttribute("style");t.setAttribute("style",r?r+e+":"+i+";":e+":"+i+";")},n.prototype._setAttribute=function(t,e,i){this.cssPriority?t.setAttribute(e,i):this._addInlineStyle(t,e,i)},n.prototype._checkRtl=function(){return this._element&&gt(this._element,"wj-rtl")},n.svgNS="http://www.w3.org/2000/svg",n.xlinkNS="http://www.w3.org/1999/xlink",n}(),f8=function(){function n(){}return n.tryParse=function(t){if(n.parsedColor[t])return n.parsedColor[t];if(null==t||-1===t.indexOf("-")||-1!==t.indexOf("var("))return t;var e,i=t.replace(/\s+/g,"").split(/\-/g),r=i[0][0],o=!1,s=i[0].match(/\(\S+\)/);if(!s||0==s.length)return t;var a=s[0].replace(/[\(\\)]/g,"").split(/\,/g);"l"===r||"L"===r?(e={x1:"0",y1:"0",x2:"0",y2:"0",colors:[]},"l"===r&&(o=!0),["x1","y1","x2","y2"].forEach(function(u,c){null!=a[c]&&(e[u]=o?100*+a[c]+"%":a[c]+"")})):("r"===r||"R"===r)&&(e={cx:"0",cy:"0",r:"0",colors:[]},"r"===r&&(o=!0),["cx","cy","r","fx","fy","fr"].forEach(function(u,c){null!=a[c]&&""!==a[c]&&(e[u]=o?100*+a[c]+"%":a[c]+"")})),o||(e.gradientUnits="userSpaceOnUse"),n.parsedColor[t]=e;var l=i.length-1;return i.forEach(function(u,c){u.indexOf(")")>-1&&(u=u.match(/\)\S+/)[0].replace(")",""));var h=u.split(":"),d={color:"black"};null!=h[0]&&(d.color=h[0]),d.offset=null!=h[1]?o?100*+h[1]+"%":h[1]+"":c/l*100+"%",null!=h[2]&&(d.opacity=h[2]),e.colors.push(d)}),e},n.parsedColor={},n}(),U1=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Rn(t,n),t}(Os),Vl=function(){function n(t){this._position=Z.Right,this._title="",this._titleAlign="left",this._titlePadding=5,this._areas=new Array,this._sz=new Ke,this._colRowLens=[],this._orient=es.Auto,this._scrollbar=!1,this._chart=t}return Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(t){(t=Ie(t,Z))!=this._position&&(this._position=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=U(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titleAlign",{get:function(){return this._titleAlign},set:function(t){if(t!=this._titleAlign){var e=U(t,!1);this._titleAlign="right"===e?"right":"center"===e?"center":"left",this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orient},set:function(t){(t=Ie(t,es))!=this._orient&&(this._orient=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxSize",{get:function(){return this._maxSz},set:function(t){if(t!=this._maxSz){if(J(t))this._maxSz=t;else if(xe(t)){var e=U(t);ge(St._endsWith(e,"px")||St._endsWith(e,"%"),"number with unit (px or %) expected."),this._maxSz=e}else t&&ge(!1,"number or string expected.");this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollbar",{get:function(){return this._scrollbar},set:function(t){t!=this._scrollbar&&(this._scrollbar=N(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),n.prototype._getDesiredSize=function(t,e,i,r){if(e==Z.None)return null;var o=this.orientation==es.Auto?e==Z.Right||e==Z.Left:this.orientation==es.Vertical,s=new Ke;this.title.length>0&&(r-=(s=t.measureString(this.title,"wj-title","wj-legend")).height+this._titlePadding);var a=this._chart._getDesiredLegendSize(t,o,i,r);return null!=a&&(this.title.length>0&&(a.height+=s.height+this._titlePadding,s.width>a.width&&(a.width=s.width)),this._sz=a.clone(),this.scrollbar&&a.height>r&&(o&&(a.width+=18),a.height=r)),a},n.prototype._getPosition=function(t,e){return this.position==Z.Auto?t>=e?Z.Right:Z.Bottom:this.position},n.prototype._render=function(t,e,i,r,o){this._areas=[];var s=this.orientation==es.Auto?i==Z.Right||i==Z.Left:this.orientation==es.Vertical,a=0;if(t.fill="transparent",t.stroke=null,t.drawRect(e.x,e.y,r,o),this.title.length){var l=e.clone(),u=t.measureString(this.title,"wj-title`");l.y+=u.height,"right"===this.titleAlign?l.x=e.x+r-u.width:"center"===this.titleAlign&&(l.x=e.x+.5*(r-u.width)),t.drawString(this.title,l,"wj-title"),e.y+=a=u.height+this._titlePadding,o-=a}var c=!1;this.scrollbar&&this._sz.height>o&&(c=!0),this._chart._renderLegend(t,e,this._areas,s,c?r-18:r,o),c&&(e.y-=a,this._addScrollbar(t,e,r,o+=a,this._sz.height))},n.prototype._hitTest=function(t){for(var e=this._areas,i=0;i<e.length;i++)if(e[i]&&St._contains(e[i],t))return i;return null},n.prototype._addScrollbar=function(t,e,i,r,o){t.endGroup();var s=t.element,a=s.children.item(s.children.length-1);a.removeAttribute("clip-path"),a.remove(),Array.from(a.querySelectorAll("text,rect")).forEach(function(h){h.setAttribute("x",(+h.getAttribute("x")-e.x).toFixed(2)),h.setAttribute("y",(+h.getAttribute("y")-e.y).toFixed(2))}),Array.from(a.querySelectorAll("ellipse")).forEach(function(h){h.setAttribute("cx",(+h.getAttribute("cx")-e.x).toFixed(2)),h.setAttribute("cy",(+h.getAttribute("cy")-e.y).toFixed(2))}),Array.from(a.querySelectorAll("line")).forEach(function(h){h.setAttribute("x1",(+h.getAttribute("x1")-e.x).toFixed(2)),h.setAttribute("y1",(+h.getAttribute("y1")-e.y).toFixed(2)),h.setAttribute("x2",(+h.getAttribute("x2")-e.x).toFixed(2)),h.setAttribute("y2",(+h.getAttribute("y2")-e.y).toFixed(2))});var l=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");l.setAttribute("x",e.x.toFixed(2)),l.setAttribute("y",e.y.toFixed(2)),l.setAttribute("width",i.toFixed(2)),l.setAttribute("height",r.toFixed(2));var u=document.createElement("div");u.setAttribute("style","height:100%;overflow-x:hidden;overflow-y:scroll;");var c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("width",i.toFixed(2)),c.setAttribute("height",o.toFixed(2)),c.appendChild(a),u.appendChild(c),l.appendChild(u),s.appendChild(l)},n.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},n.prototype._getMaxSize=function(t){var e=this.maxSize;if(J(e)){if((r=F(e,!0))>0)return Math.min(r,t)}else{var i=U(e,!0);if(i)if(St._endsWith(i,"px")){if((r=parseFloat(i.replace("px","")))>0)return Math.min(r,t)}else if(St._endsWith(i,"%")){var r;if((r=parseFloat(i.replace("%","")))>0)return t*Math.min(r,100)/100}}return.5*t},n}(),$1=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},Eo=function(n){function t(e){var i=n.call(this)||this;return i._engine=e,i}return Rn(t,n),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(zt),q1=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o._index=i,o._count=r,o}return Rn(t,n),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),t}(Eo);!function(n){n[n.Png=0]="Png",n[n.Jpeg=1]="Jpeg",n[n.Svg=2]="Svg"}(Hl||(Hl={})),function(n){n[n.None=0]="None",n[n.Series=1]="Series",n[n.Point=2]="Point"}(bi||(bi={})),function(n){n[n.None=0]="None",n[n.Left=1]="Left",n[n.Top=2]="Top",n[n.Right=3]="Right",n[n.Bottom=4]="Bottom",n[n.Auto=5]="Auto"}(Z||(Z={})),function(n){n[n.Auto=0]="Auto",n[n.Vertical=1]="Vertical",n[n.Horizontal=2]="Horizontal"}(es||(es={}));var me,cn,St=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._palette=null,e._selectionMode=bi.None,e._defPalette=Ll.standard,e._notifyCurrentChanged=!0,e._legendHost=null,e._needBind=!1,e._skipLightClr=!1,e.rendering=new k,e.rendered=new k,e.itemsSourceChanging=new k,e.itemsSourceChanged=new k,e.selectionChanged=new k,e}return Rn(t,n),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){if(this._items!=e){var i=new zt;if(!this.onItemsSourceChanging(i))return;this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=Is(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this.onItemsSourceChanged(i),this._bindChart()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){e!=this._palette&&(this._palette=Dn(e),this._skipLightClr=Ll._isExtended(this._palette),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(e){e!=this._plotMargin&&(this._plotMargin=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend},set:function(e){e!=this._legend&&(this._legend=Pe(e,Vl),null!=this._legend&&(this._legend._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},set:function(e){e!=this._header&&(this._header=U(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},set:function(e){e!=this._footer&&(this._footer=U(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(e){e!=this._headerStyle&&(this._headerStyle=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(e){e!=this._footerStyle&&(this._footerStyle=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(e){(e=Ie(e,bi))!=this._selectionMode&&(this._selectionMode=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Ot(e),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(e){this.rendering.raise(this,e)},t.prototype.onRendered=function(e){this.rendered.raise(this,e)},t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.saveImageToFile=function(e){var i,r,o,s;e&&0!==e.length&&-1!==e.indexOf(".")||(e="image.png"),s=e.split("."),i=s[0],r=s[1].toLowerCase(),o=Hl[r[0].toUpperCase()+r.substring(1)],this.saveImageToDataUrl(o,function(a){Cf.downloadImage(a,i,r)})},t.prototype.saveImageToDataUrl=function(e,i){var r=Ie(e,Hl,!1),o=Hl[r].toLowerCase();o&&o.length&&this._exportToImage(o,function(s){i.call(i,s)})},t.prototype.saveSvgToDataUrl=function(e,i){void 0===i&&(i=!0),this._exportToImage("svg",function(r){e.call(e,r)},{embedCss:i})},t.prototype.saveSvgToFile=function(e,i){void 0===i&&(i=!0),this.saveSvgToDataUrl(function(r){Cf.downloadImage(r,e,"svg")},i)},t.prototype._exportToImage=function(e,i,r){var o=this;void 0===r&&(r=null);var s=this._currentRenderEngine.element;r&&!1===r.embedCss?Cf.getDataUri2(s,this,function(a){o.prepareDataUri(s,e,a,i)}):Cf.getDataUri(s,this,function(a){o.prepareDataUri(s,e,a,i)})},t.prototype.prepareDataUri=function(e,i,r,o){var s=this;if("svg"===i)o.call(null,r);else{var a=new Image;a.onload=function(){var l,u=document.createElement("canvas"),c=e.parentNode||e,h=Ki(c);u.width=h.width,u.height=h.height;var d=u.getContext("2d"),f=s._bgColor(s.hostElement);s._isTransparent(f)&&(f="#ffffff"),d.fillStyle=f,d.fillRect(0,0,h.width,h.height);var p=window.getComputedStyle(c,null).getPropertyValue("padding-left").replace("px",""),g=window.getComputedStyle(c,null).getPropertyValue("padding-top").replace("px","");d.drawImage(a,+p||0,+g||0),l=u.toDataURL("image/"+i),o.call(null,l),u=null},a.src=r}},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.isUpdating||this._refreshChart()},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLostFocus=function(e){this._tooltip&&this._tooltip.isVisible&&!this.isTouching&&this._tooltip.hide(),n.prototype.onLostFocus.call(this,e)},t.prototype._cvCollectionChanged=function(e,i){this._clearCachedValues(),this._bindChart()},t.prototype._cvCurrentChanged=function(e,i){this._notifyCurrentChanged&&this._bindChart()},t.prototype._bgColor=function(e){if(!e)return"transparent";var i=getComputedStyle(e).backgroundColor;return this._isTransparent(i)?this._bgColor(e.parentElement):i},t.prototype._isTransparent=function(e){var i=new wn(e);return 0==i.a&&0==i.b&&0==i.g&&0==i.r},t.prototype._getColor=function(e){var i=this._defPalette;return null!=this._palette&&this._palette.length>0&&(i=this._palette),i[e%i.length]},t.prototype._getColorLight=function(e){var i=this._getColor(e);return this._skipLightClr||(i=this._getLightColor(i)),i},t.prototype._getLightColor=function(e){var i=new wn(e);return null!=i&&-1===e.indexOf("-")&&(1==i.a&&-1==e.indexOf("rgba")&&-1==e.indexOf("hsla")&&(i.a*=.7),e=i.toString()),e},t.prototype._bindChart=function(){this._needBind=!0,this.invalidate()},t.prototype._clearCachedValues=function(){},t.prototype._renderEls=function(e,i,r,o,s){void 0===r&&(r=!0),void 0===o&&(o=null),void 0===s&&(s=!1);var a=i.width,l=i.height;if(0!=a){(isNaN(a)||a<0)&&(a=t._WIDTH),(l<=0||isNaN(l))&&(l=t._HEIGHT);var u=a>0&&l>0;u&&e.setViewportSize(a,l);var c=0;if(this.legend.scrollbar&&this._legendHost&&(p=this._legendHost.closest("div"))&&(c=p.scrollTop),e.beginRender(),e.cssPriority=!0,u){if(this._rectChart=new K(0,0,a,l),this._prepareRender(),o){var h=e.stroke,d=e.fill;e.fill=o,e.stroke=null,e.drawRect(0,0,a,l),e.fill=d,e.stroke=h}var p,f=new K(0,0,a,l);this._chartRectId="chartRect"+(1e6*Math.random()).toFixed(),e.addClipRect(f,this._chartRectId),this._renderHeader(e,f),this._renderFooter(e,f),this._renderLegends(e,f),this._renderChart(e,f,r),this.legend.scrollbar&&this._legendHost&&(p=this._legendHost.closest("div"))&&(p.scrollTop=c)}e.endRender()}},t.prototype._render=function(e,i,r){void 0===i&&(i=!0),void 0===r&&(r=null);var o=this._getHostSize();if(this._h){var s=o.height-this._h;s>=4&&s<=6&&!1!==this._isPCUnit("height")&&(o.height=this._h)}this._h=o.height,this._renderEls(e,o,i,r)},t.prototype._isPCUnit=function(e){var i=null,r=this.hostElement;if(r&&r.computedStyleMap){var o=r.computedStyleMap();if(o){var s=o.get(e);s&&(i="percent"==s.unit)}}return i},t.prototype._renderHidden=function(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=document.createElement("div");Me(r,this.hostElement.getAttribute("class")||""),r.style.visibility="hidden";var o=new Os(r);if(document.body.appendChild(r),!e){var s=this._getHostComputedStyle(),a=0,l=0;s&&(a=this._parsePx(s.width),l=this._parsePx(s.height),0==a&&(a=t._WIDTH),0==l&&(l=t._HEIGHT),a-=this._parsePx(s.paddingLeft),a-=this._parsePx(s.paddingRight),l-=this._parsePx(s.paddingTop),l-=this._parsePx(s.paddingBottom),a-=this._parsePx(s.borderLeftWidth),a-=this._parsePx(s.borderRightWidth),l-=this._parsePx(s.borderTopWidth),l-=this._parsePx(s.borderBottomWidth)),0==a&&(a=t._WIDTH),0==l&&(l=t._HEIGHT),e=new Ke(a,l)}return this._renderEls(o,e,!0,i,!0),Dt(r),o.element},t.prototype._renderHeader=function(e,i){e.startGroup(t._CSS_HEADER,this._chartRectId),i=this._drawTitle(e,i,this.header,this.headerStyle,!1),e.endGroup()},t.prototype._renderFooter=function(e,i){e.startGroup(t._CSS_FOOTER,this._chartRectId),i=this._drawTitle(e,i,this.footer,this.footerStyle,!0),e.endGroup()},t.prototype._renderLegends=function(e,i){var r,o,s=this.legend,a=i.width,l=i.height,u=s._getPosition(a,l),c=a,h=l;if(u==Z.Left||u==Z.Right?c=this._getLegendSize(a,c):h=this._getLegendSize(l,h),r=s._getDesiredSize(e,u,c,h)){switch(u==Z.Left||u==Z.Right?r.width=this._getLegendSize(a,r.width):r.height=this._getLegendSize(l,r.height),r.height>i.height&&(r.height=i.height),u){case Z.Right:o=new T(a-=r.width,i.top+.5*(l-r.height));break;case Z.Left:i.left+=r.width,a-=r.width,o=new T(0,i.top+.5*(l-r.height));break;case Z.Top:l-=r.height,o=new T(.5*(a-r.width),i.top),i.top+=r.height;break;case Z.Bottom:o=new T(.5*(a-r.width),i.top+(l-=r.height))}i.width=a,i.height=l,this._rectLegend=new K(o.x,o.y,r.width,r.height);var d="legRect"+(1e6*Math.random()).toFixed();e.addClipRect(this._rectLegend,d),this._legendHost=e.startGroup(t._CSS_LEGEND,d),this.legend._render(e,o,u,r.width,r.height),e.endGroup()}else this._legendHost=null,this._rectLegend=null},t.prototype._prepareRender=function(){},t.prototype._renderChart=function(e,i,r){},t.prototype._performBind=function(){},t.prototype._getDesiredLegendSize=function(e,i,r,o){return null},t.prototype._renderLegend=function(e,i,r,o,s,a){},t.prototype._getHitTestItem=function(e){return null},t.prototype._getHitTestValue=function(e,i){return null},t.prototype._getHitTestLabel=function(e){return null},t.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind()),this.hostElement&&this._render(this._currentRenderEngine)},t.prototype._drawTitle=function(e,i,r,o,s){var a=t._CSS_TITLE,l=s?t._CSS_FOOTER:t._CSS_HEADER,u=null;if(s?this._rectFooter=null:this._rectHeader=null,null!=r){var c=null,h=null,d=null,f=null;o&&(o.fontSize&&(c=o.fontSize),o.foreground&&(h=o.foreground),o.fill&&(h=o.fill),o.fontFamily&&(d=o.fontFamily),o.halign&&(f=o.halign)),e.fontSize=c,e.fontFamily=d,u=e.measureString(r,a,l,o),i.height-=u.height,h||(h=t._FG),e.textFill=h,s?("left"==f?t._renderText(e,r,new T(i.left,i.bottom),0,0,a,l,o):"right"==f?t._renderText(e,r,new T(i.left+i.width,i.bottom),2,0,a,l,o):t._renderText(e,r,new T(i.left+.5*i.width,i.bottom),1,0,a,l,o),this._rectFooter=new K(i.left,i.bottom,i.width,u.height)):(this._rectHeader=new K(i.left,i.top,i.width,u.height),i.top+=u.height,"left"==f?t._renderText(e,r,new T(i.left,0),0,0,a,l,o):"right"==f?t._renderText(e,r,new T(i.left+i.width,0),2,0,a,l,o):t._renderText(e,r,new T(i.left+.5*i.width,0),1,0,a,l,o)),e.textFill=null,e.fontSize=null,e.fontFamily=null}return i},t.prototype.pageToControl=function(e,i){return this._toControl(e,i)},t.prototype._toControl=function(e,i){J(e)&&J(i)?e=new T(e,i):e instanceof MouseEvent&&(e=Ss(e)),Pe(e,T);var r=e.clone(),o=this._getHostOffset();r.x-=o.x,r.y-=o.y;var s=this._currentRenderEngine?this._currentRenderEngine.element:null;if(null!=s){var a=s.getBoundingClientRect(),l=parseFloat(s.getAttribute("width")),u=parseFloat(s.getAttribute("height"));a.width!=l&&(r.x*=l/a.width),a.height!=u&&(r.y*=u/a.height)}var c=this._getHostComputedStyle();if(c){var h=parseInt(c.paddingLeft.replace("px",""));h&&!isNaN(h)&&(r.x-=h);var d=parseInt(c.paddingTop.replace("px",""));d&&!isNaN(d)&&(r.y-=d)}return r},t.prototype._highlightItems=function(e,i,r){if(r)for(var o=0;o<e.length;o++)Me(e[o],i);else for(o=0;o<e.length;o++)ui(e[o],i)},t.prototype._parseMargin=function(e){var i={};if(J(e)&&!isNaN(e))i.top=i.bottom=i.left=i.right=F(e);else if(xe(e)){var r=U(e).split(" ",4),o=NaN,s=NaN,a=NaN,l=NaN;r&&(4==r.length?(o=parseFloat(r[0]),l=parseFloat(r[1]),s=parseFloat(r[2]),a=parseFloat(r[3])):2==r.length?(o=s=parseFloat(r[0]),a=l=parseFloat(r[1])):1==r.length&&(o=s=a=l=parseFloat(r[1])),isNaN(o)||(i.top=o),isNaN(s)||(i.bottom=s),isNaN(a)||(i.left=a),isNaN(l)||(i.right=l))}return i},t.prototype._showToolTip=function(e,i){var r=this,o=this._tooltip.showDelay;r._clearTimeouts(),r.isDisabled||(e||r._tooltip.hide(),o>0?r._toShow=setTimeout(function(){r._tooltip.show(r.hostElement,e,i),r._tooltip.hideDelay>0&&(r._toHide=setTimeout(function(){r._tooltip.hide()},r._tooltip.hideDelay))},o):(r._tooltip.show(r.hostElement,e,i),r._tooltip.hideDelay>0&&(r._toHide=setTimeout(function(){r._tooltip.hide()},r._tooltip.hideDelay))))},t.prototype._hideToolTip=function(){this._clearTimeouts(),this._tooltip.hide()},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},t.prototype._getHostOffset=function(){var e=Ki(this.hostElement);return new T(e.left,e.top)},t.prototype._getHostSize=function(){var e=new Ke,i=this.hostElement,r=this._getHostComputedStyle(),o=i.offsetWidth,s=i.offsetHeight;return r&&(o-=this._parsePx(r.paddingLeft),o-=this._parsePx(r.paddingRight),s-=this._parsePx(r.paddingTop),s-=this._parsePx(r.paddingBottom),o-=this._parsePx(r.borderLeftWidth),o-=this._parsePx(r.borderRightWidth),s-=this._parsePx(r.borderTopWidth),s-=this._parsePx(r.borderBottomWidth),e.width=o,e.height=s),e},t.prototype._parsePx=function(e){var i=parseFloat(e.replace("px",""));return isNaN(i)?0:i},t.prototype._getHostComputedStyle=function(){var e=this.hostElement;return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},t.prototype._find=function(e,i){for(var r=[],o=0;o<e.childElementCount;o++){var s=e.childNodes.item(o);if(i.indexOf(s.nodeName)>=0)r.push(s);else{var a=this._find(s,i);if(a.length>0)for(var l=0;l<a.length;l++)r.push(a[l])}}return r},t.prototype._getLegendSize=function(e,i){return Math.min(i,this.legend._getMaxSize(e))},t._contains=function(e,i){return!(!e||!i)&&i.x>=e.left&&i.x<=e.right&&i.y>=e.top&&i.y<=e.bottom},t._intersects=function(e,i){return!(e.left>i.right||e.right<i.left||e.top>i.bottom||e.bottom<i.top)},t._toOADate=function(e){return e.valueOf()},t._fromOADate=function(e){return new Date(e)},t._renderText=function(e,i,r,o,s,a,l,u,c){var h=e.measureString(i,a,l,u),d=r.x,f=r.y;switch(o){case 1:d-=.5*h.width;break;case 2:d-=h.width}switch(s){case 1:f+=.5*h.height;break;case 0:f+=h.height}var p=new K(d,f-h.height,h.width,h.height);return c?c(p)?(e.drawString(i,new T(d,f),a,u),p):null:(e.drawString(i,new T(d,f),a,u),p)},t._renderRotatedText=function(e,i,r,o,s,a,l,u,c,h){var d=e.measureString(i,u,c,h),f=r.x,p=r.y;switch(o){case 1:f-=.5*d.width;break;case 2:f-=d.width}switch(s){case 1:p+=.5*d.height;break;case 0:p+=d.height}return e.drawStringRotated(i,new T(f,p),a,l,u,h)},t._endsWith=function(e,i){if(e&&i){var r=e.length-i.length;return r>=0&&e.indexOf(i,r)===r}return!1},t._WIDTH=300,t._HEIGHT=200,t._SELECTION_THRESHOLD=15,t._CSS_LEGEND="wj-legend",t._CSS_HEADER="wj-header",t._CSS_FOOTER="wj-footer",t._CSS_TITLE="wj-title",t._CSS_LABEL="wj-label",t._CSS_SELECTION="wj-state-selected",t._CSS_PLOT_AREA="wj-plot-area",t._FG="#666",t._epoch=new Date(1899,11,30).getTime(),t._msPerDay=864e5,t}(z),Kv=function(){function n(){this._keys={},this._keys.seriesName=null,this._keys.pointIndex=null,this._keys.x=null,this._keys.y=null,this._keys.value=null,this._keys.name=null}return n.prototype.replace=function(t,e){var i=this;return pr(t,{},function(r,o,s,a){return i.getValue(o,e,s)})},n.prototype.getValue=function(t,e,i){switch(t){case"seriesName":return e.series?e.series.name:"";case"pointIndex":return null!=e.pointIndex?e.pointIndex.toFixed():"";case"x":return i?Se.format(e.x,i):e._xfmt;case"y":return i?Se.format(e.y,i):e._yfmt;case"value":return i?Se.format(e.value,i):e._getValueFmt();case"name":return e.name}if(e.item){0==t.indexOf("item.")&&(t=t.substr(5));var r=e.item[t];if(!fr(r))return i?Se.format(r,i):r}return""},n}(),Cf=function(){function n(){}return n.downloadImage=function(t,e,i){var r=document.createElement("a"),o="image/"+i;if(navigator.msSaveOrOpenBlob){t=t.substring(t.indexOf(",")+1);var s,a,l,u=atob(t),c=[];for(s=0;s<u.length;s+=512){a=u.slice(s,s+512);for(var h=new Array(a.length),d=0;d<a.length;d++)h[d]=a.charCodeAt(d);var f=new Uint8Array(h);c.push(f)}l=new Blob(c,{type:o}),navigator.msSaveOrOpenBlob(l,e+"."+i)}else r.download=e+"."+i,r.href=t,document.body.appendChild(r),r.addEventListener("click",function(p){Dt(r)}),r.click()},n.getDataUri=function(t,e,i){var r,o,s,a,l,u,c,h,d,f,p=document.createElement("div"),g=t.cloneNode(!0),m=!1;if("svg"==t.tagName?(o=(r=Ki(t.parentNode||t)).width||0,s=r.height||0,0==o&&(m=!0),a=t.viewBox.baseVal&&0!==t.viewBox.baseVal.width?t.viewBox.baseVal.width:o,l=t.viewBox.baseVal&&0!==t.viewBox.baseVal.height?t.viewBox.baseVal.height:s):(o=(u=t.getBBox()).x+u.width,s=u.y+u.height,g.setAttribute("transform",g.getAttribute("transform").replace(/translate\(.*?\)/,"")),a=o,l=s,(h=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(g),g=h),m){var _=e._renderHidden(),v=e._getHostComputedStyle(),y=0,w=0;v&&(y=e._parsePx(v.width),w=e._parsePx(v.height)),0==y&&(y=St._WIDTH),0==w&&(w=St._HEIGHT),a=o=y,l=s=w,g=_.cloneNode(!0)}g.setAttribute("version","1.1"),g.setAttributeNS(n.xmlns,"xmlns","http://www.w3.org/2000/svg"),g.setAttributeNS(n.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink"),g.setAttribute("width",o),g.setAttribute("height",s),g.setAttribute("viewBox","0 0 "+a+" "+l),Me(g,t.parentNode&&t.parentNode.getAttribute("class")||""),p.appendChild(g),c=n.getStyles(t),c+=".wj-flexchart{margin:0px;padding:0px;border:none;width:"+o+"px;height:"+s+"px;}\n",(d=document.createElement("style")).setAttribute("type","text/css"),d.innerHTML="<![CDATA[\n"+c+"\n]]>",(f=document.createElementNS("http://www.w3.org/2000/svg","defs")).appendChild(d),g.insertBefore(f,g.firstChild),pt()||g.querySelectorAll("foreignObject").forEach(function(I){g.removeChild(I)});var b=e._currentRenderEngine.canvas;if(b){var C=document.createElementNS("http://www.w3.org/2000/svg","image");C.setAttribute("width",b.width),C.setAttribute("height",b.height),C.setAttribute("href",b.toDataURL()),g.insertBefore(C,g.firstChild),e.invalidate()}this.convertImagesToDataUrl(g,function(){var I="data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(n.doctype+p.innerHTML)));i.call(null,I)})},n.convertImagesToDataUrl=function(t,e){var i=t.querySelectorAll("image");if(0!==i.length){var r=Array.from(i);Array.from(i).forEach(function(o){var s=new Image;s.onload=function(){var a=document.createElement("canvas");a.width=+o.getAttribute("width"),a.height=+o.getAttribute("height");var l=a.getContext("2d"),u=s.width/s.height;u<a.width/a.height?l.drawImage(s,0,0,s.width,s.height,.5*(a.width-u*a.height),0,u*a.height,a.height):l.drawImage(s,0,0,s.width,s.height,0,.5*(a.height-a.width/u),a.width,a.width/u),o.setAttribute("href",a.toDataURL()),s.remove(),r.splice(r.indexOf(o),1),0==r.length&&e()},s.src=o.getAttribute("href")})}else e()},n.getDataUri2=function(t,e,i){var r,o,s,a,l,u,c,h=document.createElement("div"),d=this.cloneWithComputedStyles(t),f=!1;if("svg"==t.tagName?(o=(r=Ki(t.parentNode||t)).width||0,s=r.height||0,0==o&&(f=!0),a=t.viewBox.baseVal&&0!==t.viewBox.baseVal.width?t.viewBox.baseVal.width:o,l=t.viewBox.baseVal&&0!==t.viewBox.baseVal.height?t.viewBox.baseVal.height:s):(o=(u=t.getBBox()).x+u.width,s=u.y+u.height,d.setAttribute("transform",d.getAttribute("transform").replace(/translate\(.*?\)/,"")),a=o,l=s,(c=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(d),d=c),f){var p=e._renderHidden(),g=e._getHostComputedStyle(),m=0,_=0;g&&(m=e._parsePx(g.width),_=e._parsePx(g.height)),0==m&&(m=St._WIDTH),0==_&&(_=St._HEIGHT),a=o=m,l=s=_,d=this.cloneWithComputedStyles(p)}d.setAttribute("version","1.1"),d.setAttributeNS(n.xmlns,"xmlns","http://www.w3.org/2000/svg"),d.setAttributeNS(n.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink"),d.setAttribute("width",o),d.setAttribute("height",s),d.setAttribute("viewBox","0 0 "+a+" "+l),h.appendChild(d);var v=e._currentRenderEngine.canvas;if(v){var y=document.createElementNS("http://www.w3.org/2000/svg","image");y.setAttribute("width",v.width),y.setAttribute("height",v.height),y.setAttribute("href",v.toDataURL()),d.insertBefore(y,d.firstChild),e.invalidate()}this.convertImagesToDataUrl(d,function(){var w="data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(n.doctype+h.innerHTML)));i.call(null,w)})},n.computeAttributes=function(t,e,i){var r=getComputedStyle(t);i.forEach(function(o){var s=r.getPropertyValue(o);s&&s.length>0&&e.setAttribute(o,s)})},n.cloneWithComputedStyles=function(t){var e=this,i=t.cloneNode();return Array.from(t.childNodes).forEach(function(r){var o=e.cloneWithComputedStyles(r);1===r.nodeType&&("text"===r.nodeName?e.computeAttributes(r,o,e.textAttrs):"line"===r.nodeName&&e.computeAttributes(r,o,e.lineAttrs)),i.appendChild(o)}),i},n.getStyles=function(t){var e="",i=document.styleSheets;if(null==i||0===i.length)return null;[].forEach.call(i,function(s){try{if(null==s.cssRules||0===s.cssRules.length)return!0}catch(l){if("SecurityError"==l.name)return console.log("SecurityError. Can't read: "+s.href),!0}[].forEach.call(s.cssRules,function(l){var u,c=l.style;if(null==c)return!0;var h=l.selectorText;if(pt()&&h){var d=h.match(/\[(.*?)\]/g);d&&d.forEach(function(f){return h=h.replace(f,f.replace(":","\\:"))})}try{u=".wj-flexchart"==h||t.querySelector(h)}catch(f){console.warn('Invalid CSS selector "'+l.selectorText+'"',f)}u?e+=l.selectorText+" { "+c.cssText+" }\n":l.cssText.match(/^@font-face/)&&(e+=l.cssText+"\n")})});var r=getComputedStyle(t),o=r?r.getPropertyValue("font"):null;return o&&(e+=".wj-flexchart{font:"+o+"}\n"),e},n.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',n.xmlns="http://www.w3.org/2000/xmlns/",n.textAttrs=["font-family","font-size","font-style","font-weight","fill"],n.lineAttrs=["stroke","stroke-width","stroke-dasharray"],n}(),xf=function(n){function t(){var e=n.call(this)||this;return e._content="<b>{seriesName}</b><br/>{x} {y}",e._threshold=15,e}return Rn(t,n),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){e!=this._content&&(this._content=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"threshold",{get:function(){return this._threshold},set:function(e){e!=this._threshold&&(this._threshold=F(e))},enumerable:!0,configurable:!0}),t.prototype.show=function(e,i,r){n.prototype.show.call(this,e,i,r);var o=t._eTip;o&&o.style&&(o.style.pointerEvents="none")},t}(Ol);!function(n){n[n.Column=0]="Column",n[n.Bar=1]="Bar",n[n.Scatter=2]="Scatter",n[n.Line=3]="Line",n[n.LineSymbols=4]="LineSymbols",n[n.Area=5]="Area",n[n.Bubble=6]="Bubble",n[n.Candlestick=7]="Candlestick",n[n.HighLowOpenClose=8]="HighLowOpenClose",n[n.Spline=9]="Spline",n[n.SplineSymbols=10]="SplineSymbols",n[n.SplineArea=11]="SplineArea",n[n.Funnel=12]="Funnel",n[n.Step=13]="Step",n[n.StepSymbols=14]="StepSymbols",n[n.StepArea=15]="StepArea"}(me||(me={})),function(n){n[n.None=0]="None",n[n.Stacked=1]="Stacked",n[n.Stacked100pc=2]="Stacked100pc"}(cn||(cn={}));var Qi,hi,he=function(n){function t(e,i){var r=n.call(this,e,null,!0)||this;r._series=new ei,r._axes=new K1,r._pareas=new W1,r._interpolateNulls=!1,r._legendToggle=!1,r._symbolSize=10,r._dataInfo=new ut,r.__barPlotter=null,r.__linePlotter=null,r.__areaPlotter=null,r.__bubblePlotter=null,r.__financePlotter=null,r.__funnelPlotter=null,r._plotters=[],r._rotated=!1,r._stacking=cn.None,r._xlabels=[],r._xvals=[],r._lblAreas=[],r._colRowLens=[],r._selectedEls=[],r._markers=[],r._bindingSeparator=",",r.seriesVisibilityChanged=new k,r.applyTemplate("wj-control wj-flexchart",null,null);var o=r;return o._series.collectionChanged.addHandler(function(){for(var s=o._series,a=0;a<s.length;a++){var l=Tn(s[a],er);if(!l)throw"chartSeries array must contain SeriesBase objects.";l._chart=o,l.axisX&&null==l.axisX._chart&&(l.axisX._chart=o,o.axes.push(l.axisX)),l.axisY&&null==l.axisY._chart&&(l.axisY._chart=o,o.axes.push(l.axisY))}o.invalidate()}),r._currentRenderEngine=new Os(r.hostElement),r._hitTester=new J1(r),r._legend=new Vl(r),r._tooltip=new xf,r._tooltip.showDelay=0,r._lbl=new Df,r._lbl._chart=r,r._initAxes(),o._axes.collectionChanged.addHandler(function(){for(var s=o._axes,a=0;a<s.length;a++){var l=Tn(s[a],ts);if(!l)throw"axes array must contain Axis objects.";l._chart=o}o.invalidate()}),o._pareas.collectionChanged.addHandler(function(){for(var s=o._pareas,a=0;a<s.length;a++){var l=Tn(s[a],bf);if(!l)throw"plotAreas array must contain PlotArea objects.";l._chart=o}o.invalidate()}),r._keywords=new Kv,r.hostElement.addEventListener("click",function(s){var a=o._tooltip;a.content&&o.isTouching&&o._updateTooltip(a,s)}),r.hostElement.addEventListener("mousemove",function(s){var a=o._tooltip;a.content&&!o.isTouching&&o._updateTooltip(a,s)}),r.hostElement.addEventListener("mouseleave",function(s){o._hideToolTip()}),r.hostElement.addEventListener("click",function(s){if(o.selectionMode!=bi.None){var a=o._hitTestData(s),l=t._SELECTION_THRESHOLD;o.tooltip&&o.tooltip.threshold&&(l=o.tooltip.threshold),a.distance<=l&&a.series?o._select(a.series,a.pointIndex):o.selectionMode==bi.Series&&(a=o.hitTest(s)).chartElement==Et.Legend&&a.series?o._select(a.series,null):o._select(null,null)}!0===o.legendToggle&&(a=o.hitTest(s)).chartElement==Et.Legend&&a.series&&(a.series.visibility==dn.Legend?a.series.visibility=dn.Visible:a.series.visibility==dn.Visible&&(a.series.visibility=dn.Legend),o.focus())}),r.deferUpdate(function(){return r.initialize(i)}),r}return Rn(t,n),t.prototype.initialize=function(e){if(e&&e.renderEngine){var i=Pe(this._currentRenderEngine,Os,!0);i&&i.detach(),this._currentRenderEngine=null}n.prototype.initialize.call(this,e)},t.prototype._initAxes=function(){this._axisX=new ts(Z.Bottom),this._axisY=new ts(Z.Left),this._axisX.majorGrid=!1,this._axisX.name="axisX",this._axisY.majorGrid=!0,this._axisY.majorTickMarks=hn.None,this._axisY.name="axisY",this._axisX._chart=this,this._axisY._chart=this,this._axes.push(this._axisX),this._axes.push(this._axisY)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisX",{get:function(){return this._axisX},set:function(e){if(e!=this._axisX){var i=this._axisX=Pe(e,ts);this.beginUpdate(),i&&(void 0===i.majorGrid&&(i.majorGrid=!1),void 0===i.name&&(i.name="axisX"),null==i.position&&(i.position=Z.Bottom),i._axisType=Ae.X,i._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisY",{get:function(){return this._axisY},set:function(e){if(e!=this._axisY){var i=this._axisY=Pe(e,ts);this.beginUpdate(),i&&(void 0===i.majorGrid&&(i.majorGrid=!0),void 0===i.name&&(i.name="axisY"),void 0===i.majorTickMarks&&(i.majorTickMarks=hn.None),null==i.position&&(i.position=Z.Left),i._axisType=Ae.Y,i._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding},set:function(e){e!=this._binding&&(this._binding=U(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingX",{get:function(){return this._bindingX},set:function(e){e!=this._bindingX&&(this._bindingX=U(e,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(e){e!=this._symbolSize&&(this._symbolSize=F(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(e){e!=this._interpolateNulls&&(this._interpolateNulls=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(e){e!=this._legendToggle&&(this._legendToggle=N(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataLabel",{get:function(){return this._lbl},set:function(e){e!=this._lbl&&(this._lbl=Pe(e,Df),this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(e){e!=this._selection&&(this._selection=Pe(e,er,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderEngine",{get:function(){return this._currentRenderEngine},set:function(e){if(e!=this._currentRenderEngine){var i=Pe(this._currentRenderEngine,Os,!0);i&&i.detach(),this._currentRenderEngine=e;var r=Pe(this._currentRenderEngine,Os,!0);r&&r.attach(this.hostElement),this.refresh()}},enumerable:!0,configurable:!0}),t.prototype.onSeriesVisibilityChanged=function(e){this.seriesVisibilityChanged.raise(this,e)},t.prototype.hitTest=function(e,i){var r=this._toControl(e,i),o=new _r(this,r),s=null;if(t._contains(this._rectHeader,r))o._chartElement=Et.Header;else if(t._contains(this._rectFooter,r))o._chartElement=Et.Footer;else if(t._contains(this._rectLegend,r)){o._chartElement=Et.Legend;var a=r.clone();if(this.legend.scrollbar&&this._legendHost){var l=this._legendHost.closest("div");a.y+=l.scrollTop}null!==(s=this.legend._hitTest(a))&&s>=0&&s<this.series.length&&o._setData(this.series[s])}else if(t._contains(this._rectChart,r)){var u=this._hitTestLabels(r);if(u)o._chartElement=Et.DataLabel,o._dist=0,o._setDataPoint(u.tag);else{for(var c=this._hitTester.hitTest(r),h=null,d=null,f=this.series.length-1;f>=0;f--)if(this.series[f].hitTest!==kr.prototype.hitTest){var p=this.series[f].hitTest(e);if(p&&((!h||p.distance<h.distance)&&(h=p,d=f),0===p.distance))break}c&&c.area?h&&h.distance<c.distance||h&&h.distance==c.distance&&d>c.area.tag.seriesIndex?o=h:(o._setDataPoint(c.area.tag),o._dist=c.distance):h&&(o=h);var g=!1;this.axes.some(function(m){if(t._contains(m._axrect,r)){var _=void 0;return m.axisType===Ae.X?(o._chartElement=Et.AxisX,_=m._hitTest(r)):(o._chartElement=Et.AxisY,_=m._hitTest(r)),o._setName(_?_.label:""),g=!0,!0}}),g||(t._contains(this._plotRect,r)?o._chartElement=Et.PlotArea:t._contains(this._rectChart,r)&&(o._chartElement=Et.ChartArea))}}else o._chartElement=Et.None;return o},t.prototype.pointToData=function(e,i){return J(e)&&J(i)&&(e=new T(e,i)),e instanceof MouseEvent?(e=new T(e.pageX,e.pageY),e=this._toControl(e)):e=e.clone(),e.x=this.axisX.convertBack(e.x),e.y=this.axisY.convertBack(e.y),e},t.prototype.dataToPoint=function(e,i){J(e)&&J(i)&&(e=new T(e,i)),Pe(e,T);var r=e.clone();return r.x=this.axisX.convert(r.x),r.y=this.axisY.convert(r.y),r},t.prototype.dispose=function(){this._markers.forEach(function(e){return e.remove()}),this._markers=[],n.prototype.dispose.call(this)},t.prototype._copy=function(e,i){if("series"==e){this.series.clear();for(var r=Dn(i),o=0;o<r.length;o++){var s=this._createSeries();vi(s,r[o]),this.series.push(s)}return!0}return!1},t.prototype._createSeries=function(){return new kr},t.prototype._clearCachedValues=function(){for(var e=0;e<this._series.length;e++){var i=this._series[e];null==i.itemsSource&&i._clearValues()}},t.prototype._performBind=function(){if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv){var e=this._cv.items;if(e){for(var i=e.length,r=this.bindingX?new At(this.bindingX):null,o=0;o<i;o++)if(r){var a=r.getValue(e[o]);J(a)?(this._xvals.push(F(a)),this._xDataType=ze.Number):wt(a)&&(this._xvals.push(yi(a).valueOf()),this._xDataType=ze.Date),this._xlabels.push(a)}this._xvals.length==i?this._xlabels.splice(0):this._xvals.splice(0)}}},t.prototype._hitTestSeries=function(e,i){var r=this._toControl(e),o=new _r(this,r),s=this._hitTester.hitTestSeries(r,i);return s&&s.area&&(o._setDataPoint(s.area.tag),o._chartElement=Et.PlotArea,o._dist=s.distance),o},t.prototype._hitTestData=function(e){var i=this._toControl(e),r=new _r(this,i),o=this._hitTester.hitTest(i,!0);return o&&o.area&&(r._setDataPoint(o.area.tag),r._dist=o.distance),r},t.prototype._hitTestLabels=function(e){for(var i=null,r=this._lblAreas.length,o=0;o<r;o++)if(this._lblAreas[o].contains(e)){i=this._lblAreas[o];break}return i},t._dist2=function(e,i){var r=e.x-i.x,o=e.y-i.y;return r*r+o*o},t._dist=function(e,i,r){return Math.sqrt(t._distToSegmentSquared(e,i,r))},t._distToSegmentSquared=function(e,i,r){var o=t._dist2(i,r);if(0==o)return t._dist2(e,i);var s=((e.x-i.x)*(r.x-i.x)+(e.y-i.y)*(r.y-i.y))/o;return t._dist2(e,s<0?i:s>1?r:new T(i.x+s*(r.x-i.x),i.y+s*(r.y-i.y)))},t.prototype._isRotated=function(){return this._getChartType()==me.Bar?!this._rotated:this._rotated},t.prototype._getChartType=function(){return null},t.prototype._prepareRender=function(){this._hitTester.clear()},t.prototype._renderChart=function(e,i,r){var o=this._rectChart.clone(),s=new Ke(o.width,o.height);this._selectedEls.length=0,(v=this._getPlotter(null)).stacking=this._stacking,this._curPlotter!=v&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=v),v.load();var a=this._isRotated();this._dataInfo.analyse(this._series,a,v.stacking,this._xvals.length>0?this._xvals:null,this.axisX._getLogBase()>0,this.axisY._getLogBase()>0);var l=v.adjustLimits(this._dataInfo,i.clone());if(a){var u=this._dataInfo.getDataTypeX();u||(u=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),l.left,l.right),this.axisY._updateActualLimits(u,l.top,l.bottom,this._xlabels,this._xvals)}else{var c=this._dataInfo.getDataTypeX();c||(c=this._xDataType),this.axisX._updateActualLimits(c,l.left,l.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),l.top,l.bottom)}var h=this._getAxes();if(this._updateAuxAxes(h,a),this._layout(i,s,e),e.startGroup(t._CSS_PLOT_AREA),e.fill="transparent",e.stroke=null,this.plotAreas.length>0)for(var d=0;d<this.plotAreas.length;d++)this.plotAreas[d]._render(e);else{var f=this._plotRect;e.drawRect(f.left,f.top,f.width,f.height)}e.endGroup();var p=this._series.length;this._clearPlotters();var g={};for(d=0;d<p;d++){var m=this._series[d];if(((I=m.visibility)==dn.Visible||I==dn.Plot)&&m.getValues(0)){var _=m._getAxisY(),v=this._getPlotter(m);if(!_||_==this.axisY||v instanceof Sf)v.seriesCount++;else{var y=_._uniqueId;g[y]?g[y].count+=1:g[y]={count:1,index:0}}}}if(this.onRendering(new Eo(e)),this._getChartType()!==me.Funnel)for(d=0;d<h.length;d++){var w=h[d];C=e.startGroup(w.axisType==Ae.X?t._CSS_AXIS_X:t._CSS_AXIS_Y,this._chartRectId),w._hostElement=r?C:w._hostElement,w._render(e),e.endGroup()}for(e.startGroup("wj-series-group"),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),e.addClipRect(this._plotRect,this._plotrectId),e.options=this._options&&this._options.spline?{spline:this._options.spline.approximation}:null,d=0;d<p;d++){var b=this._series[d];b._pointIndexes=[],v=this._getPlotter(b),b._plotter=v;var C=e.startGroup(b.cssClass,v.clipping?this._plotrectId:null);b._hostElement=r?C:b._hostElement;var I=b.visibility,M=b.axisX,S=b.axisY;if(M||(M=this.axisX),S||(S=this.axisY),I==dn.Visible||I==dn.Plot){var R,P,x=g[S._uniqueId];!x||v instanceof Sf?(R=v.seriesIndex,P=v.seriesCount,v.seriesIndex++,b.onRendering(e,R,P)||v.plotSeries(e,M,S,b,this,R,P)):(R=x.index,P=x.count,x.index++,b.onRendering(e,R,P)||v.plotSeries(e,M,S,b,this,R,P)),b.onRendered(e)}e.endGroup()}e.endGroup(),this._lblAreas=[],this.dataLabel.content&&this.dataLabel.position!=Qi.None&&this._renderLabels(e),this._highlightCurrent(),this.onRendered(new Eo(e))},t.prototype._getDesiredLegendSize=function(e,i,r,o){var s=new Ke,a=this.series,l=a.length,u=this.legend.scrollbar?18:0,c=0,h=0;this._colRowLens=[];for(var d=0;d<l;d++){var f=Tn(a[d],er),p=f.visibility;if(f.name&&p!=dn.Hidden&&p!=dn.Plot)for(var g=f.legendItemLength(),m=0;m<g;m++){var _=f.measureLegendItem(e,m);i?(c+_.height>o&&!this.legend.scrollbar&&(s.height=o,this._colRowLens.push(h),h=0,c=0),h<_.width&&(h=_.width),c+=_.height):(h+_.width>r-u&&(s.width=r,this._colRowLens.push(c),c=0,h=0),c<_.height&&(c=_.height),h+=_.width)}}return i?(s.height<c&&(s.height=c),this._colRowLens.push(h),s.width=this._colRowLens.reduce(function(v,y){return v+y},0)):(s.width<h&&(s.width=h),this._colRowLens.push(c),s.height=this._colRowLens.reduce(function(v,y){return v+y},0)),s},t.prototype._renderLegend=function(e,i,r,o,s,a){var l,u=this.series,c=u.length,h=i.clone(),d=0;if(this._legendReversed()){for(var f=c-1;f>=0;f--)l=Tn(u[f],er),d=this._renderLegendElements(e,l,i,h,r,o,s,a,d);r.reverse()}else for(f=0;f<c;f++)l=Tn(u[f],er),d=this._renderLegendElements(e,l,i,h,r,o,s,a,d)},t.prototype._legendReversed=function(){var e=!1,i=this._getChartType();return(i===me.Bar||i===me.Column&&this._rotated)&&(this._stacking!==cn.None||this.axisY.reversed||(e=!0)),e},t.prototype._renderLegendElements=function(e,i,r,o,s,a,l,u,c){var h=new K(r.x,r.y,l,u),d=c;if(!i)return d;var f=i.visibility;if(!i.name||f==dn.Hidden||f==dn.Plot)return i._legendElement=null,s.push(null),d;var p=i.legendItemLength(),g=e.startGroup(i.cssClass);f==dn.Legend?(g.setAttribute("opacity","0.5"),i._legendElement=g):i._legendElement=f==dn.Visible?g:null;for(var m=0;m<p;m++){var _=i.measureLegendItem(e,m);a?o.y+_.height>h.bottom+1&&!this.legend.scrollbar&&(o.x+=this._colRowLens[d],d++,o.y=r.y):o.x+_.width>h.right+1&&(o.y+=this._colRowLens[d],d++,o.x=r.x);var v=new K(o.x,o.y,_.width,_.height);f!=dn.Legend&&f!=dn.Visible||i.drawLegendItem(e,v,m),s.push(v),a?o.y+=_.height:o.x+=_.width}return e.endGroup(),d},t.prototype._renderLabels=function(e){var i=this.series,r=i.length;e.stroke="null",e.fill="transparent",e.strokeWidth=1,e.startGroup(t._CSS_DATA_LABELS);for(var s=0;s<r;s++){var l=this._hitTester._map[s];l&&i[s]._renderLabels(e,l,this,this._lblAreas)}e.endGroup()},t.prototype._getAxes=function(){for(var e=[this.axisX,this.axisY],i=this.series.length,r=0;r<i;r++){var o=this.series[r],s=o.axisX;s&&-1===e.indexOf(s)&&e.push(s);var a=o.axisY;a&&-1===e.indexOf(a)&&e.push(a)}return e},t.prototype._clearPlotters=function(){for(var e=this._plotters.length,i=0;i<e;i++)this._plotters[i].clear()},t.prototype._initPlotter=function(e){e.chart=this,e.dataInfo=this._dataInfo,e.hitTester=this._hitTester,this._plotters.push(e)},Object.defineProperty(t.prototype,"_barPlotter",{get:function(){return null===this.__barPlotter&&(this.__barPlotter=new Sf,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_linePlotter",{get:function(){return null===this.__linePlotter&&(this.__linePlotter=new iy,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_areaPlotter",{get:function(){return null===this.__areaPlotter&&(this.__areaPlotter=new oT,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_bubblePlotter",{get:function(){return null===this.__bubblePlotter&&(this.__bubblePlotter=new lT,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_financePlotter",{get:function(){return null===this.__financePlotter&&(this.__financePlotter=new aT,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_funnelPlotter",{get:function(){return null===this.__funnelPlotter&&(this.__funnelPlotter=new sT,this._initPlotter(this.__funnelPlotter)),this.__funnelPlotter},enumerable:!0,configurable:!0}),t.prototype._getPlotter=function(e){var i,r=this._getChartType(),o=!1;if(e){var s=e._getChartType();null!=s&&s!=r&&(r=s,o=!0)}switch(r){case me.Column:this._barPlotter.isVolume=!1,this._barPlotter.width=.7,i=this._barPlotter;break;case me.Bar:this._barPlotter.rotated=!this._rotated,this._barPlotter.isVolume=!1,this._barPlotter.width=.7,i=this._barPlotter;break;case me.Line:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,i=this._linePlotter;break;case me.Scatter:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!1,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,i=this._linePlotter;break;case me.LineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,i=this._linePlotter;break;case me.Area:this._areaPlotter.isSpline=!1,this._areaPlotter.isStep=!1,i=this._areaPlotter;break;case me.Bubble:i=this._bubblePlotter;break;case me.Candlestick:(a=this._financePlotter).isCandle=!0,a.isEqui=!1,a.isArms=!1,a.isVolume=!1,i=a;break;case me.HighLowOpenClose:var a;(a=this._financePlotter).isCandle=!1,a.isEqui=!1,a.isArms=!1,a.isVolume=!1,i=a;break;case me.Spline:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,this._linePlotter.isStep=!1,i=this._linePlotter;break;case me.SplineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,this._linePlotter.isStep=!1,i=this._linePlotter;break;case me.SplineArea:this._areaPlotter.isSpline=!0,this._areaPlotter.isStep=!1,i=this._areaPlotter;break;case me.Funnel:i=this._funnelPlotter;break;case me.Step:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!0,i=this._linePlotter;break;case me.StepSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!0,i=this._linePlotter;break;case me.StepArea:this._areaPlotter.isSpline=!1,this._areaPlotter.isStep=!0,i=this._areaPlotter;break;default:throw"Invalid chart type."}return i.rotated=this._rotated,r==me.Bar&&(i.rotated=!i.rotated),o&&(i.rotated=this._isRotated()),i},t.prototype._layout=function(e,i,r){this.plotAreas.length>0?this._layoutMultiple(e,i,r):this._layoutSingle(e,i,r)},t.prototype._layoutSingle=function(e,i,r){var o=e.width,s=e.height,a=new Ke(o,.75*s),l=new Ke(s,.75*o),u=0,c=0,h=o,d=s,f=0,p=0,g=o,m=s;this.dataLabel.position===Qi.Top&&this.dataLabel.content&&(c=r.measureString(this.dataLabel.content,"wj-data-label").height);for(var _=this._getAxes(),v=this.axisY._getHeight(r,s),y=0;y<_.length;y++){var w=(x=_[y]).origin,b=x._getPosition();if(x.axisType==Ae.X){(S=x._getHeight(r,Math.max(10,o-v)))>a.height&&(S=a.height),x._desiredSize=new Ke(a.width,S);var C=x._hasOrigin=J(w)&&w>this.axisY._getMinNum()&&w<this.axisY._getMaxNum(),I=Math.min(.25*o,x._annoSize.width);if(b==Z.Bottom)if(u=Math.max(u,.5*I),h=Math.min(h,o-.5*I),C){var M=this._convertY(w,p,m);m-=Math.max(0,M+S-m)}else m-=S;else b==Z.Top&&(u=Math.max(u,.5*I),h=Math.min(h,o-.5*I),C?(M=this._convertY(w,p,m),p+=Math.max(0,p-(M-S))):p+=S)}else if(x.axisType==Ae.Y){var S;if((S=x===this.axisX?v:x._getHeight(r,s))>l.height&&(S=l.height),x._desiredSize=new Ke(l.width,S),C=x._hasOrigin=J(w)&&w>this.axisX._getMinNum()&&w<this.axisX._getMaxNum(),b==Z.Left)if(x._actualAngle<0?d=Math.min(d,s-x._annoSize.height):x._actualAngle>0?c=Math.max(c,x._annoSize.height):(c=Math.max(c,x._annoSize.height),d=Math.min(d,s-x._annoSize.height)),C){var R=this._convertX(w,f,g);f+=Math.max(0,f-(R-S))}else f+=S;else b==Z.Right&&(x._actualAngle>0?d=Math.min(d,s-x._annoSize.height):x._actualAngle<0?c=Math.max(c,x._annoSize.height):(c=Math.max(c,x._annoSize.height),d=Math.min(d,s-x._annoSize.height)),C?(R=this._convertX(w,f,g),g-=Math.max(0,R+S-g)):g-=S)}}var P=this._parseMargin(this.plotMargin);for(u=f=isNaN(P.left)?Math.max(u,f)+e.left:P.left,h=g=isNaN(P.right)?Math.min(h,g)+e.left:i.width-P.right,c=p=isNaN(P.top)?Math.max(c,p)+e.top:P.top,d=m=isNaN(P.bottom)?Math.min(d,m)+e.top:i.height-P.bottom,o=Math.max(1,h-u),s=Math.max(1,d-c),this._plotRect=new K(u,c,o,s),d<=c&&(m=p+1),r.stroke=null,y=0;y<_.length;y++){var x,E;if(w=(x=_[y]).origin,b=x._getPosition(),x.axisType==Ae.X)x._hasOrigin?(M=this._convertY(w,this._plotRect.top,this._plotRect.bottom),b==Z.Bottom?(E=new K(u,M,o,x._desiredSize.height),m+=Math.max(0,E.bottom-this._plotRect.bottom)):b==Z.Top?(E=new K(u,M-x._desiredSize.height,o,x._desiredSize.height),p-=Math.max(0,this._plotRect.top-E.top)):E=new K(u,M,o,1)):b==Z.Bottom?(E=new K(u,m,o,x._desiredSize.height),m+=x._desiredSize.height):b==Z.Top?(E=new K(u,p-x._desiredSize.height,o,x._desiredSize.height),p-=x._desiredSize.height):E=new K(u,p,o,1),x._layout(E,this._plotRect);else if(x.axisType==Ae.Y){var j;x._hasOrigin?(R=this._convertX(w,this._plotRect.left,this._plotRect.right),b==Z.Left?(j=new K(R-x._desiredSize.height,c,s,x._desiredSize.height),f-=x._desiredSize.height):b==Z.Right?(j=new K(R,c,s,x._desiredSize.height),g+=x._desiredSize.height):j=new K(R,c,s,1)):b==Z.Left?(j=new K(f-x._desiredSize.height,c,s,x._desiredSize.height),f-=x._desiredSize.height):b==Z.Right?(j=new K(g,c,s,x._desiredSize.height),g+=x._desiredSize.height):j=new K(f,c,s,1),x._layout(j,this._plotRect)}}},t.prototype._layoutMultiple=function(e,i,r){for(var o=e.width,s=e.height,a=[],l=[],u=this._getAxes(),c=u.length,h=0;h<c;h++)if((R=u[h])._plotrect=null,R.axisType==Ae.X){for(var d=R.plotArea?R.plotArea.column:0;a.length<=d;)a.push(new Y1);a[d].axes.push(R)}else if(R.axisType==Ae.Y){for(var f=R.plotArea?R.plotArea.row:0;l.length<=f;)l.push(new Y1);l[f].axes.push(R)}for(var p=a.length,g=l.length,m=new Ke(o,.3*s),_=new Ke(s,.3*o),v=0,y=0,w=o,b=s,C=0;C<p;C++)for((L=a[C]).right=o,L.bottom=s,h=0;h<L.axes.length;h++){var I=(R=L.axes[h])._getHeight(r,R.axisType==Ae.X?o:s);I>m.height&&(I=m.height);var M=new Ke(m.width,I);R._desiredSize=M,0==C&&(L.left=Math.max(L.left,.5*R._annoSize.width)),C==p-1&&(L.right=Math.min(L.right,o-.5*R._annoSize.width)),(fe=R._getPosition())==Z.Bottom?L.bottom-=M.height:fe==Z.Top&&(L.top+=M.height)}for(var S=0;S<g;S++)for((L=l[S]).right=o,L.bottom=s,h=0;h<L.axes.length;h++){var R=L.axes[h],P=new Ke(_.width,R._getHeight(r,R.axisType==Ae.X?o:s));P.height>_.height&&(P.height=_.height),R._desiredSize=P,0==S&&(L.top=Math.max(L.top,.5*R._annoSize.width)),S==g-1&&(L.bottom=Math.min(L.bottom,s-.5*R._annoSize.width)),(fe=R._getPosition())==Z.Left?L.left+=P.height:fe==Z.Right&&(L.right-=P.height)}var x=0,E=0,j=o,ee=s;for(C=0;C<p;C++){var L=a[C];x=Math.max(x,L.left),E=Math.max(E,L.top),j=Math.min(j,L.right),ee=Math.min(ee,L.bottom)}for(S=0;S<g;S++)L=l[S],x=Math.max(x,L.left),E=Math.max(E,L.top),j=Math.min(j,L.right),ee=Math.min(ee,L.bottom);x=v=Math.max(v,x),j=w=Math.min(w,j),E=y=Math.max(y,E),ee=b=Math.min(b,ee),this._plotRect=new K(v,y,w-v,b-y);var B=this._plotRect.clone(),Q=v,re=this.plotAreas._calculateWidths(this._plotRect.width,p);for(C=0;C<p;C++){ee=b,E=y,L=a[C];var oe=re[C];for(h=0;h<L.axes.length;h++){var te,fe=(R=L.axes[h])._getPosition(),we=new K(Q,B.top,oe,B.height);fe==Z.Bottom?(te=new K(Q,ee,oe,R._desiredSize.height),ee+=R._desiredSize.height):fe==Z.Top&&(te=new K(Q,E-R._desiredSize.height,oe,R._desiredSize.height),E-=R._desiredSize.height),R._layout(te,we)}for(h=0;h<this.plotAreas.length;h++)(rt=this.plotAreas[h]).column==C&&rt._setPlotX(Q,oe);Q+=oe}var Ue=y,pe=this.plotAreas._calculateHeights(this._plotRect.height,g);for(S=0;S<g;S++){x=v,j=w,L=l[S];var de=pe[S];for(h=0;h<L.axes.length;h++){var De;fe=(R=L.axes[h])._getPosition(),we=new K(B.left,Ue,B.width,de),R._plotrect?(we.left=R._plotrect.left,we.width=R._plotrect.width):re&&re.length>0&&(we.width=re[0]),fe==Z.Left?(De=new K(x-R._desiredSize.height,Ue,de,R._desiredSize.height),x-=R._desiredSize.height):fe==Z.Right&&(De=new K(j,Ue,de,R._desiredSize.height),j+=R._desiredSize.height),R._layout(De,we)}for(h=0;h<this.plotAreas.length;h++){var rt;(rt=this.plotAreas[h]).row==S&&rt._setPlotY(Ue,de)}Ue+=de}},t.prototype._convertX=function(e,i,r){var o=this.axisX;return o.reversed?r-(r-i)*(e-o._getMinNum())/(o._getMaxNum()-o._getMinNum()):i+(r-i)*(e-o._getMinNum())/(o._getMaxNum()-o._getMinNum())},t.prototype._convertY=function(e,i,r){var o=this.axisY;return o.reversed?i+(r-i)*(e-o._getMinNum())/(o._getMaxNum()-o._getMinNum()):r-(r-i)*(e-o._getMinNum())/(o._getMaxNum()-o._getMinNum())},t.prototype._getLabelContent=function(e,i){return e.chartElement!==Et.AxisX&&e.chartElement!==Et.AxisY||!e.name?xe(i)?this._keywords.replace(i,e):Ge(i)?i(e):null:e.name},t.prototype._select=function(e,i){var r=this.selectionMode,o=!1;if((e!=this._selection||r==bi.Point&&i!=this._selectionIndex)&&(o=!0),this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=e,this._selectionIndex=i,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),r==bi.Point){var s=e?e.collectionView:this._cv;s&&(this._notifyCurrentChanged=!1,s.moveCurrentToPosition(e?i:-1),this._notifyCurrentChanged=!0)}o&&this.onSelectionChanged()},t.prototype._highlightCurrent=function(){if(this.selectionMode!=bi.None){var e=this._selection,i=-1;if(e){var r=e.collectionView;r||(r=this._cv),r&&(i=r.currentPosition),this._highlight(e,!0,i)}}},t.prototype._highlight=function(e,i,r){if(e=Pe(e,er,!0),this.selectionMode==bi.Series){var o=this.series.indexOf(e),s=e.hostElement;i?s.parentNode.appendChild(s):s.parentNode.insertBefore(s,s.parentNode.childNodes.item(o));var a=this._find(s,["rect","ellipse","polyline","polygon","line","path"]);this._highlightItems(a,t._CSS_SELECTION,i),e.legendElement&&this._highlightItems(this._find(e.legendElement,["rect","ellipse","line"]),t._CSS_SELECTION,i)}else if(this.selectionMode==bi.Point)if(o=this.series.indexOf(e),s=e.hostElement,i){s.parentNode.appendChild(s);var l=e.getPlotElement(r);if(l)if(l instanceof SVGElement){if("g"!=l.nodeName&&(this._highlightItems([l],t._CSS_SELECTION,i),this._selectedEls.push(l)),(a=this._find(l,["line","rect","ellipse","path","polygon"])).length>0){this._highlightItems(a,t._CSS_SELECTION,i);for(var u=0;u<a.length;u++)this._selectedEls.push(a[u])}}else if(Array.isArray(l))for(this._highlightItems(l,t._CSS_SELECTION,i),u=0;u<l.length;u++)this._selectedEls.push(l[u])}else s.parentNode.insertBefore(s,s.parentNode.childNodes.item(o)),this._selectedEls.length>0&&(this._highlightItems(this._selectedEls,t._CSS_SELECTION,i),this._selectedEls.length=0)},t.prototype._updateTooltip=function(e,i){var r,o=this.hitTest(i);if(o.distance<=e.threshold){var s=e.content;if(o.series){var a=o.series.tooltipContent;(a||""===a)&&(s=a)}r=this._getLabelContent(o,s)}r?this._showToolTip(r,new K(i.clientX,i.clientY,5,5)):this._hideToolTip()},t.prototype._updateAuxAxes=function(e,i){for(var r=2;r<e.length;r++){var o=e[r];o._chart=this;for(var s,a,l=[],u=0;u<this.series.length;u++){var c=this.series[u];c.axisX!=o&&c.axisY!=o||l.push(c)}for(u=0;u<l.length;u++){var h=l[u].getDataRect()||l[u]._getDataRect();h&&(o.axisType==Ae.X&&!i||o.axisType==Ae.Y&&i?((void 0===s||h.left<s)&&(s=h.left),(void 0===a||h.right>a)&&(a=h.right)):((void 0===s||h.top<s)&&(s=h.top),(void 0===a||h.bottom>a)&&(a=h.bottom)))}var d=l[0].getDataType(0);null==d&&(d=ze.Number),e[r]._updateActualLimits(d,s,a)}},t._CSS_AXIS_X="wj-axis-x",t._CSS_AXIS_Y="wj-axis-y",t._CSS_LINE="wj-line",t._CSS_GRIDLINE="wj-gridline",t._CSS_TICK="wj-tick",t._CSS_GRIDLINE_MINOR="wj-gridline-minor",t._CSS_TICK_MINOR="wj-tick-minor",t._CSS_DATA_LABELS="wj-data-labels",t}(St),Y1=function(){function n(){this._axes=new Array,this.left=0,this.right=0,this.top=0,this.bottom=0}return Object.defineProperty(n.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),n}(),ut=function(){function n(){this.stackAbs={},this._xvals=null}return n.prototype.analyse=function(t,e,i,r,o,s){var a=this;this.minY=NaN,this.maxY=NaN,this.minX=NaN,this.maxX=NaN,this.minXp=NaN,this.minYp=NaN,this.dx=0;var l={},u={},c={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=r,null!=r)for(var h=r.length,d=0;d<h;d++){var f=r[d];if((isNaN(this.minX)||this.minX>f)&&(this.minX=f),(isNaN(this.maxX)||this.maxX<f)&&(this.maxX=f),f>0&&(isNaN(this.minXp)||this.minXp>f)&&(this.minXp=f),d>0){var p=Math.abs(f-r[d-1]);!isNaN(p)&&(p<this.dx||0==this.dx)&&(this.dx=p)}}var g,m,_,v,y,w,b,C,I,M,S,R=function(){if(m=(g=t[d])._getChartType(),_=void 0!==g.chartType,(v=g.visibility)==dn.Hidden||v==dn.Legend)return"continue";if((y=g.getDataRect())&&(!isNaN(P.minX)&&P.minX<y.left&&(w=y.right,y.left=P.minX,y.width=w-P.minX),!isNaN(P.maxX)&&P.maxX>y.right&&(y.width=P.maxX-y.left),g._isCustomAxisY()||(!isNaN(P.minY)&&P.minY<y.top&&(w=y.bottom,y.top=P.minY,y.height=w-P.minY),!isNaN(P.maxY)&&P.maxY>y.bottom&&(y.height=P.maxY-y.top))),b=null,e?g._isCustomAxisY()||(b=g.getValues(1)):g._isCustomAxisX()||(b=g.getValues(1)),b){P.dataTypeX||(P.dataTypeX=g.getDataType(1));for(var L=0;L<b.length;L++)C=b[L],isFinite(C)&&((isNaN(P.minX)||P.minX>C)&&(P.minX=C),(isNaN(P.maxX)||P.maxX<C)&&(P.maxX=C),L>0&&(!m||m==me.Column||m==me.Bar)&&(p=Math.abs(C-b[L-1]),!isNaN(p)&&p>0&&(p<P.dx||0==P.dx)&&(P.dx=p)))}if(I=null,M=!1,e?(M=g._isCustomAxisX(),I=g.getValues(0)):(M=g._isCustomAxisY(),I=g.getValues(0)),I&&(P.dataTypeY||M||(P.dataTypeY=g.getDataType(0)),isNaN(P.minX)?P.minX=0:b||r||(P.minX=Math.min(P.minX,0)),isNaN(P.maxX)?P.maxX=I.length-1:b||r||(P.maxX=Math.max(P.maxX,I.length-1)),!M))for(var B=i==cn.None||_,Q=function(oe){var te=I[oe],fe=b?F(b[oe],!0):r?F(r[oe],!0):oe;Rt(te)?te.forEach(function(we){a._parseYVal(we,fe,B,c,l,u)}):P._parseYVal(te,fe,B,c,l,u)},re=0;re<I.length;re++)Q(re);(S=g.getDataRect(new K(P.minX,P.minY,P.maxX-P.minX,P.maxY-P.minY),y))&&(P.minX=S.left,P.maxX=S.right,M||(P.minY=S.top,P.maxY=S.bottom))},P=this;for(d=0;d<t.length;d++)R();if(i==cn.Stacked){for(var x in l)l[x]>this.maxY&&(this.maxY=l[x]);for(var x in u)u[x]<this.minY&&(this.minY=u[x])}else if(i==cn.Stacked100pc){for(var x in this.minY=0,this.maxY=0,c){var E=c[x];if(isFinite(E)&&0!=E){var j=l[x],ee=u[x];isFinite(j)&&(j=Math.max(j/E,this.maxY))>this.maxY&&(this.maxY=j),isFinite(ee)&&(ee=Math.min(ee/E,this.minY))<this.minY&&(this.minY=ee)}}this.minY==this.maxY&&(this.minY=0,this.maxY=1)}this.stackAbs=c,o&&(e?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp),s&&(e?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},n.prototype._parseYVal=function(t,e,i,r,o,s){isFinite(t)&&(null!=t&&(isNaN(this.minY)||this.minY>t)&&(this.minY=t),null!=t&&(isNaN(this.maxY)||this.maxY<t)&&(this.maxY=t),t>0&&(isNaN(this.minYp)||this.minYp>t)&&(this.minYp=t),i||(t>0?isNaN(o[e])?o[e]=t:o[e]+=t:isNaN(s[e])?s[e]=t:s[e]+=t,isNaN(r[e])?r[e]=Math.abs(t):r[e]+=Math.abs(t)))},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinXp=function(){return this.minXp},n.prototype.getMinYp=function(){return this.minYp},n.prototype.getDeltaX=function(){return this.dx},n.prototype.getDataTypeX=function(){return this.dataTypeX},n.prototype.getDataTypeY=function(){return this.dataTypeY},n.prototype.getStackedAbsSum=function(t){var e=this.stackAbs[t];return isFinite(e)?e:0},n.prototype.getXVals=function(){return this._xvals},n.isValid=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t.length,r=0;r<i;r++)if(!isFinite(t[r]))return!1;return!0},n}(),X1=function(n){function t(e,i){var r=n.call(this,e,null)||this;return r._chartType=me.Column,r.initialize(i),r}return Rn(t,n),t.prototype._getChartType=function(){return this._chartType},Object.defineProperty(t.prototype,"chartType",{get:function(){return this._chartType},set:function(e){(e=Ie(e,me))!=this._chartType&&(this._chartType=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotated",{get:function(){return this._rotated},set:function(e){e!=this._rotated&&(this._rotated=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stacking",{get:function(){return this._stacking},set:function(e){(e=Ie(e,cn))!=this._stacking&&(this._stacking=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(e){e!=this._options&&(this._options=e,this.invalidate())},enumerable:!0,configurable:!0}),t}(he);!function(n){n[n.None=0]="None",n[n.Left=1]="Left",n[n.Top=2]="Top",n[n.Right=3]="Right",n[n.Bottom=4]="Bottom",n[n.Center=5]="Center"}(Qi||(Qi={})),function(n){n[n.None=0]="None",n[n.Inside=1]="Inside",n[n.Center=2]="Center",n[n.Outside=3]="Outside",n[n.Radial=4]="Radial",n[n.Circular=5]="Circular"}(hi||(hi={}));var Ae,Ns,hn,ca,Zv=function(n){function t(e,i,r,o){var s=n.call(this,e)||this;return s.cancel=!1,s._ht=i,s._pt=r,s._text=o,s}return Rn(t,n),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),t}(Eo),Qv=function(){function n(){this.rendering=new k}return Object.defineProperty(n.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=F(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),n.prototype.onRendering=function(t){return this.rendering.raise(this,t),!t.cancel},n.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},n}(),Df=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._pos=Qi.Top,e}return Rn(t,n),Object.defineProperty(t.prototype,"position",{get:function(){return this._pos},set:function(e){(e=Ie(e,Qi))!=this._pos&&(this._pos=e,this._invalidate())},enumerable:!0,configurable:!0}),t}(Qv),Jv=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._pos=hi.Center,e}return Rn(t,n),Object.defineProperty(t.prototype,"position",{get:function(){return this._pos},set:function(e){(e=Ie(e,hi))!=this._pos&&(this._pos=e,this._invalidate())},enumerable:!0,configurable:!0}),t}(Qv);!function(n){n[n.X=0]="X",n[n.Y=1]="Y"}(Ae||(Ae={})),function(n){n[n.Auto=0]="Auto",n[n.Show=1]="Show"}(Ns||(Ns={})),function(n){n[n.None=0]="None",n[n.Outside=1]="Outside",n[n.Inside=2]="Inside",n[n.Cross=3]="Cross"}(hn||(hn={})),function(n){n[n.None=0]="None",n[n.Show=1]="Show",n[n.ShowGrid=2]="ShowGrid"}(ca||(ca={}));var Ze,ts=function(){function n(t){this._GRIDLINE_WIDTH=1,this._LINE_WIDTH=1,this._TICK_WIDTH=1,this._TICK_HEIGHT=4,this._TICK_OVERLAP=1,this._TICK_LABEL_DISTANCE=4,this._minorGrid=!1,this._labels=!0,this._isTimeAxis=!1,this._labelPadding=5,this._actualLabels=[],this._labelMin=!1,this._labelMax=!1,this.rangeChanged=new k,this._customConvert=null,this._customConvertBack=null,this.__uniqueId=n._id++,this._position=t,this._axisType=t==Z.Bottom||t==Z.Top?Ae.X:Ae.Y,this._minorTickMarks=hn.None,this._overlap=Ns.Auto}return Object.defineProperty(n.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=wt(t)?yi(t,!0):F(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=wt(t)?yi(t,!0):F(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=N(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(t){(t=Ie(t,Z,!1))!=this._position&&(this._position=t,this._position==Z.Bottom||this._position==Z.Top?this._axisType=Ae.X:this._position!=Z.Left&&this._position!=Z.Right||(this._axisType=Ae.Y),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=F(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=F(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=U(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=U(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=U(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){(t=Ie(t,hn,!0))!=this._majorTickMarks&&(this._majorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){(t=Ie(t,hn,!0))!=this._minorTickMarks&&(this._minorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"axisLine",{get:function(){return void 0===this._axisLine?this.axisType==Ae.X:this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=U(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=F(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelMin",{get:function(){return this._labelMin},set:function(t){t!=this._labelMin&&(this._labelMin=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelMax",{get:function(){return this._labelMax},set:function(t){t!=this._labelMax&&(this._labelMax=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=F(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){(t=Ie(t,Ns,!0))!=this._overlap&&(this._overlap=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=Is(t),null!=this._cv&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=U(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._ifmt!=t&&(this._ifmt=Ot(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=F(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupsOptions",{get:function(){return this._groupsOptions},set:function(t){t!=this._groupsOptions&&(this._groupsOptions=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"axisLabels",{get:function(){return this._actualLabels},enumerable:!0,configurable:!0}),n.prototype._getLogBase=function(){return this._chart&&this._chart._stacking===cn.Stacked100pc?0:this.logBase},n.prototype._isLogAxis=function(){var t=this._getLogBase();return null!=t&&t>0},Object.defineProperty(n.prototype,"plotArea",{get:function(){return this._parea},set:function(t){t!=this._parea&&(this._parea=Pe(t,bf,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(t){t!=this._labelPadding&&(this._labelPadding=F(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_groupClass",{get:function(){return this.axisType===Ae.X?he._CSS_AXIS_X:he._CSS_AXIS_Y},enumerable:!0,configurable:!0}),n.prototype.onRangeChanged=function(t){this.rangeChanged.raise(this,t)},n.prototype._getPosition=function(){if(this.axisType==Ae.X){if(this.position==Z.Auto)return Z.Bottom}else if(this.axisType==Ae.Y&&this.position==Z.Auto)return Z.Left;return this.position},n.prototype._isOverlapped=function(t,e,i,r){var o=this._lbls;if(null!=o&&o.length>1)for(var s=o.length,a=this._values&&this._values.length==s?this._values:null,l=0,u=0,c=0;c<s;c++){var h=a?a[c]:c;if(h>=this._actualMin&&h<=this._actualMax){var d=e*(h-this._actualMin)/(this._actualMax-this._actualMin),f=t.measureString(o[c],i,this._groupClass);if(this.axisType==Ae.X){if(c>0&&Math.abs(d-l)<.5*(f.width+u))return!0;l=d,u=f.width}}}return!1},n.prototype._getHeight=function(t,e){this._actualAngle=null;var i=he._CSS_LABEL,r=he._CSS_TITLE,o=.1*(this._actualMax-this._actualMin),s=this._lbls,a=this.labelAngle;if(this.labels&&this._chart._getChartType()!==me.Funnel){if(o=this._updateAutoFormat(o),null!=s&&s.length>0){var l=s.length,u=this._values&&this._values.length==l?this._values:null;this._annoSize=new Ke;for(var c=0;c<l;c++)if((p=u?u[c]:c)>=this._actualMin&&p<=this._actualMax){var h=s[c],d=i;this.itemFormatter&&(h=(g=this._getFormattedItem(t,p,h,new T,i,!0)).text,d=g.cls);var f=t.measureString(h,d,this._groupClass);f.width>this._annoSize.width&&(this._annoSize.width=f.width),f.height>this._annoSize.height&&(this._annoSize.height=f.height)}null==a&&this.axisType==Ae.X&&(this._isOverlapped(t,Math.max(10,e-this._annoSize.width),i,this.axisType)?a=this._actualAngle=-45:this._actualAngle=0)}else{var g,p=this._actualMin-o;h=this._formatValue(p),d=i,this.itemFormatter&&(h=(g=this._getFormattedItem(t,p,h,new T,i,!0)).text,d=i),f=t.measureString(h,d,this._groupClass),this._annoSize=f,h=this._formatValue(p=this._actualMax+o),d=i,this.itemFormatter&&(h=(g=this._getFormattedItem(t,p,h,new T,i,!0)).text,d=i),(f=t.measureString(h,d,this._groupClass)).width>this._annoSize.width&&(this._annoSize.width=f.width),f.height>this._annoSize.height&&(this._annoSize.height=f.height)}if(this._annoSizeBase=new Ke(this._annoSize.width,this._annoSize.height),a){a>90?a=90:a<-90&&(a=-90);var m=a*Math.PI/180,_=this._annoSize.width,v=this._annoSize.height;this._annoSize.width=_*Math.abs(Math.cos(m))+v*Math.abs(Math.sin(m)),this._annoSize.height=_*Math.abs(Math.sin(m))+v*Math.abs(Math.cos(m)),this._actualAngle=a}}else this._annoSize=new Ke(8,8),this._annoSizeBase=new Ke(this._annoSize.width,this._annoSize.height);var y=0;this.labels&&(y=2*(this._labelPadding||5),y+=this._axisType==Ae.X?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2);var b=this._TICK_OVERLAP,C=this.majorTickMarks;return C==hn.Outside?b=1:C==hn.Inside?b=-1:C==hn.Cross&&(b=0),null==C&&(C=hn.Outside),C!=hn.None&&(y+=.5*(1+b)*this._TICK_HEIGHT),this._title?(this._szTitle=t.measureString(h=this._title,r,this._groupClass),y+=this._szTitle.height):this._szTitle=void 0,this._lbls&&this.groupsOptions&&this.groupsOptions.display!==ca.None&&(this._groupsPanel||(this._groupsPanel=new Q1(this)),this._groupsPanel.createGroups(),y+=this._groupsPanel.getHeight(t)),t.fontSize=null,y},n.prototype._updateAutoFormat=function(t){if(this._isTimeAxis){var e=this.format,i=.001*this._getActualRange()/10,r=new Gn(i*Gn.TicksPerSecond),o=J(this._majorUnit)?Gn.fromDays(this._majorUnit):Bl.NiceTimeSpan(r,e);e||(this._tfmt=Bl.GetTimeDefaultFormat(1e3*o.TotalSeconds,0)),t=o.TotalSeconds}return t},n.prototype._getActualRange=function(){return this._actualMax-this._actualMin},n.prototype._updateActualLimitsByChartType=function(t,e,i){if(t&&t.length>0&&!this._isTimeAxis){var r=this._chart._getChartType();r!=me.Column&&r!=me.Bar&&(e-=.5,i+=.5)}return{min:e,max:i}},n.prototype._updateActualLimits=function(t,e,i,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var s=this._actualMin,a=this._actualMax;this._isTimeAxis=t==ze.Date;var l=this._updateActualLimitsByChartType(r,e,i);e=l.min,i=l.max;var u=this._min,c=this._max;wt(u)&&(u=u.valueOf()),wt(c)&&(c=c.valueOf());var h=this._chart&&this._chart._stacking!==cn.Stacked100pc;h||(h=this._chart._isRotated()?this.axisType==Ae.Y:this.axisType==Ae.X);var d=this._actualMin=null!=u&&h?u:e;if(d==(this._actualMax=null!=c&&h?c:i))if(void 0!==u&&void 0===c)this._actualMax+=1;else if(void 0===u&&void 0!==c)this._actualMin-=1;else if(0===d)this._actualMax=1;else{var f=Math.abs(d);f<1?(this._actualMin-=f,this._actualMax+=f):(this._actualMin-=1,this._actualMax+=1)}if(this._getLogBase()>0){var p=this.logBase,g=Math.log(p);if(!this._max){var m=Math.ceil(Math.log(this._actualMax)/g);this._actualMax=Math.pow(p,m)}if(!this._min){var _=Math.floor(Math.log(this._actualMin)/g);this._actualMin=Math.pow(p,_)}(this._actualMin<=0||!J(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin?this._actualMax=this._actualMin+1:this._actualMax===this._actualMin&&(this._actualMin=.1*this._actualMax)}if((s!=this._actualMin&&(J(s)||J(this._actualMin))||a!=this._actualMax&&(J(a)||J(this._actualMax)))&&this.onRangeChanged(),this._items){this._values=[],this._lbls=[];var v=this._items.length,y="value",w="text";if(this.binding){var b=this.binding.split(",");2==b.length&&(y=b[0],w=b[1])}for(var C=0;C<v;C++){var I=this._items[C],M=I[y];J(M)?(this._values.push(M),this._lbls.push(I[w])):wt(M)&&(this._values.push(M.getTime()),this._lbls.push(I[w]))}}else this._lbls=r,this._values=o},n.prototype._layout=function(t,e){var i=this.axisType==Ae.Y;this._plotrect=e,this._axrect=i?new K(t.left,t.top,t.height,t.width):t,this._groupsPanel&&this._groupsPanel.layout()},n.prototype._hasVisibileSeries=function(){for(var t,e=this._chart.series,i=0,r=e.length;i<r;i++)if((t=e[i].visibility)==dn.Plot||t==dn.Visible)return!0;return!1},n.prototype._render=function(t){if(this.position!=Z.None&&this._hasVisibileSeries()){this.axisLabels.length=0,this._vals={};var e=0;this.labelAngle&&((e=this.labelAngle)>90?e=90:e<-90&&(e=-90)),null==this.labelAngle&&null!=this._actualAngle&&(e=this._actualAngle);var i=he._FG,r=this._actualMax-this._actualMin;if(J(r)){var o=this._calcMajorUnit();0==o&&(o=.1*this._niceTickNumber(r));var s=Math.min(n.MAX_MAJOR,Math.floor(r/o)+1),a=[],l=[];this._rects=[],this._vals.major=a,this._vals.hasLbls=[];var u=Math.floor(this._actualMin/o)*o;u<this._actualMin&&(u+=o);var c=!1;if(this._lbls&&this._lbls.length>0)if(l=this._lbls,0==this._values.length){c=!0;for(var h=0;h<l.length;h++)a.push(h)}else a=this._values;else this._isTimeAxis?(this._createTimeLabels(u,s,a,l),this._addMinMaxLabels(a,l)):this._getLogBase()?(this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,a,l,!0),this._addMinMaxLabels(a,l)):(this._createLabels(u,s,o,a,l),this._addMinMaxLabels(a,l));s=Math.min(a.length,l.length),t.textFill=i;var d=this._TICK_HEIGHT,f=this._TICK_OVERLAP,p=this.majorTickMarks;null==p&&(p=hn.Outside),p==hn.Outside?f=1:p==hn.Inside?f=-1:p==hn.Cross&&(f=0);var g=.5*(f-1)*d,m=.5*(1+f)*d;for(h=0;h<s;h++){var _=!0,v=a[h],y=l[h],w=this.labels;if(w&&(c||this.itemsSource)&&this.majorUnit&&h%this.majorUnit!=0&&(w=!1),v>=this._actualMin&&v<=this._actualMax){var b=t.textFill;_=this._renderLabelsAndTicks(t,h,v,y,e,p,w,g,m),t.textFill=b}this._vals.hasLbls.push(_),_&&this.axisLabels.push(y)}}(this.minorGrid||this.minorTickMarks!=hn.None)&&this._renderMinor(t,a,c),t.stroke=i,t.fontSize=null,this._renderLineAndTitle(t),this._lbls&&this.groupsOptions&&this.groupsOptions.display!==ca.None&&this._groupsPanel&&this._groupsPanel.render(t),t.stroke=null,t.fontSize=null,t.textFill=null,t.strokeWidth=null}},n.prototype._renderLineAndTitle=function(t){var e=this._getPosition(),r=e!=Z.Top&&e!=Z.Right,o=he._CSS_TITLE,s=he._CSS_LINE;if(this.axisType==Ae.Y)if(r){if(this._title){var a=new T(this._axrect.left+.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height);he._renderRotatedText(t,this._title,a,1,1,a,-90,o,this._groupClass)}this.axisLine&&t.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,s)}else this._title&&(a=new T(this._axrect.right-.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height),he._renderRotatedText(t,this._title,a,1,1,a,90,o,this._groupClass)),this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,s);else r?(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,s),this._title&&he._renderText(t,this._title,new T(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,o)):(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,s),this._title&&he._renderText(t,this._title,new T(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,o))},n.prototype._renderMinor=function(t,e,i){var r=this._getPosition(),o=this.axisType==Ae.Y,s=r!=Z.Top&&r!=Z.Right;if(this._getLogBase()){if(this.minorUnit>0){var a=[];this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,a,null,!1);for(var l=[],u=0;u<a.length;u++){var c=a[u];-1==e.indexOf(c)&&c>this._actualMin&&l.push(c)}this._renderMinors(t,l,o,s)}}else this._createMinors(t,e,o,s,i)},n.prototype._renderRotatedText=function(t,e,i,r,o,s,a,l,u,c,h){if(this.itemFormatter){var d=this._getFormattedItem(t,e,i,r,u);d?(i=d.text,u=d.cls):i=null}he._renderRotatedText(t,i,r,o,s,a,l,u,c,h)},n.prototype._getFormattedItem=function(t,e,i,r,o,s){if(void 0===s&&(s=!1),this.itemFormatter){var a=r.clone();this._plotrect&&(this.axisType==Ae.X?a.y=this.position==Z.Top?this._plotrect.top:this._plotrect.bottom:a.x=this.position==Z.Right?this._plotrect.right:this._plotrect.left);var l={val:e,text:i,pos:a,cls:o};return s&&(t.readOnly=!0),l=this.itemFormatter(t,l),s&&(t.readOnly=!1),l}},n.prototype._renderLabelsAndTicks=function(t,e,i,r,o,s,a,l,u){var c=this._getPosition(),h=!1,d=this.axisType==Ae.Y,f=c!=Z.Top&&c!=Z.Right,p=this.labelPadding||5,g=this._TICK_WIDTH,m=this._getLabelAlign(d),_=he._CSS_LABEL,v=he._CSS_GRIDLINE,y=he._CSS_TICK,w=he._FG,b=he._FG,C=this._GRIDLINE_WIDTH,I=i!=this._actualMin&&this.majorGrid;if(d){var M=this.convert(i);if(I&&(t.stroke=w,t.strokeWidth=C,t.drawLine(this._plotrect.left,M,this._plotrect.right,M,v)),t.stroke=b,t.strokeWidth=g,f){if(a){h=!0;var S=new T(this._axrect.right-u-this._TICK_LABEL_DISTANCE-p,M);o>0?90==o?this._renderRotatedText(t,i,r,S,1,0,S,o,_,this._groupClass):this._renderRotatedText(t,i,r,S,2,1,S,o,_,this._groupClass):o<0?-90==o?this._renderRotatedText(t,i,r,S,1,2,S,o,_,this._groupClass):this._renderRotatedText(t,i,r,S,2,1,S,o,_,this._groupClass):h=this._renderLabel(t,i,r,S,2,m,_)}s!=hn.None&&h&&t.drawLine(this._axrect.right-l,M,this._axrect.right-u,M,y)}else a&&(h=!0,S=new T(this._axrect.left+u+this._TICK_LABEL_DISTANCE+p,M),o>0?90==o?this._renderRotatedText(t,i,r,S,1,2,S,o,_,this._groupClass):this._renderRotatedText(t,i,r,S,0,1,S,o,_,this._groupClass):o<0?-90==o?this._renderRotatedText(t,i,r,S,1,0,S,o,_,this._groupClass):this._renderRotatedText(t,i,r,S,0,1,S,o,_,this._groupClass):h=this._renderLabel(t,i,r,S,0,m,_)),s!=hn.None&&h&&t.drawLine(this._axrect.left+l,M,this._axrect.left+u,M,y)}else{var R=this.convert(i);I&&a&&(t.stroke=w,t.strokeWidth=C,t.drawLine(R,this._plotrect.top,R,this._plotrect.bottom,v)),this.overlappingLabels==Ns.Auto&&this._xCross(R)&&(a=!1),t.stroke=b,t.strokeWidth=g,f?(a&&(S=new T(R,this._axrect.top+u+p),h=0!=o?this._renderRotatedLabel(t,i,r,S,m,o,_,f):this._renderLabel(t,i,r,S,m,0,_)),s!=hn.None&&h&&(R=this.convert(i),t.drawLine(R,this._axrect.top+l,R,this._axrect.top+u,y))):(a&&(S=new T(R,this._axrect.bottom-u-p),h=0!=o?this._renderRotatedLabel(t,i,r,S,m,o,_,f):this._renderLabel(t,i,r,S,m,2,_)),s!=hn.None&&h&&(R=this.convert(i),t.drawLine(R,this._axrect.bottom-l,R,this._axrect.bottom-u,y)))}return h},n.prototype._xCross=function(t){for(var e=this._rects.length,i=0;i<e;i++){var r=this._rects[i];if(t>=r.left&&t<=r.right)return!0}return!1},n.prototype._createMinors=function(t,e,i,r,o){if(e){for(var s=this.majorUnit?this._isTimeAxis?24*this.majorUnit*3600*1e3:this.majorUnit:e.length>1?e[1]-e[0]:e[0],a=J(this.minorUnit)?this._isTimeAxis?24*this.minorUnit*3600*1e3:this.minorUnit:.5*s,l=[],u=e[0];u>this._actualMin&&l.length<n.MAX_MINOR;u-=a)-1==e.indexOf(u)&&l.push(u);for(u=e[0]+a;u<this._actualMax&&l.length<n.MAX_MINOR;u+=a)(-1==e.indexOf(u)||o&&this.majorUnit&&u%this.majorUnit!=0)&&l.push(u);this._renderMinors(t,l,i,r)}},n.prototype._renderMinors=function(t,e,i,r){var o=this._TICK_HEIGHT,s=this._TICK_WIDTH,a=this._TICK_OVERLAP,l=he._FG,u=this.minorTickMarks,c=!0;this._vals.minor=e,u==hn.Outside?a=1:u==hn.Inside?a=-1:u==hn.Cross?a=0:c=!1;for(var h=.5*(a-1)*o,d=.5*(1+a)*o,f=e?e.length:0,p=this.minorGrid,g=this._plotrect,m=this._GRIDLINE_WIDTH,_=he._FG,v=he._CSS_GRIDLINE_MINOR,y=he._CSS_TICK_MINOR,w=0;w<f;w++)if(e[w]>=this.actualMin&&e[w]<=this.actualMax)if(i){var b=this.convert(e[w]);c&&(t.stroke=l,t.strokeWidth=s,r?t.drawLine(this._axrect.right-h,b,this._axrect.right-d,b,y):t.drawLine(this._axrect.left+h,b,this._axrect.left+d,b,y)),p&&(t.stroke=_,t.strokeWidth=m,t.drawLine(g.left,b,g.right,b,v))}else{var C=this.convert(e[w]);c&&(t.stroke=l,t.strokeWidth=s,r?t.drawLine(C,this._axrect.top+h,C,this._axrect.top+d,y):t.drawLine(C,this._axrect.bottom-h,C,this._axrect.bottom-d,y)),p&&(t.stroke=_,t.strokeWidth=m,t.drawLine(C,g.top,C,g.bottom,v))}},n.prototype._renderLabel=function(t,e,i,r,o,s,a){var l=!1;if(this.itemFormatter){var u=this._getFormattedItem(t,e,i,r,a);u?(i=u.text,a=u.cls):i=null}if(i){var c=this._rects,h=this.overlappingLabels==Ns.Auto&&!J(this._actualAngle),d=he._renderText(t,i,r,o,s,a,this._groupClass,null,function(f){if(h)for(var p=c.length,g=0;g<p;g++)if(he._intersects(c[g],f))return!1;return!0});d&&(d.left+=4,d.width+=8,c.push(d),l=!0)}return l},n.prototype._renderRotatedLabel=function(t,e,i,r,o,s,a,l){if(this.itemFormatter){var u=this._getFormattedItem(t,e,i,r,a);u?(i=u.text,a=u.cls):i=null}if(i){var c=t.measureString(i,a,this._groupClass),h=.5*c.height,d=.5*c.width*Math.abs(Math.sin(s*Math.PI/180)),f=.5*c.width,p=.5*(c.width*Math.abs(Math.cos(s*Math.PI/180))+c.height*Math.abs(Math.sin(s*Math.PI/180))),g=new T(r.x,r.y),m=new T(r.x,r.y);this.labelAlign||(o=90==s||-90==s?1:l?s>0?0:2:s>0?2:0),l?(r.y+=h+d,g.y+=h+d-.5*c.height):(r.y-=h+d-c.height,g.y-=h+d-.5*c.height);var _=0;2===o?(g.x-=p,r.x-=f+p,_=g.x+p-c.height-2):0===o?(g.x+=p,r.x-=f-p,_=g.x-p):(r.x-=f,_=g.x-c.height/2);var v=new K(_,m.y,c.height+2,c.width),y=this._rects;if(this.overlappingLabels==Ns.Auto)for(var w=y.length,b=0;b<w;b++)if(he._intersects(y[b],v))return!1;return he._renderRotatedText(t,i,r,0,2,g,s,a,this._groupClass),this._rects.push(v),!0}return!1},n.prototype._getLabelAlign=function(t){var e=1;if(this.labelAlign){var i=this.labelAlign.toLowerCase();t?"top"==i?e=0:"bottom"==i&&(e=2):"left"==i?e=0:"right"==i&&(e=2)}return e},n.prototype._addMinMaxLabels=function(t,e){if(this.labelMin){var i=this.actualMin;isFinite(i)&&(e.splice(0,0,this._formatValue(i)),t.splice(0,0,i))}if(this.labelMax){var r=this.actualMax;isFinite(r)&&(e.splice(0,0,this._formatValue(r)),t.splice(0,0,r))}},n.prototype.convert=function(t,e,i){var r=e??this._actualMax,o=i??this._actualMin;if(r==o||!this._axrect)return 0;var s=this._axrect.left,a=this._axrect.width,l=this._axrect.top,u=this._axrect.height;if(null!=this._customConvert){var c=this._customConvert(t,o,r);return this.axisType==Ae.Y?l+c*u:s+c*a}if(this._getLogBase()){if(t<=0)return NaN;var h=Math.log(r/o);return this._reversed?this.axisType==Ae.Y?l+Math.log(t/o)/h*u:s+a-Math.log(t/o)/h*a:this.axisType==Ae.Y?l+u-Math.log(t/o)/h*u:s+Math.log(t/o)/h*a}return this._reversed?this.axisType==Ae.Y?l+(t-o)/(r-o)*u:s+a-(t-o)/(r-o)*a:this.axisType==Ae.Y?l+u-(t-o)/(r-o)*u:s+(t-o)/(r-o)*a},n.prototype.convertBack=function(t){if(this._actualMax==this._actualMin)return 0;var l,e=this._plotrect.left,i=this._plotrect.width,r=this._plotrect.top,o=this._plotrect.height,s=this._actualMax-this._actualMin,a=this._getLogBase();return null!=this._customConvertBack?this._customConvertBack(this.axisType==Ae.Y?(t-r)/o:(t-e)/i,this._actualMin,this._actualMax):a?(l=this._reversed?this.axisType==Ae.Y?(t-r)/o:1-(t-e)/i:this.axisType==Ae.Y?1-(t-r)/o:(t-e)/i,Math.pow(a,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*l)/Math.log(a))):this._reversed?this.axisType==Ae.Y?this._actualMin+(t-r)*s/o:this._actualMin+(e+i-t)*s/i:this.axisType==Ae.Y?this._actualMax-(t-r)*s/o:this._actualMin+(t-e)*s/i},Object.defineProperty(n.prototype,"axisType",{get:function(){var t=this._chart;if(t){if(t.axisX==this)return Ae.X;if(t.axisY==this)return Ae.Y}return this._axisType},enumerable:!0,configurable:!0}),n.prototype._getMinNum=function(){return this._actualMin},n.prototype._getMaxNum=function(){return this._actualMax},n.prototype._getTitleSize=function(){return this._szTitle?this._szTitle:new Ke},n.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},n.prototype._cvCollectionChanged=function(t,e){this._invalidate()},n.prototype._createLabels=function(t,e,i,r,o){for(var s=0;s<e;s++){var a=(t+i*s).toFixed(14),l=parseFloat(a),u=this._formatAxisValue(l),c=o.indexOf(u);if(c>=0&&!J(this.majorUnit)&&!this._format){var h=parseFloat(u);Math.abs(h-l)<Math.abs(h-r[c])&&(r[c]=l)}else r.push(l),o.push(u)}},n.prototype._createLogarithmicLabels=function(t,e,i,r,o,s){var a=this._getLogBase(),l=Math.log(a),u=Math.floor(Math.log(t)/l),c=Math.ceil(Math.log(e)/l),h=a,d=!0;i>0&&(d=!1,h=i),h<a&&(h=a);var f=(c-u+1)*a/h,p=1;if(s){var g=this._getPosition(),m=this._getAnnoNumber(g==Z.Left||g==Z.Right);f>m?p=Math.floor(f/m+1):d&&(f<=.2*m?h=.2*a:f<=.1*m&&(h=.1*a))}for(var _=u;_<=c;_+=p)if(d)for(var v=Math.pow(a,_),y=0;y*h<a-1;y++)(w=v*(1+y*h))>=t&&w<=e&&(0==y?(r.unshift(w),o&&o.unshift(this._formatValue(w))):(r.push(w),o&&o.push(this._formatValue(w))));else{var w;(w=Math.pow(h,_))>=t&&w<=e&&(r.push(w),o&&o.push(this._formatValue(w)))}},n.prototype._createTimeLabels=function(t,e,i,r){var o=this._actualMin,s=this._actualMax,a=new Date(o),l=new Date(s),u=this._format,c=this._getAnnoNumber(this._axisType==Ae.Y);c>10&&(c=10);var d=new Gn(.001*(this._actualMax-this._actualMin)/c*Gn.TicksPerSecond),f=J(this._majorUnit)?Gn.fromDays(this._majorUnit):Bl.NiceTimeSpan(d,u);u||(this._tfmt=u=Bl.GetTimeDefaultFormat(1e3*f.TotalSeconds,0));var p=f.Ticks,g=Bl.RoundTime(o,f.TotalDays,!1);isFinite(g)&&(o=g);var m=Bl.RoundTime(s,f.TotalDays,!0);isFinite(m)&&(s=m);var _=new Date(o);if(new Date(s),f.TotalDays>=365&&!J(this._majorUnit)){(_=new Date(a.getFullYear(),0,1))<a&&_.setFullYear(_.getFullYear()+1);var v=f.TotalDays/365;v-=v%1;for(var y=_;y<=l&&v;y.setFullYear(y.getFullYear()+v)){var w=y.valueOf();i.push(w),r.push(this._formatValue(w))}}else if(f.TotalDays>=30&&!J(this._majorUnit)){(_=new Date(a.getFullYear(),a.getMonth(),1))<a&&_.setMonth(_.getMonth()+1);var b=f.TotalDays/30;for(b-=b%1,y=_;y<=l;y.setMonth(y.getMonth()+b))w=y.valueOf(),i.push(w),r.push(this._formatValue(w))}else{var C=1e3*p/Gn.TicksPerSecond,I=(y=_,a.getTime()-y.getTime());for(I>C&&(y=new Date(y.getTime()+Math.floor(I/C)*C));y<=l&&C;y=new Date(y.getTime()+C))(w=y.valueOf()+I)>=a.valueOf()&&(i.push(w),r.push(this._formatValue(w)))}},n.prototype._formatValue=function(t){if(this._isTimeAxis)return Se.format(new Date(t),this._format?this._format:this._tfmt);if(this._format)return Se.format(t,this._format);var e=t==Math.round(t)?"n0":"n";return Se.format(t,e)},n.prototype._hitTest=function(t){return this._groupsPanel?this._groupsPanel.hitTest(t):void 0},n.prototype._formatAxisValue=function(t,e){if(void 0===e&&(e=void 0),this._isTimeAxis)return Se.format(new Date(t),this._format?this._format:this._tfmt);if(this._format)return Se.format(t,this._format);if(J(t)){var i=this._findFormat(t,e);return Se.format(t,i)}return t},n.prototype._findFormat=function(t,e){void 0===e&&(e=void 0);var i=t==Math.round(t)?"n0":"n";if(void 0!==e&&(i+=e.toString()),"n"==i){var r=t.toFixed(14),o=r.search(".");if(o>=0){e=1;for(var s=r.length-1;s>=o;s--)if("0"!=r[s]){e=s-o-1;break}i+=e.toString()}}return i},n.prototype._calcMajorUnit=function(){var t=this._majorUnit;if(!J(t)){var e=this._actualMax-this._actualMin,i=this._nicePrecision(e),r=e/this._getAnnoNumber(this.axisType==Ae.Y);(t=this._niceNumber(2*r,-i,!0))<r&&(t=this._niceNumber(r,1-i,!1)),t<r&&(t=this._niceTickNumber(r))}return t},n.prototype._getAnnoNumber=function(t){var e=t?this._annoSizeBase.height:this._annoSize.width,i=t?this._axrect.height:this._axrect.width;if(e>0&&i>0){var r=Math.floor(i/(e+6));return r<=0&&(r=1),r}return 10},n.prototype._nicePrecision=function(t){if(!J(t)||t<=0)return 0;var e,i=Math.log(t)/Math.LN10;e=i>=0?Math.floor(i):Math.ceil(i);var r=t/Math.pow(10,e);return r<3&&(e=1-e,(r=t/Math.pow(10,e))<3&&(e+=1)),e},n.prototype._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,i=Math.floor(e),r=t/Math.pow(10,i),o=10;return r<=1?o=1:r<=2?o=2:r<=5&&(o=5),o*Math.pow(10,i)},n.prototype._niceNumber=function(t,e,i){if(0==t)return t;t<0&&(t=-t);var r=t/Math.pow(10,e),o=10;return i?r<1.5?o=1:r<3?o=2:r<4.5?o=4:r<7&&(o=5):r<=1?o=1:r<=2?o=2:r<=5&&(o=5),o*Math.pow(10,e)},Object.defineProperty(n.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),n.MAX_MAJOR=1e3,n.MAX_MINOR=2e3,n._id=0,n}(),K1=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Rn(t,n),t.prototype.getAxis=function(e){var i=this.indexOf(e);return i>-1?this[i]:null},t.prototype.indexOf=function(e){for(var i=0;i<this.length;i++)if(this[i].name==e)return i;return-1},t}(ei);!function(n){n[n.tickf7=-7]="tickf7",n[n.tickf6=-6]="tickf6",n[n.tickf5=-5]="tickf5",n[n.tickf4=-4]="tickf4",n[n.tickf3=-3]="tickf3",n[n.tickf2=-2]="tickf2",n[n.tickf1=-1]="tickf1",n[n.second=1]="second",n[n.minute=60]="minute",n[n.hour=3600]="hour",n[n.day=86400]="day",n[n.week=604800]="week",n[n.month=2678400]="month",n[n.year=31536e3]="year",n[n.maxtime=Number.MAX_VALUE]="maxtime"}(Ze||(Ze={}));var to,Gn=function(){function n(t){this.ticks=t}return Object.defineProperty(n.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalDays",{get:function(){return this.ticks/1e7/86400},enumerable:!0,configurable:!0}),n.fromSeconds=function(t){return new n(1e7*t)},n.fromDays=function(t){return new n(1e7*t*24*60*60)},n.TicksPerSecond=1e7,n}(),Bl=function(){function n(t){wt(t)?this.init(t):J(t)&&this.init(he._fromOADate(t))}return n.prototype.init=function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds()},n.prototype.getTimeAsDateTime=function(){return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?this.month=1:this.month>11&&(this.month=11),this.day<1?this.day=1:this.day>28&&1==this.month?this.day=28:this.day>30&&(3==this.month||5==this.month||8==this.month||10==this.month)?this.day=30:this.day>31&&(this.day=31),this.second>59&&(this.second=59),this.minute>59&&(this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},n.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},n.tround=function(t,e,i){var r=t/e*e;return r-=r%1,i&&r!=t&&(r+=e-=e%1),r},n.RoundTime=function(t,e,i){var r=24*e*60*60;if(r>0){var o=new n(t);return r<Ze.minute?(o.second=this.tround(o.second,r,i),o.getTimeAsDouble()):(o.second=0,r<Ze.hour?(o.minute=this.tround(o.minute,r/=Ze.minute,i),o.getTimeAsDouble()):(o.minute=0,r<Ze.day?(o.hour=this.tround(o.hour,r/=Ze.hour,i),o.getTimeAsDouble()):(o.hour=0,r<Ze.month?(o.day=this.tround(o.day,r/=Ze.day,i),o.getTimeAsDouble()):(o.day=1,r<Ze.year?(r/=Ze.month,1!=o.month&&(o.month=this.tround(o.month,r,i)),o.getTimeAsDouble()):(o.month=1,o.year=this.tround(o.year,r/=Ze.year,i),o.getTimeAsDouble())))))}var a=t-r,l=a/e*e;return i&&l!=a&&(l+=e),r+l},n.TimeSpanFromTmInc=function(t){var e=Gn.fromSeconds(1);if(t!=Ze.maxtime)if(t>Ze.tickf1)e=Gn.fromSeconds(t);else{var i=t,r=1;for(i+=7;i>0;)r*=10,i--;e=new Gn(r)}return e},n.manualTimeInc=function(t){var e=Ze.second;if(null==t||0==t.length)return e;var i=t.indexOf("f");if(i>=0){var r=-1;if(i>0&&"%"==t.substr(i-1,1))r=-1;else for(var o=1;o<6&&!(i+o>=t.length)&&"f"==t.substr(i+o,1);o++)r--;e=r}else t.indexOf("s")>=0?e=Ze.second:t.indexOf("m")>=0?e=Ze.minute:t.indexOf("h")>=0||t.indexOf("H")?e=Ze.hour:t.indexOf("d")>=0?e=Ze.day:t.indexOf("M")>=0?e=Ze.month:t.indexOf("y")>=0&&(e=Ze.year);return e},n.getNiceInc=function(t,e,i){for(var r=0;r<t.length;r++){var o=t[r]*i;if(e<=o)return o}return 0},n.NiceTimeSpan=function(t,e){var i=Ze.second;null!=e&&e.length>0&&(i=n.manualTimeInc(e));var r=0,o=0;if(i<Ze.second&&t.TotalSeconds<10){for(r=t.Ticks,o=n.TimeSpanFromTmInc(i).Ticks;r>10*o;)o*=10;var s=o;return r>s&&(s*=2),r>s&&(s=5*o),r>s&&(s=10*o),new Gn(s)}if(0==(r=Math.ceil(t.TotalSeconds)))return n.TimeSpanFromTmInc(i);if(o=1,i<Ze.minute){if(r<Ze.minute&&0!=(o=n.getNiceInc([1,2,5,10,15,30],r,i)))return Gn.fromSeconds(o);i=Ze.minute}if(i<Ze.hour){if(r<Ze.hour&&0!=(o=n.getNiceInc([1,2,5,10,15,30],r,i)))return Gn.fromSeconds(o);i=Ze.hour}if(i<Ze.day){if(r<Ze.day&&0!=(o=n.getNiceInc([1,3,6,12],r,i)))return Gn.fromSeconds(o);i=Ze.day}if(i<Ze.month){if(r<Ze.month&&0!=(o=n.getNiceInc([1,2,7,14],r,i)))return Gn.fromSeconds(o);i=Ze.month}if(i<Ze.year){if(r<Ze.year&&0!=(o=n.getNiceInc([1,2,3,4,6],r,i)))return Gn.fromSeconds(o);i=Ze.year}return r<(o=100*Ze.year)&&0==(o=n.getNiceInc([1,2,5,10,20,50],r,i))&&(o=100*Ze.year),Gn.fromSeconds(o)},n.NiceTimeUnit=function(t,e){var i=Gn.fromDays(t);return(i=n.NiceTimeSpan(i,e)).TotalDays},n.GetTimeDefaultFormat=function(t,e){if(!J(t)||!J(e))return"";var i="s",r=Gn.fromSeconds(.001*(t-e)),o=r.TotalSeconds;if(o>=Ze.year)i="yyyy";else if(o>=Ze.month)i="MMM yyyy";else if(o>=Ze.day)i="MMM d";else if(o>=Ze.hour)i="ddd H:mm";else if(o>=.5*Ze.hour)i="H:mm";else if(o>=1)i="H:mm:ss";else if(o>0){var s=r.Ticks;for(i="s.";s<Gn.TicksPerSecond;)s*=10,i+="f"}return i},n.secInYear=86400,n}(),Z1=function(){function n(t,e,i){this._start=e-.5,this._end=e+i-.5,this._value=e+.5*(i-1),this._label=t}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rect",{get:function(){return this._rect},set:function(t){this._rect=t},enumerable:!0,configurable:!0}),n}(),p8=function(){function n(t,e){this._labels=[],this._index=0,this._size=new Ke,this._level=0,this._level=t,this._last=e}return Object.defineProperty(n.prototype,"labels",{get:function(){return this._labels},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._size.height},set:function(t){this._size.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._size.width},set:function(t){this._size.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),n.prototype.getSize=function(t,e,i){var r=this;return this._size=new Ke,this.labels.forEach(function(o){var s=t.measureString(o.label,e,i);r._size.width=Math.max(r._size.width,s.width),r._size.height=Math.max(r._size.height,s.height)}),this._size},n.prototype.render=function(t,e,i,r,o){var s=this,a=e._getPosition(),l=e.axisType===Ae.X;this.labels.forEach(function(u){var c,h=u.label,d=!1,f=l?Math.abs(e.convert(u.end)-e.convert(u.start)):s.width,p=t.measureString(h,r,o);switch(p.width>f&&(h=s._trimText(h,p.width,f),d=!0),a){case Z.Bottom:c=he._renderText(t,h,new T(e.convert(u.value),i),1,2,r,o);break;case Z.Top:c=he._renderText(t,h,new T(e.convert(u.value),i),1,0,r,o);break;case Z.Left:c=he._renderText(t,h,new T(i+s._size.width,e.convert(u.value)),2,1,r,o);break;case Z.Right:c=he._renderText(t,h,new T(i-s._size.width,e.convert(u.value)),0,1,r,o)}u.rect=d?c:void 0}),a===Z.Bottom||a===Z.Top?this.renderLinesX(t,e,i):this.renderLinesY(t,e,i)},n.prototype.hitTest=function(t){for(var e,i=0;i<this.labels.length;i++){var r=this.labels[i];if(r.rect&&r.rect.contains(t)){e=r;break}}return e},n.prototype.renderLinesX=function(t,e,i){var r=this,o=e.groupsOptions.display===ca.ShowGrid,s=e._getPosition(),a=4,l=s===Z.Bottom?1:-1,u=i-l*(this.height+a);if(a*=l,o){var c=e.convert(e.actualMin),h=e.convert(e.actualMax);this.drawLine(t,c,i+a,h,i+a),this.drawLine(t,c,u,h,u);var d=e.convert(this.labels[0].start),f=0===this.level?1===l?e._axrect.top:e._axrect.bottom:u;this.drawLine(t,d,i+a,d,f),this.labels.forEach(function(p){var g=new T(e.convert(p.end),i);r.drawLine(t,g.x,g.y+a,g.x,r._last?1===l?e._axrect.top:e._axrect.bottom:f)})}else this.labels.forEach(function(p){var g=e.convert(p.start)+Math.abs(a),m=e.convert(p.end)-Math.abs(a);r.drawLine(t,g,u,m,u),(e.labels||!r._last)&&(r.drawLine(t,g,u,g,u-2*a),r.drawLine(t,m,u,m,u-2*a));var _=e.convert(p.value);r.drawLine(t,_,u,_,u+a)})},n.prototype.renderLinesY=function(t,e,i){var r=this,o=e.groupsOptions.display===ca.ShowGrid,s=e._getPosition(),a=4,l=s===Z.Left?-1:1,u=i-l*(this.width+a);if(a*=l,o){var c=e.convert(e.actualMin),h=e.convert(e.actualMax);this.drawLine(t,i+a,c,i+a,h),this.drawLine(t,u,c,u,h);var d=e.convert(this.labels[0].start),f=0===this.level?1===l?e._axrect.left:e._axrect.right:u;this.drawLine(t,i+a,d,f,d),this.labels.forEach(function(p){var g=e.convert(p.end);r.drawLine(t,i+a,g,r._last?1===l?e._axrect.left:e._axrect.right:f,g)})}else this.labels.forEach(function(p){var g=e.convert(p.start)-Math.abs(a),m=e.convert(p.end)+Math.abs(a);r.drawLine(t,u,g,u,m),r.drawLine(t,u,g,u-2*a,g),r.drawLine(t,u,m,u-2*a,m);var _=e.convert(p.value);r.drawLine(t,u,_,u+a,_)})},n.prototype.drawLine=function(t,e,i,r,o){t.drawLine(e,i,r,o,he._CSS_LINE)},n.prototype._trimText=function(t,e,i){var r="",s=Math.floor((1-(e-i)/e)*t.length);return t.length>0&&(r=t[0]+(s>1?t.substring(1,s-1)+"..":"")),r},n}(),Q1=function(){function n(t){this._groups=[],this._margin=8,this._axis=t}return Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"axis",{get:function(){return this._axis},enumerable:!0,configurable:!0}),n.prototype.createGroups=function(){var t=this;this._groups=[];var e=this.axis._chart.collectionView;e&&e.groups&&e.groups.length>0&&e.groups.forEach(function(i){return t.createGroup(i,0)})},n.prototype.createGroup=function(t,e){var i=this;this.groups[e]||(this.groups[e]=new p8(e,t.isBottomLevel));var r=this.groups[e],o=t.items;r.labels.push(new Z1(t.name,r.index,o.length)),r.index+=o.length,t.groups.forEach(function(s){return i.createGroup(s,e+1)})},n.prototype.layoutGroups=function(t){this.groups.forEach(function(e){e.width*=t})},n.prototype.getHeight=function(t){var e=this,i=this._axis._getPosition(),r=0;return this.groups.forEach(i===Z.Bottom||i===Z.Top?function(s){return r+=e._margin+s.getSize(t,he._CSS_LABEL,e._axis._groupClass).height}:function(s){return r+=e._margin+s.getSize(t,he._CSS_LABEL,e._axis._groupClass).width}),r>0&&this._axis.labels&&(r+=this._margin*this.groups.length),this._height=r,r},n.prototype.layout=function(){var t=this._axis,e=t._axrect;if(t.axisType===Ae.Y){var i=(t.labels?t._annoSize.width+t._TICK_LABEL_DISTANCE+12:4)+t._getTitleSize().height,r=e.width-i;if(r<this._height){var o=this._margin*this._groups.length;this.layoutGroups((r-o)/(this._height-o)),this._height=r}}},n.prototype.render=function(t){var e=this,i=this._axis._getPosition(),r=this._axis._getTitleSize();if(i===Z.Bottom){var o=this.axis._axrect.bottom-r.height-this._margin;this.groups.forEach(function(u){u.render(t,e.axis,o,he._CSS_LABEL,e._axis._groupClass),o-=u.height+e._margin})}else if(i===Z.Top){var s=this.axis._axrect.top+r.height+this._margin;this.groups.forEach(function(u){u.render(t,e.axis,s,he._CSS_LABEL,e._axis._groupClass),s+=u.height+e._margin})}else if(i===Z.Left){var a=this.axis._axrect.left+r.height+this._margin;this.groups.forEach(function(u){u.render(t,e.axis,a,he._CSS_LABEL,e._axis._groupClass),a+=u.width+e._margin})}else if(i===Z.Right){var l=this.axis._axrect.right-r.height-this._margin;this.groups.forEach(function(u){u.render(t,e.axis,l,he._CSS_LABEL,e._axis._groupClass),l-=u.width+e._margin})}},n.prototype.hitTest=function(t){for(var e,i=0;i<this._groups.length;i++){var r=this._groups[i].hitTest(t);if(r){e=r;break}}return e},n}(),On=function(){function n(t,e,i,r){this._seriesIndex=t,this._pointIndex=e,this._dataX=i,this._dataY=r}return Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataX",{get:function(){return this._dataX},set:function(t){t!==this._dataX&&(this._dataX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataY",{get:function(){return this._dataY},set:function(t){t!==this._dataY&&(this._dataY=t)},enumerable:!0,configurable:!0}),n}();!function(n){n[n.X=0]="X",n[n.Y=1]="Y",n[n.XY=2]="XY"}(to||(to={}));var Et,mr=function(){function n(t){this._rect=t}return Object.defineProperty(n.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){var e=this._rect;return t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom},n.prototype.pointDistance=function(t,e,i){var r=e.x-t.x,o=e.y-t.y;return i==to.X?Math.abs(r):i==to.Y?Math.abs(o):Math.sqrt(r*r+o*o)},n.prototype.distance=function(t){var e=to.XY;isNaN(t.x)||null===t.x?e=to.Y:(isNaN(t.y)||null===t.y)&&(e=to.X);var i=this._rect;return t.x<i.left?t.y<i.top?this.pointDistance(t,new T(i.left,i.top),e):t.y>i.bottom?this.pointDistance(t,new T(i.left,i.bottom),e):e==to.Y?0:i.left-t.x:t.x>i.right?t.y<i.top?this.pointDistance(t,new T(i.right,i.top),e):t.y>i.bottom?this.pointDistance(t,new T(i.right,i.bottom),e):e==to.Y?0:t.x-i.right:e==to.X?0:t.y<i.top?i.top-t.y:t.y>i.bottom?t.y-i.bottom:0},n}(),Io=function(){function n(t,e){this._center=t,this.setRadius(e)}return n.prototype.setRadius=function(t){this._rad=t,this._rad2=t*t},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){var e=this._center.x-t.x,i=this._center.y-t.y;return e*e+i*i<=this._rad2},n.prototype.distance=function(t){var e=isNaN(t.x)?0:this._center.x-t.x,i=isNaN(t.y)?0:this._center.y-t.y,r=e*e+i*i;return r<=this._rad2?0:Math.sqrt(r)-this._rad},n}(),Ji=function(){function n(t,e){this._x=[],this._y=[],this._x=t,this._y=e}return n.prototype.contains=function(t){return!1},n.prototype.distance=function(t){for(var e=NaN,i=0;i<this._x.length-1;i++){var r=he._dist(t,new T(this._x[i],this._y[i]),new T(this._x[i+1],this._y[i+1]));(isNaN(e)||r<e)&&(e=r)}return e},n}(),ey=function(){},J1=function(){function n(t){this._map={},this._chart=t}return n.prototype.add=function(t,e){this._map[e]&&(t.tag||(t.tag=new On(e,NaN,NaN,NaN)),this._map[e].push(t))},n.prototype.clear=function(){this._map={};for(var t=this._chart.series,e=0;e<t.length;e++)t[e].hitTest===kr.prototype.hitTest&&(this._map[e]=new Array)},n.prototype.hitTest=function(t,e){void 0===e&&(e=!1);for(var i=null,r=Number.MAX_VALUE,o=this._chart.series.length-1;o>=0;o--){var s=this._map[o];if(s){for(var a=s.length-1;a>=0;a--){var l=s[a];if(!Tn(l,Ji)||e){var u=l.distance(t);if(u<r&&(i=l,0==(r=u)))break}}if(0==r)break}}if(i){var c=new ey;return c.area=i,c.distance=r,c}return null},n.prototype.hitTestSeries=function(t,e){var i=null,r=Number.MAX_VALUE,o=this._map[e];if(o)for(var s=o.length-1;s>=0;s--){var a=o[s],l=a.distance(t);if(l<r&&(i=a,0==(r=l)))break}if(i){var u=new ey;return u.area=i,u.distance=r,u}return null},n}();!function(n){n[n.PlotArea=0]="PlotArea",n[n.AxisX=1]="AxisX",n[n.AxisY=2]="AxisY",n[n.ChartArea=3]="ChartArea",n[n.Legend=4]="Legend",n[n.Header=5]="Header",n[n.Footer=6]="Footer",n[n.Series=7]="Series",n[n.SeriesSymbol=8]="SeriesSymbol",n[n.DataLabel=9]="DataLabel",n[n.None=10]="None"}(Et||(Et={}));var dn,ns,_r=function(){function n(t,e,i){this._pointIndex=null,this._chartElement=Et.None,this._chart=t,this._pt=e,this._chartElement=i}return Object.defineProperty(n.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"item",{get:function(){if(null==this._item&&null!==this.pointIndex)if(null!=this.series)this._item=this.series._getItem(this.pointIndex);else{var t=this._chart._getHitTestItem(this.pointIndex);t&&(this._item=t)}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return void 0===this._x&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return void 0===this._y&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._chart._getHitTestValue(this.pointIndex,this._groupIndex)??(this.series&&null!=this.series._getValue?this.series._getValue(this.pointIndex):this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){if(void 0===this._name){var t=this._chart._getHitTestLabel(this.pointIndex);return null==t?this.series.name:t.toString()}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupIndex",{get:function(){return this._groupIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_xfmt",{get:function(){return void 0===this.__xfmt&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_yfmt",{get:function(){return void 0===this.__yfmt&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),n.prototype._setData=function(t,e){this._series=t,this._pointIndex=e},n.prototype._setDataGroup=function(t,e){this._groupIndex=t,this._pointIndex=e},n.prototype._setName=function(t){this._name=t,t&&(this._dist=0)},n.prototype._setDataPoint=function(t){if(t=Pe(t,On,!0)){this._pointIndex=t.pointIndex;var e=Pe(this._chart,he,!0),i=t.seriesIndex;null!==i&&i>=0&&i<e.series.length&&(this._series=e.series[i]),null!=t.item&&(this._item=t.item),null!=t.x&&(this._x=t.x),null!=t.y&&(this._y=t.y),null!=t.xfmt&&(this.__xfmt=t.xfmt),null!=t.yfmt&&(this.__yfmt=t.yfmt),null!=t.name&&(this._name=t.name)}},n.prototype._getValueFmt=function(){var t=this.value;if(null!=t){if(null==this.series)return pr(t==Math.round(t)?"{val:n0}":"{val:n}",{val:t});t=this._chart._isRotated()?this.ax._formatValue(t):this.ay._formatValue(t)}return t},n.prototype._getValue=function(t,e){var i=this._chart._getHitTestValue(this.pointIndex,this.groupIndex);if(null!==i)return i;var r=null,o=this._chart,s=this.pointIndex,a=o._isRotated();if(null!==this.series&&null!==s){var l=this.series.getValues(t),u=this.series.getDataType(t);l&&this.pointIndex<l.length?(r=l[this.pointIndex],u!=ze.Date||e||(r=new Date(r))):1==t&&(o._xlabels&&o._xlabels.length>0&&s<o._xlabels.length?r=o._xlabels[s]:o._xvals&&s<o._xvals.length&&(r=o._xvals[s],o._xDataType!=ze.Date||e||(r=new Date(r))))}return null!==r&&e&&(a?0==t?r=this.ax._formatValue(r):1==t&&(r=this.ay._formatValue(r)):0==t?r=this.ay._formatValue(r):1==t&&(r=this.ax._formatValue(r))),r},Object.defineProperty(n.prototype,"ax",{get:function(){return this.series.axisX?this.series.axisX:this._chart.axisX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ay",{get:function(){return this.series.axisY?this.series.axisY:this._chart.axisY},enumerable:!0,configurable:!0}),n}();!function(n){n[n.Visible=0]="Visible",n[n.Plot=1]="Plot",n[n.Legend=2]="Legend",n[n.Hidden=3]="Hidden"}(dn||(dn={})),function(n){n[n.Dot=0]="Dot",n[n.Box=1]="Box"}(ns||(ns={}));var di,fi,zl,eT=function(){},tT=function(n){function t(e){var i=n.call(this)||this;return i._series=Pe(e,er),i}return Rn(t,n),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),t}(Do),er=function(){function n(t){this._altStyle=null,this._symbolMarker=ns.Dot,this._visibility=dn.Visible,this._interpolateNulls=null,this._cache={},this.rendering=new k,this.rendered=new k,this.initialize(t)}return Object.defineProperty(n.prototype,"interpolateNulls",{get:function(){return null==this._interpolateNulls?this._chart&&this._chart.interpolateNulls:this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=N(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"altStyle",{get:function(){return this._altStyle},set:function(t){t!=this._altStyle&&(this._altStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(t){t!=this._symbolStyle&&(this._symbolStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=F(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){(t=Ie(t,ns,!0))!=this._symbolMarker&&(this._symbolMarker=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=U(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=U(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=Is(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=U(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibility",{get:function(){return this._visibility},set:function(t){(t=Ie(t,dn))!=this._visibility&&(this._visibility=t,this._clearValues(),this._invalidate(),this._chart&&this._chart.onSeriesVisibilityChanged(new tT(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltipContent",{get:function(){return this._tooltipContent},set:function(t){t!=this._tooltipContent&&(this._tooltipContent=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=Ot(t),this._invalidate())},enumerable:!0,configurable:!0}),n.prototype.hitTest=function(t,e){return J(t)&&J(e)?t=new T(t,e):t instanceof MouseEvent&&(t=new T(t.pageX,t.pageY)),Pe(t,T),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},n.prototype.getPlotElement=function(t){if(this.hostElement&&t<this._pointIndexes.length){var e=this._pointIndexes[t];if(e<this.hostElement.childNodes.length)return this.hostElement.childNodes[e]}return null},Object.defineProperty(n.prototype,"axisX",{get:function(){return this._axisX},set:function(t){if(t!=this._axisX){if(this._axisX=Pe(t,ts,!0),this._axisX){var e=this._axisX._chart=this._chart;e&&-1==e.axes.indexOf(this._axisX)&&e.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"axisY",{get:function(){return this._axisY},set:function(t){if(t!=this._axisY){if(this._axisY=Pe(t,ts,!0),this._axisY){var e=this._axisY._chart=this._chart;e&&-1==e.axes.indexOf(this._axisY)&&e.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),n.prototype.initialize=function(t){vi(this,t)},n.prototype.pointToData=function(t){return Pe(t,T),(t=t.clone()).x=this._getAxisX().convertBack(t.x),t.y=this._getAxisY().convertBack(t.y),t},n.prototype.dataToPoint=function(t){return Pe(t,T),(t=t.clone()).x=this._getAxisX().convert(t.x),t.y=this._getAxisY().convert(t.y),t},n.prototype.onRendering=function(t,e,i){var r=new q1(t,e,i);return this.rendering.raise(this,r),r.cancel},n.prototype.onRendered=function(t){this.rendered.raise(this,new Eo(t))},Object.defineProperty(n.prototype,"_chart",{get:function(){return this.__chart},set:function(t){t!==this.__chart&&(this.__chart=t)},enumerable:!0,configurable:!0}),n.prototype._getSymbolSize=function(){return null!=this.symbolSize?this.symbolSize:this.chart.symbolSize},Object.defineProperty(n.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},set:function(t){t!=this.__plotter&&(this.__plotter=t)},enumerable:!0,configurable:!0}),n.prototype.getDataType=function(t){return 0==t?this._valueDataType:1==t?this._xvalueDataType:null},n.prototype.getValues=function(t){if(0==t){if(null==this._values)if(this._valueDataType=null,null!=this._cv){var e=this._bindValues(this._cv.items,this._getBinding(0));this._values=e.values,this._valueDataType=e.dataType}else null!=this.binding&&null!=this._chart&&null!=this._chart.collectionView&&(e=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=e.values,this._valueDataType=e.dataType);return this._values}if(1==t){if(null==this._xvalues&&(this._xvalueDataType=null,null!=this.bindingX))if(null!=this._cv)e=this._bindValues(this._cv.items,this.bindingX,!0),this._xvalueDataType=e.dataType,this._xvalues=e.values;else{if(null==this._bindingX)return null;null!=this._chart&&null!=this._chart.collectionView&&(e=this._bindValues(this._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=e.dataType,this._xvalues=e.values)}return this._xvalues}return null},n.prototype.drawLegendItem=function(t,e,i){var r=this._getChartType();null==r&&(r=this._chart._getChartType());var o=this._getLegendStyle(this.style);r===me.Funnel?this._drawFunnelLegendItem(t,e,i,o,this.symbolStyle):this._drawLegendItem(t,e,r,this.name,o,this.symbolStyle)},n.prototype._getLegendStyle=function(t){if(t){var e={};return t.fill&&(e.fill=t.fill),t.stroke&&(e.stroke=t.stroke),e}},n.prototype.measureLegendItem=function(t,e){var i=this._getChartType();return null==i&&(i=this._chart._getChartType()),this._measureLegendItem(t,i===me.Funnel?this._getFunnelLegendName(e):this.name)},n.prototype.legendItemLength=function(){var t=this._getChartType();return null==t&&(t=this._chart._getChartType()),t===me.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:this._chart._xvals&&this._chart._xvals.length?this._chart._xvals.length:1:1},n.prototype.getDataRect=function(t,e){return null},n.prototype._getChartType=function(){return this._chartType},n.prototype._clearValues=function(){this._values=null,this._xvalues=null,this.__plotter=null,this._cache={}},n.prototype._getBinding=function(t){var e=this.binding;if(e){var i=this.chart?this.chart._bindingSeparator:",";if(i){var r=e.split(i);r&&r.length>t&&(e=r[t].trim())}}return e},n.prototype._getBindingValues=function(t){if(this._cache[t])return this._cache[t];var e;null!=this._cv?e=this._cv.items:null!=this._chart&&null!=this._chart.collectionView&&(e=this._chart.collectionView.items);var i=this._bindValues(e,this._getBinding(t));return this._cache[t]=i.values},n.prototype._getItem=function(t){var e=null,i=null;return null!=this.itemsSource?i=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(i=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=i&&(e=i[t]),e},n.prototype._getLength=function(){var t=0,e=null;return null!=this.itemsSource?e=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(e=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=e&&(t=e.length),t},n.prototype._setPointIndex=function(t,e){this._pointIndexes[t]=e},n.prototype._getDataRect=function(){var t=this.getValues(0),e=this.getValues(1);if(t){for(var i=NaN,r=NaN,o=NaN,s=NaN,a=t.length,l=0;l<a;l++){var u=t[l];if(Rt(u)){var c=u,h=Math.min.apply(Math,c),d=Math.max.apply(Math,c);isNaN(r)?(r=h,s=d):(h<r&&(r=h),d>s&&(s=d))}else isFinite(u)&&(isNaN(r)?r=s=u:u<r?r=u:u>s&&(s=u));if(e){var f=e[l];isFinite(f)&&(isNaN(i)?i=o=f:f<i?i=f:u>s&&(o=f))}}if(e||(i=0,o=a-1),!isNaN(r))return new K(i,r,o-i,s-r)}return null},n.prototype._isCustomAxisX=function(){return!(!this._axisX||this._chart&&this._axisX==this.chart.axisX)},n.prototype._isCustomAxisY=function(){return!(!this._axisY||this._chart&&this._axisY==this.chart.axisY)},n.prototype._getAxisX=function(){var t=null;return this.axisX?t=this.axisX:this.chart&&(t=this.chart.axisX),t},n.prototype._getAxisY=function(){var t=null;return this.axisY?t=this.axisY:this.chart&&(t=this.chart.axisY),t},n.prototype._measureLegendItem=function(t,e){var i=new Ke;if(i.width=n._LEGEND_ITEM_WIDTH,i.height=n._LEGEND_ITEM_HEIGHT,this._name){var r=t.measureString(e,he._CSS_LABEL,he._CSS_LEGEND);i.width+=r.width,i.height<r.height&&(i.height=r.height)}return i.width+=3*n._LEGEND_ITEM_MARGIN,i.height+=2*n._LEGEND_ITEM_MARGIN,i},n.prototype._drawFunnelLegendItem=function(t,e,i,r,o){t.strokeWidth=1;var s=n._LEGEND_ITEM_MARGIN,a=null,l=null;null===a&&(a=this._chart._getColorLight(i)),null===l&&(l=this._chart._getColor(i)),t.fill=a,t.stroke=l;var u=e.top+.5*e.height,c=n._LEGEND_ITEM_WIDTH,h=n._LEGEND_ITEM_HEIGHT,d=this._getFunnelLegendName(i);t.drawRect(e.left+s,u-.5*h,c,h,null,o||r),null!=d&&he._renderText(t,d,new T(e.left+h+2*s,u),0,1,he._CSS_LABEL,he._CSS_LEGEND)},n.prototype._getFunnelLegendName=function(t){var e,i=this._chart;return i._xlabels&&i._xlabels.length&&t<i._xlabels.length?e=i._xlabels[t]:i._xvals&&i._xvals.length&&t<i._xvals.length&&(e=i._xvals[t],i._xDataType===ze.Date&&(e=he._fromOADate(e))),null==e&&(e=this.name),e.toString()},n.prototype._drawLegendItem=function(t,e,i,r,o,s){t.strokeWidth=1;var a=n._LEGEND_ITEM_MARGIN,l=null,u=null;null===l&&(l=this._chart._getColorLight(this._chart.series.indexOf(this))),null===u&&(u=this._chart._getColor(this._chart.series.indexOf(this))),t.fill=l,t.stroke=u;var c=e.top+.5*e.height,h=n._LEGEND_ITEM_WIDTH,d=n._LEGEND_ITEM_HEIGHT;switch(i){case me.Area:case me.SplineArea:case me.StepArea:t.drawRect(e.left+a,c-.5*d,h,d,null,o);break;case me.Bar:case me.Column:t.drawRect(e.left+a,c-.5*d,h,d,null,s||o);break;case me.Scatter:case me.Bubble:var f=.3*h,p=.3*d;this.symbolMarker==ns.Box?t.drawRect(e.left+a+.5*h-f,c-p,2*f,2*p,null,s||o):t.drawEllipse(e.left+.5*h+a,c,f,p,null,s||o);break;case me.Line:case me.Spline:case me.Step:t.drawLine(e.left+a,c,e.left+h+a,c,null,o);break;case me.LineSymbols:case me.SplineSymbols:case me.StepSymbols:f=.3*h,p=.3*d,this.symbolMarker==ns.Box?t.drawRect(e.left+a+.5*h-f,c-p,2*f,2*p,null,s||o):t.drawEllipse(e.left+.5*h+a,c,f,p,null,s||o),t.drawLine(e.left+a,c,e.left+h+a,c,null,o);break;case me.Candlestick:case me.HighLowOpenClose:t.drawLine(e.left+a,c,e.left+h+a,c,null,s||o)}this._name&&he._renderText(t,r,new T(e.left+d+2*a,c),0,1,he._CSS_LABEL,he._CSS_LEGEND)},n.prototype._cvCollectionChanged=function(t,e){this._clearValues(),this._invalidate()},n.prototype._cvCurrentChanged=function(t,e){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()},n.prototype._bindValues=function(t,e,i){var r,o,s;if(void 0===i&&(i=!1),null!=t){var a=t.length;r=new Array(t.length);for(var l=e?new At(e):null,u=0;u<a;u++){s=null;var c=t[u];null!=l&&(c=l.getValue(c)),Rt(c)&&c.length>0&&(s=c,c=c[0]),J(c)?(r[u]=c,o=ze.Number):wt(c)?(r[u]=c.valueOf(),o=ze.Date):i&&c&&(r[u]=u,o=ze.Number),Rt(s)&&s.length>0&&(r[u]=s)}}var h=new eT;return h.values=r,h.dataType=o,h},n.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},n.prototype._indexToPoint=function(t){return t>=0&&t<this._values.length?new T(this._xvalues?this._xvalues[t]:t,this._values[t]):null},n.prototype._getSymbolFill=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.fill),!e&&this.style&&(e=this.style.fill),!e&&this.chart&&(e=this.chart._getColorLight(t)),e},n.prototype._getSymbolStroke=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.stroke),!e&&this.style&&(e=this.style.stroke),!e&&this.chart&&(e=this.chart._getColor(t)),e},n.prototype._getAltSymbolStroke=function(t){var e=null;return this.altStyle&&(e=this.altStyle.stroke),e},n.prototype._getAltSymbolFill=function(t){var e=null;return this.altStyle&&(e=this.altStyle.fill),e},n.prototype._renderLabels=function(t,e,i,r){this._plotter&&this._plotter._renderLabels(t,this,e,i,r)},n._LEGEND_ITEM_WIDTH=10,n._LEGEND_ITEM_HEIGHT=10,n._LEGEND_ITEM_MARGIN=4,n._DEFAULT_SYM_SIZE=10,n}(),kr=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Rn(t,n),Object.defineProperty(t.prototype,"chartType",{get:function(){return this._chartType},set:function(e){(e=Ie(e,me,!0))!=this._chartType&&(this._chartType=e,this._invalidate())},enumerable:!0,configurable:!0}),t}(er),nT=function(n){function t(e,i){var r=n.call(this,e,null,!0)||this;r._areas=[],r._keywords=new Kv,r._startAngle=0,r._innerRadius=0,r._offset=0,r._reversed=!1,r._isAnimated=!1,r._selectedItemPosition=Z.None,r._selectedItemOffset=0,r._pieGroups=[],r._rotationAngles=[],r._centers=[new T],r._selectedOffset=new T,r._selectedIndex=-1,r._angles=[],r._colRowLens=[],r._titles=void 0,r._values=[],r._labels=[],r._pels=[],r._sum=0,r._sums=[],r._bindingSeparator=",",r.applyTemplate("wj-control wj-flexchart wj-flexpie",null,null),r._currentRenderEngine=new Os(r.hostElement),r._legend=new Vl(r),r._tooltip=new xf,r._tooltip.content="<b>{name}</b><br/>{value}",r._tooltip.showDelay=0,r._lbl=new Jv,r._lbl._chart=r;var o=r;return r.hostElement.addEventListener("mousemove",function(s){var a=o._tooltip;if(a.content&&!o.isTouching){var l=o.hitTest(s,void 0,!0);if(l.distance<=a.threshold){var u=o._getLabelContent(l,o.tooltip.content);o._showToolTip(u,new K(s.clientX,s.clientY,5,5))}else o._hideToolTip()}}),r.hostElement.addEventListener("click",function(s){var a=!0;if(o.selectionMode==bi.Point){var l=o.hitTest(s),u=St._SELECTION_THRESHOLD;o.tooltip&&o.tooltip.threshold&&(u=o.tooltip.threshold),l.distance<=u?(l.pointIndex!=o._selectionIndex&&o.selectedItemPosition!=Z.None&&(a=!1),l.pointIndex!=o._selectionIndex&&o._select(l.pointIndex,!0)):o._selectedIndex>=0&&o._select(null)}if(a&&o.isTouching){var c=o._tooltip;if(c.content)if((l=o.hitTest(s,void 0,!0)).distance<=c.threshold){var h=o._getLabelContent(l,o.tooltip.content);o._showToolTip(h,new K(s.clientX,s.clientY,5,5))}else o._hideToolTip()}}),r.hostElement.addEventListener("mouseleave",function(s){o._hideToolTip()}),r.deferUpdate(function(){return r.initialize(i)}),r}return Rn(t,n),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding},set:function(e){e!=this._binding&&(this._binding=U(e,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingName",{get:function(){return this._bindingName},set:function(e){e!=this._bindingName&&(this._bindingName=U(e,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){e!=this._startAngle&&(this._startAngle=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(e){e!=this._offset&&(this._offset=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){e!=this._innerRadius&&(this._innerRadius=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerTextStyle",{get:function(){return this._innerTextStyle},set:function(e){e!=this._innerText&&(this._innerTextStyle=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerText",{get:function(){return this._innerText},set:function(e){e!=this._innerText&&(this._innerText=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reversed",{get:function(){return this._reversed},set:function(e){e!=this._reversed&&(this._reversed=N(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(e){(e=Ie(e,Z,!0))!=this._selectedItemPosition&&(this._selectedItemPosition=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(e){e!=this._selectedItemOffset&&(this._selectedItemOffset=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(e){e!=this._isAnimated&&(this._isAnimated=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataLabel",{get:function(){return this._lbl},set:function(e){e!=this._lbl&&(this._lbl=e,this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){if(e!=this._selectedIndex){var i=F(e,!0);this._select(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titles",{get:function(){return this._titles},set:function(e){e!==this._titles&&(this._titles=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartsPerLine",{get:function(){return this._chartsPerLine},set:function(e){e!=this._chartsPerLine&&(this._chartsPerLine=F(e,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype._getLabelsForLegend=function(){return this._labels},t.prototype.hitTest=function(e,i,r){var o=this._toControl(e,i),s=new _r(this,o),a=null;return St._contains(this._rectHeader,o)?s._chartElement=Et.Header:St._contains(this._rectFooter,o)?s._chartElement=Et.Footer:St._contains(this._rectLegend,o)?(s._chartElement=Et.Legend,null!==(a=this.legend._hitTest(o))&&a>=0&&a<this._areas.length&&s._setData(null,a)):St._contains(this._rectChart,o)?(this._hitTestData(s,o,r),s._chartElement=Et.ChartArea):s._chartElement=Et.None,s},t.prototype._hitTestData=function(e,i,r){for(var o,s=this._areas.length,a=NaN,l=0;l<s;l++){var u=i.clone(),c=this._areas[l],h=this._rotationAngles[c.gi];if(0!=h){var d=this._centers[c.gi],f=d.x,p=d.y,g=-f+u.x,m=-p+u.y,_=Math.sqrt(g*g+m*m),v=Math.atan2(m,g)-h*Math.PI/180;u.x=f+_*Math.cos(v),u.y=p+_*Math.sin(v)}l==this._selectedIndex&&(u.x-=this._selectedOffset.x,u.y-=this._selectedOffset.y);var y=this._areas[l];if(y.contains(u)){if(!0===r){a=0,o=y;continue}if(e._setDataGroup(c.gi,y.tag),e._dist=0,l!=this._selectedIndex)break}var w=y.distance(u);void 0!==w&&(isNaN(a)||w<a||!0===r&&this._isSmallSegment(w,o,y))&&(a=w,o=y)}0!==e._dist&&null!=o&&(e._setDataGroup(o.gi,o.tag),e._dist=a)},t.prototype._isSmallSegment=function(e,i,r){return e<=.5*this.tooltip.threshold&&Math.abs(r.sweep)<=.035&&Math.abs(i.sweep/r.sweep)>=10},t.prototype._performBind=function(){if(this._initData(),this._cv){this._selectionIndex=this._cv.currentPosition;var e=this._cv.items;if(e){for(var i=e.length,r=this._getBindings(),o=0;o<r.length;o++)this._values[o]=[],this._sums[o]=0;for(var s=0;s<i;s++){var a=e[s];for(o=0;o<r.length;o++)this._sums[o]+=Math.abs(this._getBindData(a,this._values[o],0==o?this._labels:null,r[o],this.bindingName))}}}},t.prototype._getBindings=function(){var e=[],i=this.binding;if(i){var r=this._bindingSeparator;r&&(e=i.split(r))}return e},t.prototype._initData=function(){this._sum=0,this._sums=[],this._values=[],this._labels=[]},t.prototype._getBindData=function(e,i,r,o,s){var a,l=0,u=o?new At(o):null;u&&(a=u.getValue(e)),l=0,J(a)?l=F(a):a&&(l=parseFloat(a.toString())),!isNaN(l)&&isFinite(l)||(l=0),i.push(l);var c=s?new At(s):null;if(r)if(c&&e){var h=c.getValue(e);h&&(h=h.toString()),r.push(h)}else r.push(l.toString());return l},t.prototype._render=function(e,i,r){void 0===i&&(i=!0),void 0===r&&(r=null),this._selectionAnimationID&&clearInterval(this._selectionAnimationID),this.onRendering(new Eo(e)),n.prototype._render.call(this,e,i,r)},t.prototype._prepareRender=function(){this._areas=[]},t.prototype._renderChart=function(e,i,r){var a,o=this._rectChart.clone(),s=new Ke(o.width,o.height),l=this._parseMargin(this.plotMargin),u=this.dataLabel,c=u.content&&u.position==hi.Outside,h=c?(J(u.offset)?u.offset:0)+24:0;isNaN(l.left)&&(l.left=c?h:t._MARGIN),isNaN(l.right)&&(l.right=c?h:t._MARGIN),isNaN(l.top)&&(l.top=c?h:t._MARGIN),isNaN(l.bottom)&&(l.bottom=c?h:t._MARGIN),i.top+=l.top,i.height=(a=i.height-(l.top+l.bottom))>0?a:24,i.left+=l.left,i.width=(s=i.width-(l.left+l.right))>0?s:24;var d=this._getBindings(),f=this.titles;void 0===f&&d.length>1&&(f=d);var p=this._layout(e,i,f,d.length);this._angles=[],this._pels=[],this._pieGroups=[],this._rotationAngles=[];for(var g=0;g<d.length;g++){var m=p[g];f&&g<f.length&&f[g]&&St._renderText(e,f[g],new T(m.left+.5*m.width,m.top),1,2,t._CSS_GROUP_TITLE);var _=e.startGroup("wj-slice-group",null,!0);this._pieGroups.push(_),this._renderData(e,m,g,_),e.endGroup(),this._rotationAngles.push(0)}this._highlightCurrent(),this.innerText&&this._renderInnerText(e),this.dataLabel.content&&this.dataLabel.position!=hi.None&&this._renderLabels(e),this.onRendered(new Eo(e))},t.prototype._layout=function(e,i,r,o){var s=0,a=o,l=1,u=0;if(r)for(var c=0;c<r.length;c++)u=Math.max(u,e.measureString(r[c],t._CSS_GROUP_TITLE).height);var h=Math.floor(this.chartsPerLine);if(h>0){a=Math.min(o,h),l=Math.ceil(o/a);var d=Math.floor(i.width/a),f=Math.floor(i.height/l)-u;s=Math.min(d,f)}else for(var p=1;p<=o;p++){var g=Math.floor((o+(p-1))/p);d=Math.floor(i.width/p),f=Math.floor(i.height/g),(f-=u)<d&&(d=f),d>s&&(s=d,a=p,l=g)}for(var m=[],_=.5*(i.width-s*a),v=.5*(i.height-(s+u)*l),y=0;y<l;y++)for(var w=0;w<a;w++)m.push(new K(i.left+s*w+8+_,i.top+(s+u)*y+8+v+u,s-16,s-16));return m},t.prototype._getDesiredLegendSize=function(e,i,r,o){var s=new Ke,a=(new Ke(r,o),this._getLabelsForLegend()),l=a.length,u=0,c=0,h=this.legend.scrollbar?18:0;this._colRowLens=[];for(var d=0;d<l;d++){var f=this._measureLegendItem(e,a[d]);i?(c+f.height>o&&!this.legend.scrollbar&&(s.height=o,this._colRowLens.push(u),u=0,c=0),u<f.width&&(u=f.width),c+=f.height):(u+f.width>r-h&&(s.width=r,this._colRowLens.push(c),c=0,u=0),c<f.height&&(c=f.height),u+=f.width)}return i?(s.height<c&&(s.height=c),this._colRowLens.push(u),s.width=this._colRowLens.reduce(function(p,g){return p+g},0)):(s.width<u&&(s.width=u),this._colRowLens.push(c),s.height=this._colRowLens.reduce(function(p,g){return p+g},0)),s},t.prototype._renderLegend=function(e,i,r,o,s,a){for(var l=new K(i.x,i.y,s,a),u=this._getLabelsForLegend(),c=u.length,h=0,d=i.clone(),f=0;f<c;f++){var p=this._measureLegendItem(e,u[f]);o?d.y+p.height>l.top+l.height+1&&!this.legend.scrollbar&&(d.x+=this._colRowLens[h],h++,d.y=i.y):d.x+p.width>l.right&&(d.y+=this._colRowLens[h],h++,d.x=i.x);var g=new K(d.x,d.y,p.width,p.height);this._drawLegendItem(e,g,f,u[f]),r.push(g),o?d.y+=p.height:d.x+=p.width}},t.prototype._renderData=function(e,i,r,o){var l=this.innerRadius,u=this.offset;if(l>1&&(l=1),this._sums[r]>0){var c=(this.startAngle+180)*Math.PI/180,h=i.left+.5*i.width,d=i.top+.5*i.height,f=Math.min(.5*i.width,.5*i.height);this._centers[r]=new T(h,d);var p=Math.max(u,this.selectedItemOffset);p>0&&(u*=f/=1+p),this._radius=f,this._renderPie(e,r,f,l*f,c,u)}},t.prototype._renderPie=function(e,i,r,o,s,a){this._renderSlices(e,this._values[i],this._sums[i],i,r,o,s,2*Math.PI,a)},t.prototype._getCenter=function(){return this._centers[0]},t.prototype._renderSlices=function(e,i,r,o,s,a,l,u,c){for(var h,d,f,p=i.length,g=0,m=l,_=1==this.reversed,v=this._centers[o],y=0;y<p;y++)i[y]>0&&g++;var w=1===g?360:359.9/360;for(y=0;y<p;y++){d=v.x,f=v.y,h=e.startGroup("wj-slice"),e.fill=this._getColorLight(y),e.stroke=this._getColor(y);var b=Math.abs(i[y]),C=Math.abs(b-r)<1e-10?u:u*b/r;C=Math.min(C,u*w);var I=_?m-.5*C:m+.5*C;c>0&&C<u&&(d+=c*Math.cos(I),f+=c*Math.sin(I)),this._renderSlice(e,d,f,I,o,y,s,a,m,C,u),_?m-=C:m+=C,e.endGroup(),this._pels.push(h)}},t.prototype._renderSlice=function(e,i,r,o,s,a,l,u,c,h,d){var f=this,p=!!this.reversed;if(this._angles.push(o),this.itemFormatter){var g=new _r(this,new T(i+l*Math.cos(o),r+l*Math.sin(o)),Et.SeriesSymbol);g._setData(null,a),this.itemFormatter(e,g,function(){f._drawSlice(e,s,a,p,i,r,l,u,c,h)}),e.cssPriority=!0}else this._drawSlice(e,s,a,p,i,r,l,u,c,h)},t.prototype._getSelectedItemOffset=function(e,i){var r=0,o=0,s=0;return e==this._selectedIndex&&this.selectedItemOffset>0&&(s=this.selectedItemOffset),s>0&&(r=Math.cos(i)*s*this._radius,o=Math.sin(i)*s*this._radius),{x:r,y:o}},t.prototype._renderInnerText=function(e){for(var i=this.innerText,r=this.innerTextStyle,o=0;o<this._centers.length;o++){var s=this._centers[o],a=void 0;(a=Ge(i)?i(o):Rt(i)?U(i[o]):U(i))&&(a=pr(a,{total:this._sums[o],binding:this._getBindings()[o]}),r&&(e.cssPriority=!1),t._renderText(e,a,s,1,1,St._CSS_TITLE,null,r),e.cssPriority=!0)}},t.prototype._renderLabels=function(e){var i=this._areas.length,r=this.dataLabel,o=r.position,s="wj-data-label",a=this._rotationAngles,l=r.connectingLine,u=r.offset?r.offset:0;e.stroke="null",e.fill="transparent",e.strokeWidth=1,e.startGroup("wj-data-labels");for(var c=0;c<i;c++){var h=this._areas[c];if(h){var d=h.radius,f=h.langle+a[h.gi],p=1,g=1;o==hi.Center||o===hi.Radial||o===hi.Circular?d*=.5*(1+(h.innerRadius||0)/h.radius):((f=no.clampAngle(f))<=-170||f>=170?(p=2,g=1):f>=-100&&f<=-80?(p=1,g=2):f>=-10&&f<=10?(p=0,g=1):f>=80&&f<=100?(p=1,g=0):-180<f&&f<-90?(p=2,g=2):-90<=f&&f<0?(p=0,g=2):0<f&&f<90?(p=0,g=0):90<f&&f<180&&(p=2,g=0),o==hi.Inside&&(p=2-p,g=2-g)),f*=Math.PI/180;var _=this._getSelectedItemOffset(h.gi?c-h.gi*this._values[0].length:c,f),v=_.x,y=_.y,w=d;o==hi.Outside?w+=u:o==hi.Inside&&(w-=u);var b=h.center.x,C=h.center.y,I=this._centers[h.gi],M=b-I.x,S=C-I.y;if(0!=this._rotationAngles[h.gi]){var R=Math.sqrt(M*M+S*S),P=Math.atan2(S,M)+this._rotationAngles[h.gi]*Math.PI/180;b=I.x+R*Math.cos(P),C=I.y+R*Math.sin(P)}var x=new T(b+v+w*Math.cos(f),C+y+w*Math.sin(f));r.border&&o!=hi.Center&&(0==p?x.x+=2:2==p&&(x.x-=2),0==g?x.y+=2:2==g&&(x.y-=2));var E=new _r(this,x);E._setDataGroup(h.gi,h.tag);var j=this._getLabelContent(E,r.content),ee=new Zv(e,E,x,j);if(r.onRendering&&(r.onRendering(ee)?(j=ee.text,x=ee.point):j=null),j){var L,B=180*Math.atan2(C-x.y,b-x.x)/Math.PI;if(B=(B+360)%360,o===hi.Radial||o===hi.Circular?(o===hi.Radial?B>90&&B<270&&(B+=180):(B>180&&B<360&&(B+=180),B-=90),(L=St._renderRotatedText(e,j,x,p,g,x,B,s).getBBox()).left=L.x,L.top=L.y):L=St._renderText(e,j,x,p,g,s),r.border&&e.drawRect(L.left-2,L.top-2,L.width+4,L.height+4,"wj-data-label-border"),l){var Q=new T(b+v+d*Math.cos(f),C+y+d*Math.sin(f));e.drawLine(x.x,x.y,Q.x,Q.y,"wj-data-label-line")}}e.cssPriority=!0}}e.endGroup()},t.prototype._drawSlice=function(e,i,r,o,s,a,l,u,c,h){var d;o?u>0?(0!=h&&e.drawDonutSegment(s,a,l,u,c-h,h),(d=new ny(new T(s,a),l,u,c-h,h,this.startAngle)).tag=r,this._areas.push(d)):(0!=h&&e.drawPieSegment(s,a,l,c-h,h),(d=new ty(new T(s,a),l,c-h,h,this.startAngle)).tag=r,this._areas.push(d)):(u>0?(0!=h&&e.drawDonutSegment(s,a,l,u,c,h),(d=new ny(new T(s,a),l,u,c,h,this.startAngle)).tag=r,this._areas.push(d)):(0!=h&&e.drawPieSegment(s,a,l,c,h),(d=new ty(new T(s,a),l,c,h,this.startAngle)).tag=r,this._areas.push(d)),c+=h),d&&(d.gi=i)},t.prototype._measureLegendItem=function(e,i){var r=new Ke;if(r.width=kr._LEGEND_ITEM_WIDTH,r.height=kr._LEGEND_ITEM_HEIGHT,i){var o=e.measureString(i,St._CSS_LABEL,St._CSS_LEGEND);r.width+=o.width,r.height<o.height&&(r.height=o.height)}return r.width+=3*kr._LEGEND_ITEM_MARGIN,r.height+=2*kr._LEGEND_ITEM_MARGIN,r},t.prototype._drawLegendItem=function(e,i,r,o){e.strokeWidth=1;var s=kr._LEGEND_ITEM_MARGIN,a=null,l=null;null===a&&(a=this._getColorLight(r)),null===l&&(l=this._getColor(r)),e.fill=a,e.stroke=l;var u=i.top+.5*i.height,h=kr._LEGEND_ITEM_HEIGHT;e.drawRect(i.left+s,u-.5*h,kr._LEGEND_ITEM_WIDTH,h,null),null!=o&&St._renderText(e,o.toString(),new T(i.left+h+2*s,u),0,1,St._CSS_LABEL)},t.prototype._getLabelContent=function(e,i){return xe(i)?this._keywords.replace(i,e):Ge(i)?i(e):null},t.prototype._select=function(e,i){if(void 0===i&&(i=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=e,this.selectionMode==bi.Point){var r=this._cv;r&&(this._notifyCurrentChanged=!1,r.moveCurrentToPosition(e),this._notifyCurrentChanged=!0)}null==e?(this._selectedIndex=-1,this.invalidate()):this.isAnimated&&this.selectedItemPosition!=Z.None||!(this.selectedItemOffset>0||this.selectedItemPosition!=Z.None)?this._highlight(!0,this._selectionIndex,i):(this._selectedIndex=e,this.invalidate()),this.onSelectionChanged()},t.prototype._highlightCurrent=function(){if(this.selectionMode!=bi.None){var e=-1,i=this._cv;i&&(e=i.currentPosition),this._highlight(!0,e)}},t.prototype._highlight=function(e,i,r){if(void 0===r&&(r=!1),this.selectionMode==bi.Point&&null!=i&&i>=0)if(e){for(var o=[],s=0;s<this._pieGroups.length;s++){if(p=this._pels[i+s*this._values[0].length]){p.parentNode.appendChild(p);var a=this._find(p,["ellipse"]);this._highlightItems(this._find(p,["path","ellipse"]),St._CSS_SELECTION,e)}var l=this._angles[i+s*this._values[0].length];if(this.selectedItemPosition!=Z.None&&0!=l){var u=0;this.selectedItemPosition==Z.Left?u=180:this.selectedItemPosition==Z.Top?u=-90:this.selectedItemPosition==Z.Bottom&&(u=90);var c=u*Math.PI/180-l;c*=180/Math.PI,r&&this.isAnimated?o.push(c):(this._rotationAngles[s]=c,this._pieGroups[s].transform.baseVal.getItem(0).setRotate(c,this._centers[s].x,this._centers[s].y))}var h=this.selectedItemOffset;if(h>0&&a&&0==a.length){var d=this._selectedOffset.x=Math.cos(l)*h*this._radius,f=this._selectedOffset.y=Math.sin(l)*h*this._radius;p&&p.setAttribute("transform","translate("+d.toFixed()+","+f.toFixed()+")")}this._selectedIndex=i}o.length>0&&this._animateSelectionAngle(o,.5)}else{for(s=0;s<this._pieGroups.length;s++){var p;(p=this._pels[i+s*this._values[0].length])&&(p.parentNode.insertBefore(p,p.parentNode.childNodes.item(i)),p.removeAttribute("transform"),this._highlightItems(this._find(p,["path","ellipse"]),St._CSS_SELECTION,e))}this._selectedIndex==i&&(this._selectedIndex=-1)}},t.prototype._animateSelectionAngle=function(e,i){var r=this,o=r._pieGroups;r._selectionAnimationID&&clearInterval(this._selectionAnimationID),this._selectionAnimationID=Ec(function(s){if(o==r._pieGroups){for(var a=0;a<o.length;a++){var l=no.clampAngle(r._rotationAngles[a]),u=no.clampAngle(e[a])-l;r._rotationAngles[a]=l+=u*s,o[a].transform.baseVal.getItem(0).setRotate(l,r._centers[a].x,r._centers[a].y)}1==s&&clearInterval(r._selectionAnimationID),s>.99&&(r.selectedItemOffset>0||r.selectedItemPosition!=Z.None)&&r.invalidate()}},1e3*i)},t.prototype._getHitTestItem=function(e){var i,r=null;return(i=null!=this._cv?this._cv.items:this.itemsSource)&&e<i.length&&(r=i[e]),r},t.prototype._getHitTestValue=function(e,i){return null==i&&(i=0),this._values[i][e]},t.prototype._getHitTestLabel=function(e){return this._labels[e]},t._MARGIN=4,t._CSS_GROUP_TITLE="wj-label",t}(St),no=function(){function n(){}return n.clampAngle=function(t,e){void 0===e&&(e=0);var i=(t+180)%360-180;return i<-180+(e<0?e+360:e)&&(i+=360),i},n}(),ty=function(){function n(t,e,i,r,o){void 0===o&&(o=0),this._isFull=!1,this._center=t,this._radius=e,this._originAngle=i,this._originSweep=r,r>=2*Math.PI&&(this._isFull=!0),this._sweep=.5*r*180/Math.PI,this._angle=no.clampAngle(180*i/Math.PI+this._sweep),this._radius2=e*e,this._startAngle=o}return n.prototype.contains=function(t){var e=t.x-this._center.x,i=t.y-this._center.y;if(e*e+i*i<=this._radius2){var r=180*Math.atan2(i,e)/Math.PI,o=no.clampAngle(this._angle,this._startAngle)-no.clampAngle(r,this._startAngle);if(this._isFull||Math.abs(o)<=this._sweep)return!0}return!1},n.prototype.distance=function(t){if(this.contains(t))return 0;var e=t.x-this._center.x,i=t.y-this._center.y,r=e*e+i*i,o=180*Math.atan2(i,e)/Math.PI,s=no.clampAngle(this._angle,this._startAngle)-no.clampAngle(o,this._startAngle);if(this._isFull||Math.abs(s)<=this._sweep)return Math.sqrt(r)-this._radius;var a=this.center.clone();a.x+=this.radius*Math.cos(this._originAngle),a.y+=this.radius*Math.sin(this._originAngle);var l=this.center.clone();l.x+=this.radius*Math.cos(this._originAngle+this._originSweep),l.y+=this.radius*Math.sin(this._originAngle+this._originSweep);var u=he._dist(t,this.center,a),c=he._dist(t,this.center,l);return Math.min(u,c)},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),n}(),ny=function(){function n(t,e,i,r,o,s){void 0===s&&(s=0),this._isFull=!1,this._center=t,this._radius=e,this._iradius=i,this._originAngle=r,this._originSweep=o,o>=2*Math.PI&&(this._isFull=!0),this._sweep=.5*o*180/Math.PI,this._angle=no.clampAngle(180*r/Math.PI+this._sweep),this._radius2=e*e,this._iradius2=i*i,this._startAngle=s}return n.prototype.contains=function(t){var e=t.x-this._center.x,i=t.y-this._center.y,r=e*e+i*i;if(r>=this._iradius2&&r<=this._radius2){var o=180*Math.atan2(i,e)/Math.PI,s=no.clampAngle(this._angle,this._startAngle)-no.clampAngle(o,this._startAngle);if(this._isFull||Math.abs(s)<=this._sweep)return!0}return!1},n.prototype.distance=function(t){if(this.contains(t))return 0;var e=this.center.clone();e.x+=this.radius*Math.cos(this._originAngle),e.y+=this.radius*Math.sin(this._originAngle);var i=this.center.clone();i.x+=this._iradius*Math.cos(this._originAngle),i.y+=this._iradius*Math.sin(this._originAngle);var r=this.center.clone();r.x+=this.radius*Math.cos(this._originAngle+this._originSweep),r.y+=this.radius*Math.sin(this._originAngle+this._originSweep);var o=this.center.clone();o.x+=this._iradius*Math.cos(this._originAngle+this._originSweep),o.y+=this._iradius*Math.sin(this._originAngle+this._originSweep);var s=he._dist(t,e,i),a=he._dist(t,r,o);return Math.min(s,a)},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerRadius",{get:function(){return this._iradius},enumerable:!0,configurable:!0}),n}(),g8=function(){function n(){this._moveMarker=function(t){var i=this._markers,r=t.currentTarget.getAttribute("data-markerIndex");null!=r&&i[r].forEach(function(o){o._moveMarker(t)})},this._markers=[],this._bindMoveMarker=this._moveMarker.bind(this)}return n.prototype.attach=function(t){var e,i,r=t.chart.hostElement,o=this._markers,s=r.getAttribute("data-markerIndex");null!=s?(i=o[s])&&Rt(i)?i.push(t):(o[s]=[t],this._bindMoveEvent(r)):(e=o.length,o.push(i=[t]),r.setAttribute("data-markerIndex",e),this._bindMoveEvent(r))},n.prototype.detach=function(t){var e,i,r=t.chart.hostElement,o=this._markers,s=r.getAttribute("data-markerIndex");null!=s&&((e=(i=o[s]).indexOf(t))>-1&&i.splice(e,1),0===i.length&&((e=o.indexOf(i))>-1&&(o[e]=void 0),this._unbindMoveEvent(r)))},n.prototype._unbindMoveEvent=function(t){var e=this._bindMoveMarker;t.removeEventListener("mousemove",e),"ontouchstart"in window&&t.removeEventListener("touchmove",e)},n.prototype._bindMoveEvent=function(t){var e=this._bindMoveMarker;t.addEventListener("mousemove",e),"ontouchstart"in window&&t.addEventListener("touchmove",e)},n}(),iT=new g8;!function(n){n[n.None=0]="None",n[n.Vertical=1]="Vertical",n[n.Horizontal=2]="Horizontal",n[n.Both=3]="Both"}(di||(di={})),function(n){n[n.None=0]="None",n[n.Move=1]="Move",n[n.Drag=2]="Drag"}(fi||(fi={})),function(n){n[n.Auto=2]="Auto",n[n.Right=0]="Right",n[n.Left=1]="Left",n[n.Bottom=4]="Bottom",n[n.Top=6]="Top"}(zl||(zl={}));var rT=function(){function n(t,e){this._wrapperMousedown=null,this._wrapperMouseup=null,this._savedPosition=new T,this.positionChanged=new k,this._chart=t,t._markers.push(this),t.rendered.addHandler(this._initialize,this),this._resetDefaultValue(),vi(this,e),this._initialize()}return Object.defineProperty(n.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){t!==this._isVisible&&(this._isVisible=N(t),this._marker&&this._toggleVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){t!==this._seriesIndex&&(this._seriesIndex=F(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){if(t!==this._horizontalPosition){if(this._horizontalPosition=F(t,!0),this._savedPosition.x=this._horizontalPosition,this._horizontalPosition<0||this._horizontalPosition>1)throw"horizontalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){var t=this._chart.axisX,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.x)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){var t=this._chart.axisY,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.y)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=Ot(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){if(t!==this._verticalPosition){if(this._verticalPosition=F(t,!0),this._savedPosition.y=this._verticalPosition,this._verticalPosition<0||this._verticalPosition>1)throw"verticalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this._alignment},set:function(t){t!==this._alignment&&(this._alignment=t,this._marker&&this._updatePositionByAlignment())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lines",{get:function(){return this._lines},set:function(t){(t=Ie(t,di))!=this._lines&&(this._lines=t,this._marker&&this._resetLinesVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"interaction",{get:function(){return this._interaction},set:function(t){(t=Ie(t,fi))!=this._interaction&&(this._marker&&this._detach(),this._interaction=t,this._marker&&this._attach(),this._toggleElesDraggableClass(this._interaction==fi.Drag))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=F(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dragContent",{get:function(){return this._dragContent},set:function(t){t!==this._dragContent&&(this._dragContent=N(t)),qe(this._dragEle,n._CSS_LINE_DRAGGABLE,this._interaction===fi.Drag&&this._dragContent&&this._lines!==di.None)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=N(t))},enumerable:!0,configurable:!0}),n.prototype.onPositionChanged=function(t){this.positionChanged.raise(this,t)},n.prototype.remove=function(){this._marker&&(this._chart.rendered.removeHandler(this._initialize,this),this._detach(),this._removeMarker(),this._wrapperMoveMarker=null,this._wrapperMousedown=null,this._wrapperMouseup=null)},n.prototype._attach=function(){var t=this._chart.hostElement;this._interaction!==fi.None?Me(t,n._CSS_TOUCH_DISABLED):ui(t,n._CSS_TOUCH_DISABLED),iT.attach(this),this._attachDrag()},n.prototype._attachDrag=function(){this._interaction===fi.Drag&&(this._wrapperMousedown||(this._wrapperMousedown=this._onMousedown.bind(this)),this._wrapperMouseup||(this._wrapperMouseup=this._onMouseup.bind(this)),this._toggleDragEventAttach(!0))},n.prototype._detach=function(){ui(this._chart.hostElement,n._CSS_TOUCH_DISABLED),iT.detach(this),this._detachDrag()},n.prototype._detachDrag=function(){this._interaction===fi.Drag&&this._toggleDragEventAttach(!1)},n.prototype._toggleDragEventAttach=function(t){var e=this._chart.hostElement,i=t?"addEventListener":"removeEventListener";e[i]("mousedown",this._wrapperMousedown),document[i]("mouseup",this._wrapperMouseup),"ontouchstart"in window&&e[i]("touchstart",this._wrapperMousedown),"ontouchend"in window&&document[i]("touchend",this._wrapperMouseup)},n.prototype._onMousedown=function(t){var e,i,r,o,s,a=this._getEventPoint(t);this._interaction===fi.Drag&&(o=!(0===(e=Ki(this._hLine)).width||0===e.height),s=!(0===(i=Ki(this._vLine)).width||0===i.height),r=Ki(this._markerContent),this._dragContent&&this._pointInRect(a,r)?(this._capturedEle=this._markerContent,this._contentDragStartPoint=new T(a.x,a.y),this._mouseDownCrossPoint=new T(this._targetPoint.x,this._targetPoint.y)):o&&(Math.abs(e.top-a.y)<=this._dragThreshold||Math.abs(a.y-e.top-e.height)<=this._dragThreshold||a.y>=e.top&&a.y<=e.top+e.height)?(this._capturedEle=this._hLine,this._contentDragStartPoint=void 0,Me(this._chart.hostElement,n._CSS_LINE_DRAGGABLE)):s&&(Math.abs(i.left-a.x)<=this._dragThreshold||Math.abs(a.x-i.left-i.width)<=this._dragThreshold||a.x>=i.left&&a.x<=i.left+i.width)&&(this._capturedEle=this._vLine,this._contentDragStartPoint=void 0,Me(this._chart.hostElement,n._CSS_LINE_DRAGGABLE)),t.preventDefault())},n.prototype._onMouseup=function(t){var e=this._alignment===zl.Auto&&this._capturedEle===this._markerContent&&this._lines!==di.None;this._capturedEle=void 0,this._contentDragStartPoint=void 0,this._mouseDownCrossPoint=void 0,e&&(this._updatePositionByAlignment(),this._updatePositionByAlignment()),ui(this._chart.hostElement,n._CSS_LINE_DRAGGABLE)},n.prototype._moveMarker=function(t){var e,i,r,o,s,a,l=this._chart,u=this._getEventPoint(t),c=this._plotRect,h=this._interaction===fi.Drag,d=this._lines===di.Horizontal,f=this._lines===di.Vertical,p=this._seriesIndex,g=Ki(l.hostElement);if(c&&this._isVisible&&this._interaction!==fi.None&&(this._interaction!==fi.Drag||this._capturedEle&&this._lines!==di.None)){if(h&&(this._contentDragStartPoint?(u.x=d?this._targetPoint.x:this._mouseDownCrossPoint.x+u.x-this._contentDragStartPoint.x,u.y=f?this._targetPoint.y:this._mouseDownCrossPoint.y+u.y-this._contentDragStartPoint.y):d||!this._dragLines&&this._capturedEle===this._hLine?u.x=this._targetPoint.x:(f||!this._dragLines&&this._capturedEle===this._vLine)&&(u.y=this._targetPoint.y)),h&&this._lines===di.Horizontal||!this._dragLines&&this._capturedEle===this._hLine){if(u.y<=c.top||u.y>=c.top+c.height)return}else if(h&&this._lines===di.Vertical||!this._dragLines&&this._capturedEle===this._vLine){if(u.x<=c.left||u.x>=c.left+c.width)return}else{var m=this._getTop();if(u.x<=c.left||u.y<=m||u.x>=c.left+c.width||u.y>=m+c.height)return}if(null!=p&&p>=0&&p<l.series.length){if(null==(i=(e=l.series[p]).hitTest(new T(u.x,NaN)))||null==i.x||null==i.y)return;r=e.axisX||l.axisX,o=e._getAxisY(),s=xe(s=wt(i.x)?he._toOADate(i.x):i.x)?i.pointIndex:s,a=wt(i.y)?he._toOADate(i.y):i.y;var _=this._getElementPaddingValuee(l.hostElement,"padding-left"),v=this._getElementPaddingValuee(l.hostElement,"padding-top");u.x=r.convert(s)+_+g.left,this.chart._stacking!=cn.None&&(a=this._calcStackedValue(p,s,a)),u.y=o.convert(a)+v+g.top}this._updateMarkerPosition(u),t.preventDefault()}},n.prototype._calcStackedValue=function(t,e,i){for(var r=i,o=this.chart._stacking==cn.Stacked100pc,s=0;s<t;s++){var a=this.chart.series[s],l=a.getValues(1),u=a.getValues(0);if(u)for(var c=0;c<u.length;c++)if(e===(l?l[c]:c)){isFinite(u[c])&&(o||this._sign(i)==this._sign(u[c]))&&(r+=u[c]);break}}return o&&r&&(r/=this.chart._dataInfo.getStackedAbsSum(e))>1&&(r=1),r},n.prototype._sign=function(t){return t>0?1:t<0?-1:0},n.prototype._getElementPaddingValuee=function(t,e){return+window.getComputedStyle(t,null).getPropertyValue(e).replace("px","")},n.prototype._show=function(t){(t||this._marker).style.display="block"},n.prototype._hide=function(t){(t||this._marker).style.display="none"},n.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},n.prototype._resetDefaultValue=function(){this._isVisible=!0,this._alignment=zl.Auto,this._lines=di.None,this._interaction=fi.None,this._horizontalPosition=null,this._verticalPosition=null,this._content=null,this._seriesIndex=null,this._dragThreshold=15,this._dragContent=!1,this._dragLines=!1,this._targetPoint=new T},n.prototype._initialize=function(){var t,e=this._chart.hostElement.querySelector("."+he._CSS_PLOT_AREA);this._plot=e,this._marker||this._createMarker(),e&&(this._plotRect=Ki(e),t=e.getBBox(),this._plotRect.width=t.width,this._plotRect.height=t.height,this._updateMarkerSize(),this._updateLinesSize()),this._updateMarkerPosition(),this._wrapperMoveMarker=this._moveMarker.bind(this),this._attach()},n.prototype._createMarker=function(){var t,e;Me(t=document.createElement("div"),n._CSS_MARKER),(e=this._getContainer()).appendChild(t),this._markerContainer=e,this._marker=t,this._createChildren()},n.prototype._removeMarker=function(){var t=this._markerContainer;t.removeChild(this._marker),this._content=null,this._hLine=null,this._vLine=null,t.hasChildNodes()||(this._chart.hostElement.removeChild(this._markerContainer),this._markerContainer=null),this._marker=null},n.prototype._getContainer=function(){var t=this._chart.hostElement.querySelector(n._CSS_MARKER_CONTAINER);return t||(t=this._createContainer()),t},n.prototype._createContainer=function(){var t=document.createElement("div"),e=this._chart.hostElement;return Me(t,n._CSS_MARKER_CONTAINER),e.insertBefore(t,e.firstChild),t},n.prototype._createChildren=function(){var t,e,i,r,o=this._marker;(r=document.createElement("div")).style.position="absolute",r.style.height="100%",r.style.width="100%",o.appendChild(r),this._dragEle=r,Me(t=document.createElement("div"),n._CSS_MARKER_CONTENT),o.appendChild(t),this._markerContent=t,Me(e=document.createElement("div"),n._CSS_MARKER_HLINE),o.appendChild(e),this._hLine=e,Me(i=document.createElement("div"),n._CSS_MARKER_VLINE),o.appendChild(i),this._vLine=i,this._toggleElesDraggableClass(this._interaction===fi.Drag),this._resetLinesVisibility()},n.prototype._toggleElesDraggableClass=function(t){qe(this._hLine,n._CSS_LINE_DRAGGABLE,t),qe(this._vLine,n._CSS_LINE_DRAGGABLE,t),qe(this._dragEle,n._CSS_LINE_DRAGGABLE,t&&this._dragContent&&this._lines!==di.None)},n.prototype._updateMarkerSize=function(){var t=this._plotRect,e=this._chart.hostElement,i=window.getComputedStyle(e,null),r=Ki(e);this._marker&&(this._marker.style.marginTop=t.top-r.top-(parseFloat(i.getPropertyValue("padding-top"))||0)+"px",this._marker.style.marginLeft=t.left-r.left-(parseFloat(i.getPropertyValue("padding-left"))||0)+"px")},n.prototype._updateLinesSize=function(){var t=this._plotRect;this._hLine&&this._vLine&&(this._hLine.style.width=t.width+"px",this._vLine.style.height=t.height+"px")},n.prototype._resetLinesVisibility=function(){this._hLine&&this._vLine&&(this._hide(this._hLine),this._hide(this._vLine),this._lines!==di.Horizontal&&this._lines!==di.Both||this._show(this._hLine),this._lines!==di.Vertical&&this._lines!==di.Both||this._show(this._vLine))},n.prototype._updateMarkerPosition=function(t){var e,i,r=this._plotRect,o=this._targetPoint,s=!1;this._plot&&(e=r.left+r.width*(this._horizontalPosition||0),i=r.top+r.height*(this._verticalPosition||0),null==this._horizontalPosition&&t?e=t.x:this._savedPosition.x>0&&(e=r.left+r.width*this._savedPosition.x),null==this._verticalPosition&&t?i=t.y:this._savedPosition.y>0&&(i=r.top+r.height*this._savedPosition.y),e===o.x&&i===o.y||(s=!0),o.x=e,o.y=i,this._savedPosition.x=Ne((e-r.left)/r.width,0,1),this._savedPosition.y=Ne((i-r.top)/r.height,0,1),this._toggleVisibility(),this._content&&this._updateContent(),s&&this._raisePositionChanged(e,i),this._updatePositionByAlignment(!!t))},n.prototype._updateContent=function(){var t,i=this._targetPoint,r=this._chart.hitTest(i);t=this._content.call(null,r,i),this._markerContent.innerHTML=t||""},n.prototype._raisePositionChanged=function(t,e){this.onPositionChanged(new T(t,e))},n.prototype._updatePositionByAlignment=function(t){var e=this._alignment,i=this._targetPoint,r=this._marker,o=0,s=0,a=r.clientWidth,l=r.clientHeight,u=this._plotRect;if(this._plot){var c=this._getTop();!this._capturedEle||this._capturedEle&&this._capturedEle!==this._markerContent?(e===zl.Auto?(i.x+a+12>u.left+u.width&&i.x-a>=0&&(s=a),o=l,i.y-l<c&&(o=0)):(1==(1&e)&&(s=a),2==(2&e)&&(o=l)),this._interaction===fi.Move&&0===o&&0===s&&null==this.verticalPosition&&(s=-12)):(parseInt(this._hLine.style.top)>0&&(o=l),parseInt(this._vLine.style.left)>0&&(s=a)),r.style.left=i.x-s-u.left+"px",r.style.top=i.y-o-c+"px",this._hLine.style.top=o+"px",this._hLine.style.left=u.left-i.x+s+"px",this._vLine.style.top=c-i.y+o+"px",this._vLine.style.left=s+"px"}},n.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new T(t.pageX,t.pageY):new T(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},n.prototype._pointInRect=function(t,e){return!(!t||!e)&&t.x>=e.left&&t.x<=e.left+e.width&&t.y>=e.top&&t.y<=e.top+e.height},n.prototype._getTop=function(){var t=0,e=this.chart._getHostComputedStyle();return e&&(t+=this.chart._parsePx(e.paddingTop),t+=this.chart._parsePx(e.borderTopWidth),t+=this.chart._parsePx(e.marginTop)),this._chart._plotRect.top+this._plot.getBoundingClientRect().top-t},n._CSS_MARKER="wj-chart-linemarker",n._CSS_MARKER_HLINE="wj-chart-linemarker-hline",n._CSS_MARKER_VLINE="wj-chart-linemarker-vline",n._CSS_MARKER_CONTENT="wj-chart-linemarker-content",n._CSS_MARKER_CONTAINER="wj-chart-linemarker-container",n._CSS_LINE_DRAGGABLE="wj-chart-linemarker-draggable",n._CSS_TOUCH_DISABLED="wj-flexchart-touch-disabled",n}(),io=function(){function n(){this._DEFAULT_WIDTH=2,this._DEFAULT_SYM_SIZE=10,this.clipping=!0}return n.prototype.clear=function(){this.seriesCount=0,this.seriesIndex=0},n.prototype._renderLabels=function(t,e,i,r,o){var s=i.length,a=r.dataLabel,u=a.offset;void 0===u&&(u=a.connectingLine?16:0),a.border&&(u-=2);for(var h=0;h<s;h++){var d=i[h],f=Pe(d.tag,On,!0);f&&!d.ignoreLabel&&this._renderLabel(t,d,f,r,a,e,u,o)}},n.prototype._renderLabel=function(t,e,i,r,o,s,a,l){var u=null==o.position?Qi.Top:o.position,c=o.border,h=o.connectingLine,d=new _r(r,p);d._setDataPoint(i);var f=r._getLabelContent(d,o.content),p=this._getLabelPoint(s,i);if(this._getPointAndPosition(p,u,e,r),r._plotRect.contains(p)){var g=new Zv(t,d,p,f);if(o.onRendering&&(o.onRendering(g)?(f=g.text,p=g.point):f=null),f){var m=this._renderLabelAndBorder(t,f,u,a,p,h,2,c);if(m){var _=new mr(m);_.tag=i,l.push(_)}}t.cssPriority=!0}},n.prototype._getPointAndPosition=function(t,e,i,r){if(i instanceof mr){var o=i;r._isRotated()?t.y=o.rect.top+.5*o.rect.height:t.x=o.rect.left+.5*o.rect.width}},n.prototype._getLabelPoint=function(t,e){var i=t._getAxisX(),r=t._getAxisY();return new T(i.convert(e.dataX),r.convert(e.dataY))},n.prototype._renderLabelAndBorder=function(t,e,i,r,o,s,a,l){var u,c="wj-data-label",h="wj-data-label-line",d=he._CSS_DATA_LABELS;switch(i){case Qi.Top:s&&t.drawLine(o.x,o.y,o.x,o.y-r,h),o.y-=a+r,u=he._renderText(t,e,o,1,2,c,d);break;case Qi.Bottom:s&&t.drawLine(o.x,o.y,o.x,o.y+r,h),o.y+=a+r,u=he._renderText(t,e,o,1,0,c,d);break;case Qi.Left:s&&t.drawLine(o.x,o.y,o.x-r,o.y,h),o.x-=a+r,u=he._renderText(t,e,o,2,1,c,d);break;case Qi.Right:s&&t.drawLine(o.x,o.y,o.x+r,o.y,h),o.x+=a+r,u=he._renderText(t,e,o,0,1,c,d);break;case Qi.Center:u=he._renderText(t,e,o,1,1,c,d)}return l&&u&&t.drawRect(u.left-a,u.top-a,u.width+2*a,u.height+2*a,"wj-data-label-border"),u},n.prototype.getOption=function(t,e){var i=this.chart._options;if(e&&(i=i?i[e]:null),i&&!fr(i[t])&&null!==i[t])return i[t]},n.prototype.getNumOption=function(t,e){var i=this.chart._options;if(e&&(i=i?i[e]:null),i&&i[t])return F(i[t],!0)},n.prototype.getItemFormatter=function(t){return t instanceof er&&t.itemFormatter?t.itemFormatter:this.chart.itemFormatter},n.cloneStyle=function(t,e){if(!t)return t;var i={};for(var r in t)e&&e.indexOf(r)>=0||(i[r]=t[r]);return i},n.prototype.isValid=function(t,e,i,r){return isFinite(t)&&isFinite(e)&&he._contains(this.chart._plotRect,new T(t,e))},n.prototype.load=function(){},n.prototype.unload=function(){},n.prototype._createSteps=function(t,e,i){var r=this.getOption("position","step"),o=i||t.length,s=[],a=[],l=this.chart._isRotated();if("center"==r)if(l)for(var u=0;u<o;u++){var c=0==u?e[u+1]-e[u]:e[u]-e[u-1],h=u==o-1?e[u]-e[u-1]:e[u+1]-e[u];s.push(t[u]),a.push(e[u]-.5*c),s.push(t[u]),a.push(e[u]+.5*h)}else for(u=0;u<o;u++){var f=u==o-1?t[u]-t[u-1]:t[u+1]-t[u];s.push(t[u]-.5*(0==u?t[u+1]-t[u]:t[u]-t[u-1])),a.push(e[u]),s.push(t[u]+.5*f),a.push(e[u])}else if("end"==r)for(u=0;u<o;u++)u>0&&(l?(s.push(t[u]),a.push(e[u-1])):(s.push(t[u-1]),a.push(e[u]))),s.push(t[u]),a.push(e[u]);else for(u=0;u<o;u++)s.push(t[u]),a.push(e[u]),u<o-1&&(l?(s.push(t[u]),a.push(e[u+1])):(s.push(t[u+1]),a.push(e[u])));return{x:s,y:a}},n}(),oT=function(n){function t(){var e=n.call(this)||this;return e.stacking=cn.None,e.isSpline=!1,e.isStep=!1,e.stackPos={},e.stackNeg={},e}return Rn(t,n),t.prototype.adjustLimits=function(e,i){this.dataInfo=e;for(var r=e.getMinX(),o=e.getMinY(),s=e.getMaxX(),a=e.getMaxY(),l=0;l<this.chart.series.length;l++){var u=this.chart.series[l];if(this._isRange(u)){var c=u._getChartType();if(!c||c==me.Area)for(var h=u._getBindingValues(1),d=0;d<h.length;d++)h[d]>a?a=h[d]:h[d]<o&&(o=h[d])}}if(this.isSpline){var f=.1*(a-o);this.chart.axisY._getLogBase()||(o-=f),a+=f}return this.rotated?new K(o,r,a-o,s-r):new K(r,o,s-r,a-o)},t.prototype.clear=function(){n.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},t.prototype.plotSeries=function(e,i,r,o,s,a,l,u){var c=o;if(this._isRange(c))this.plotSeriesRanged(e,i,r,o,s,a,l,u);else{var h=[],d=this.chart.series.indexOf(o),f=o.getValues(0),p=o.getValues(1);if(f){var g=f.length;if(g){p||(p=this.dataInfo.getXVals());var m=!0;p?p.length<g&&(g=p.length):(m=!1,p=new Array(g));var _=new Array,v=new Array,y=new Array,w=new Array,b=this.stacking!=cn.None&&!c._isCustomAxisY(),C=this.stacking==cn.Stacked100pc&&!c._isCustomAxisY();void 0!==c._getChartType()&&(b=C=!1);for(var I=this.rotated,M=!1,S=c.interpolateNulls,R=null,P=null,x=this.chart._plotRect,E=0;E<g;E++){var j=m?p[E]:E,ee=f[E];if((null===R||j>R)&&(R=j),(null===P||j<P)&&(P=j),ut.isValid(j,ee)){var L=I?r.convert(j):i.convert(j);if(b){C&&(ee/=this.dataInfo.getStackedAbsSum(j));var B=0;ee>=0?(B=isNaN(this.stackPos[j])?0:this.stackPos[j],ee=this.stackPos[j]=B+ee):(B=isNaN(this.stackNeg[j])?0:this.stackNeg[j],ee=this.stackNeg[j]=B+ee),I?(B<i.actualMin&&(B=i.actualMin),y.push(i.convert(B)),w.push(L)):(y.push(L),B<r.actualMin&&(B=r.actualMin),w.push(r.convert(B)))}if(I){var Q=i.convert(ee);isNaN(L)||isNaN(Q)?(M=!0,!b&&!0!==S&&(_.push(void 0),v.push(void 0))):(_.push(Q),v.push(L),he._contains(x,new T(Q,L))&&((re=new Io(new T(Q,L),this._DEFAULT_SYM_SIZE)).tag=new On(d,E,ee,j),this.hitTester.add(re,d)))}else if(Q=r.convert(ee),isNaN(L)||isNaN(Q))M=!0,!b&&!0!==S&&(_.push(void 0),v.push(void 0));else if(_.push(L),v.push(Q),he._contains(x,new T(L,Q))){var re;(re=new Io(new T(L,Q),this._DEFAULT_SYM_SIZE)).tag=new On(d,E,j,ee),this.hitTester.add(re,d)}}else M=!0,!b&&!0!==S&&(_.push(void 0),v.push(void 0))}u&&_.forEach(function(_t,Mt){null!=_t&&h.push(new T(_t,v[Mt]))});var oe=this._DEFAULT_WIDTH,te=s._getColorLight(d),fe=s._getColor(d),we=io.cloneStyle(o.style,["fill"]),Ue=io.cloneStyle(o.style,["stroke"]);if(!b&&!0!==S&&M){var pe=[],de=[];for(E=0;E<g;E++)void 0===_[E]?(pe.length>1&&(pe=(De=this._modifyPoints(pe,de)).x,de=De.y,e.stroke=fe,e.strokeWidth=oe,e.fill="none",e.drawLines(pe,de,null,we),this.hitTester.add(new Ji(pe,de),d),I?(pe.push(i.convert(i.actualMin),i.convert(i.actualMin)),de.push(r.convert(r.actualMax),r.convert(r.actualMin))):(pe.push(pe[pe.length-1],pe[0]),de.push(r.convert(r.actualMin),r.convert(r.actualMin))),e.fill=te,e.stroke="none",e.drawPolygon(pe,de,null,Ue,this.chart._plotrectId)),pe=[],de=[]):(pe.push(_[E]),de.push(v[E]));pe.length>1&&(pe=(De=this._modifyPoints(pe,de)).x,de=De.y,e.stroke=fe,e.strokeWidth=oe,e.fill="none",e.drawLines(pe,de,null,we),this.hitTester.add(new Ji(pe,de),d),I?(pe.push(i.convert(i.actualMin),i.convert(i.actualMin)),de.push(r.convert(r.actualMax),r.convert(r.actualMin))):(pe.push(pe[pe.length-1],pe[0]),de.push(r.convert(r.actualMin),r.convert(r.actualMin))),e.fill=te,e.stroke="none",e.drawPolygon(pe,de,null,Ue,this.chart._plotrectId))}else{var De;if(_=(De=this._modifyPoints(_,v)).x,v=De.y,b){var rt=this._modifyPoints(y,w);w=rt.y,_=_.concat((y=rt.x).reverse()),v=v.concat(w.reverse())}else I?(_.push(i.convert(i.actualMin),i.convert(i.actualMin)),v.push(v[v.length-1],v[0])):(_.push(_[_.length-1],_[0]),v.push(r.convert(r.actualMin),r.convert(r.actualMin)));e.fill=te,e.stroke="none",e.drawPolygon(_,v,null,Ue,this.chart._plotrectId),b?(_=_.slice(0,_.length-y.length),v=v.slice(0,v.length-w.length)):(_=_.slice(0,_.length-2),v=v.slice(0,v.length-2)),e.stroke=fe,e.strokeWidth=oe,e.fill="none",e.drawLines(_,v,null,we,this.chart._plotrectId),this.hitTester.add(new Ji(_,v),d)}this._drawSymbols(e,o,d),u&&h&&h.length&&u(h)}}}},t.prototype._isRange=function(e){var r=null==e.binding?null:e.binding.split(this.chart?this.chart._bindingSeparator:",");return null!=r&&2==r.length},t.prototype._modifyPoints=function(e,i){var r={x:e,y:i};if(this.isSpline){var o=this._convertToSpline(e,i);r.x=o.xs,r.y=o.ys}else if(this.isStep){var s=this._createSteps(e,i);r.x=s.x,r.y=s.y}return r},t.prototype.plotSeriesRanged=function(e,i,r,o,s,a,l,u){var c=[],h=this.chart.series.indexOf(o),d=o,f=o.getValues(0),p=o.getValues(1),g=d._getBindingValues(1);if(f){var m=f.length;if(m){p||(p=this.dataInfo.getXVals());var _=!0;p?p.length<m&&(m=p.length):(_=!1,p=new Array(m));for(var v=new Array,y=new Array,w=new Array,b=this.rotated,C=!1,I=d.interpolateNulls,M=this.chart._plotRect,S=0;S<m;S++){var R=_?p[S]:S,P=f[S],x=g[S];if(ut.isValid(R,P,x)){var E=b?r.convert(R):i.convert(R);if(b){var j=i.convert(P),ee=i.convert(x);isNaN(E)||isNaN(j)?(C=!0,!0!==I&&(v.push(void 0),y.push(void 0),w.push(void 0))):(v.push(j),y.push(E),w.push(ee),he._contains(M,new T(j,E))&&((L=new Io(new T(j,E),this._DEFAULT_SYM_SIZE)).tag=new On(h,S,P,R),this.hitTester.add(L,h)),he._contains(M,new T(ee,E))&&((L=new Io(new T(ee,E),this._DEFAULT_SYM_SIZE)).tag=new On(h,S,x,R),this.hitTester.add(L,h)))}else if(j=r.convert(P),ee=r.convert(x),isNaN(E)||isNaN(j))C=!0,!0!==I&&(v.push(void 0),y.push(void 0),w.push(void 0));else if(v.push(E),y.push(j),w.push(ee),he._contains(M,new T(E,j))&&((L=new Io(new T(E,j),this._DEFAULT_SYM_SIZE)).tag=new On(h,S,R,P),this.hitTester.add(L,h)),he._contains(M,new T(E,ee))){var L;(L=new Io(new T(E,ee),this._DEFAULT_SYM_SIZE)).tag=new On(h,S,R,x),this.hitTester.add(L,h)}}else C=!0,!0!==I&&(v.push(void 0),y.push(void 0),w.push(void 0))}u&&v.forEach(function(_t,Mt){null!=_t&&c.push(new T(_t,y[Mt]))});var B=this._DEFAULT_WIDTH,Q=s._getColorLight(h),re=s._getColor(h),oe=io.cloneStyle(o.style,["fill"]),te=io.cloneStyle(o.style,["stroke"]);if(!0!==I&&C){var fe=[],we=[],Ue=[];for(S=0;S<m;S++)if(void 0===v[S]){if(fe.length>1){var pe=b?Ue.slice(0).reverse():fe.slice(0).reverse(),de=b?we.slice(0).reverse():Ue.slice(0).reverse();this._drawRangedArea(e,fe,we,pe,de,Q,re,B,te,oe),this.hitTester.add(new Ji(fe,we),h),this.hitTester.add(new Ji(pe,de),h)}fe=[],we=[],Ue=[]}else fe.push(v[S]),we.push(y[S]),Ue.push(w[S]);fe.length>1&&(pe=b?Ue.slice(0).reverse():fe.slice(0).reverse(),de=b?we.slice(0).reverse():Ue.slice(0).reverse(),this._drawRangedArea(e,fe,we,pe,de,Q,re,B,te,oe),this.hitTester.add(new Ji(fe,we),h),this.hitTester.add(new Ji(pe,de),h))}else{var De=b?w.slice(0).reverse():v.slice(0).reverse(),rt=b?y.slice(0).reverse():w.slice(0).reverse();this._drawRangedArea(e,v,y,De,rt,Q,re,B,te,oe),this.hitTester.add(new Ji(v,y),h),this.hitTester.add(new Ji(De,rt),h)}this._drawSymbols(e,o,h),u&&c&&c.length&&u(c)}}},t.prototype._drawRangedArea=function(e,i,r,o,s,a,l,u,c,h){if(this.isSpline){var d=this._convertToSpline(i,r),f=this._convertToSpline(o,s);i=d.xs,r=d.ys,o=f.xs,s=f.ys}i=i.concat(o),r=r.concat(s),e.fill=a,e.stroke="none",e.drawPolygon(i,r,null,c),i=i.slice(0,i.length-o.length),r=r.slice(0,r.length-s.length),e.stroke=l,e.strokeWidth=u,e.fill="none",e.drawLines(i,r,null,h),e.drawLines(o,s,null,h)},t.prototype._convertToSpline=function(e,i){if(e&&i){var r=new Xv(e,i).calculate();return{xs:r.xs,ys:r.ys}}return{xs:e,ys:i}},t.prototype._drawSymbols=function(e,i,r){var o=this.getItemFormatter(i);if(null!=o){for(var s=this.hitTester._map[r],a=0;a<s.length;a++){var l=Tn(s[a],Io);if(l){var u=l.tag;e.startGroup();var c=new _r(this.chart,l.center,Et.SeriesSymbol);c._setDataPoint(u),o(e,c,function(){}),e.endGroup()}}e.cssPriority=!0}},t}(io),Sf=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.origin=0,e.width=.7,e.isVolume=!1,e._volHelper=null,e.stackPosMap={},e.stackNegMap={},e.stacking=cn.None,e}return Rn(t,n),t.prototype.clear=function(){n.prototype.clear.call(this),this.stackNegMap[this.chart.axisY._uniqueId]={},this.stackPosMap[this.chart.axisY._uniqueId]={},this._volHelper=null},t.prototype.load=function(){if(n.prototype.load.call(this),this.isVolume){var e,i,r,o,s,a,l,u,c=null,h=null;for(a=0;a<this.chart.series.length;a++){if(s=(e=this.chart.series[a]).getDataType(1)||e.chart._xDataType,i=e._getAxisX(),(r=null===(r=e._getChartType())||fr(r)?this.chart._getChartType():r)===me.Column){var f=e.binding.split(this.chart?this.chart._bindingSeparator:",").length-1;o=e._getBindingValues(f)}else o=r===me.Candlestick?e._getBindingValues(4):null;var p;if(s===ze.Date)for(l=[],u=[],a=0;a<e._getLength();a++)p=e._getItem(a)[e.bindingX].valueOf(),l.push(p),u.push({value:p,text:Se.format(new Date(p),i.format||"d")});else l=this.dataInfo.getXVals();if(c=this.dataInfo.getMinX(),h=this.dataInfo.getMaxX(),o&&o.length>0){this._volHelper=new Yv(o,l,c,h,s),i._customConvert=this._volHelper.convert.bind(this._volHelper),i._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),u&&u.length>0&&(this._itemsSource=i.itemsSource=u);break}}}},t.prototype.unload=function(){n.prototype.unload.call(this);for(var e,i=0;i<this.chart.series.length;i++)(e=this.chart.series[i]._getAxisX())&&(e._customConvert=null,e._customConvertBack=null,e.itemsSource&&e.itemsSource==this._itemsSource&&(this._itemsSource=e.itemsSource=null))},t.prototype.adjustLimits=function(e,i){this.dataInfo=e;var r=e.getMinX(),o=e.getMaxX(),s=e.getMinY(),a=e.getMaxY(),l=e.getDeltaX();l<=0&&(l=1);var u=!1;!this.isVolume||this.chart._getChartType()!==me.Column&&this.chart._getChartType()!==me.Candlestick?this.unload():this.load();for(var c=0;c<this.chart.series.length;c++){var h=this.chart.series[c],d=h._getChartType();((d=null===d||fr(d)?this.chart._getChartType():d)===me.Column||d===me.Bar)&&this._isRange(h)&&h._getBindingValues(1).forEach(function(f){f<s?s=f:f>a&&(a=f)}),u||"BoxWhisker"==h.constructor.name||(u=!0)}return this.rotated?(!this.chart.axisY._getLogBase()&&e.getDataTypeY()!==ze.Date&&u&&(this.origin>a?a=this.origin:this.origin<s&&(s=this.origin)),new K(s,r-.5*l,a-s,o-r+l)):(!this.chart.axisY._getLogBase()&&e.getDataTypeY()!==ze.Date&&u&&(this.origin>a?a=this.origin:this.origin<s&&(s=this.origin)),new K(r-.5*l,s,o-r+l,a-s))},t.prototype._isRange=function(e){var r=(null==e.binding?"":e.binding.split(this.chart?this.chart._bindingSeparator:",")).length-1;return this.isVolume?2===r:1===r},t.prototype.plotSeries=function(e,i,r,o,s,a,l,u){var c=[],h=this.chart.series.indexOf(o),d=Pe(o,er),f=this.chart._options,p=this.width,g=0;if(a=a||0,l=l||1,f&&f.groupWidth){var m=f.groupWidth;if(J(m)){var _=F(m);isFinite(_)&&_>0&&(g=_,p=1)}else if(xe(m)){var v=U(m);v&&v.indexOf("%")>=0?(v=v.replace("%",""),_=parseFloat(v),isFinite(_)&&(_<0?_=0:_>100&&(_=100),g=0,p=_/100)):(_=parseFloat(v),isFinite(_)&&_>0&&(g=_,p=1))}}var y=p/l,w=d._getAxisY()._uniqueId,b=this.stackNegMap[w],C=this.stackPosMap[w],I=o.getValues(0),M=o.getValues(1),S=this._isRange(d),R=d._bindValues(null==d._cv?null==this.chart.collectionView?null:this.chart.collectionView.items:d._cv.items,d._getBinding(1)).values;if(I){if(M||(M=this.dataInfo.getXVals()),M){var P=this.dataInfo.getDeltaX();P>0&&(p*=P,y*=P)}var x=d._getSymbolFill(h),E=d._getAltSymbolFill(h)||x,j=d._getSymbolStroke(h),ee=d._getAltSymbolStroke(h)||j,L=I.length;null!=M&&(L=Math.min(L,M.length));var Q,re=this.origin,oe=0,te=this.stacking!=cn.None,fe=this.stacking==cn.Stacked100pc;void 0!==d._getChartType()&&(te=fe=!1);var we=this.getItemFormatter(o),Ue=i._actualMin,pe=i._actualMax,de=r._actualMin,De=r._actualMax;if(this.rotated)for(re<Ue?re=Ue:re>pe&&(re=pe),d._isCustomAxisY()&&(te=fe=!1),Fn=i.convert(re),_e=0;_e<L;_e++)if(Re=M?M[_e]:_e,Nt=I[_e],Sn=Fn,this._getSymbolOrigin&&(Sn=r.convert(this._getSymbolOrigin(re,_e))),S&&R&&R.length&&ut.isValid(Vr=R[_e])&&(Sn=i.convert(Vr)),this._getSymbolStyles&&(x=(Gt=this._getSymbolStyles(_e))&&Gt.fill?Gt.fill:x,E=Gt&&Gt.fill?Gt.fill:E,j=Gt&&Gt.stroke?Gt.fill:j,ee=Gt&&Gt.stroke?Gt.fill:ee),Q=Nt>0?j:ee,e.fill=Nt>0?x:E,e.stroke=Q,ut.isValid(Re,Nt))if(te){if(et=Re+.5*p,(Ut=Re-.5*p)<de&&et<de||Ut>De&&et>De||(Ut=r.convert(Math.max(Ut,de)),et=r.convert(Math.min(et,De)),fe&&(Nt/=this.dataInfo.getStackedAbsSum(Re)),sn=0,Nt>=0?(sn=isNaN(C[Re])?0:C[Re],bn=i.convert(sn),pn=i.convert(sn+Nt),C[Re]=sn+Nt):(sn=isNaN(b[Re])?0:b[Re],bn=i.convert(sn),pn=i.convert(sn+Nt),b[Re]=sn+Nt),u&&c.push(new T(pn,r.convert(Re))),!ut.isValid(bn,pn)))continue;if(an=new K(Math.min(bn,pn),Math.min(Ut,et),Math.abs(pn-bn),Math.abs(et-Ut)),g>0){(Li=1-g/an.height)<0&&(Li=0);var rt=an.top+.5*an.height;an.top+=(rt-an.top)*Li,an.height=Math.min(g,an.height)}ir=new mr(an),this.drawSymbol(e,an,o,_e,new T(pn,an.top+.5*an.height),we),o._setPointIndex(_e,oe),oe++,Ql=fe?Math.min(sn+Nt,1):sn+Nt,ir.tag=new On(h,_e,Ql,Re),this.hitTester.add(ir,h)}else{if(et=Re-.5*p+(a+1)*y,(Ut=Re-.5*p+a*y)<de&&et<de||Ut>De&&et>De)continue;Ut=r.convert(Math.max(Ut,de)),et=r.convert(Math.min(et,De));var _t=i.convert(Nt);if(!ut.isValid(_t,Ut,et))continue;var Mt=new K(Math.min(_t,Sn),Math.min(Ut,et),Math.abs(Sn-_t),Math.abs(et-Ut));u&&c.push(new T(_t,(Ut+et)/2)),g>0&&((Li=1-(Ls=g/l)/Mt.height)<0&&(Li=0),rt=r.convert(Re),Mt.top+=(rt-Mt.top)*Li,Mt.height=Math.min(Ls,Mt.height)),ir=new mr(Mt),this.drawSymbol(e,Mt,o,_e,new T(_t,Mt.top+.5*Mt.height),we),o._setPointIndex(_e,oe),oe++,ir.tag=new On(h,_e,Nt,Re),this.hitTester.add(ir,h)}else u&&c.push(null);else{re<de?re=de:re>De&&(re=De);var Fn=r.convert(re);d._isCustomAxisY()&&(te=fe=!1);for(var _e=0;_e<L;_e++){var Gt,Sn=Fn,Re=M?M[_e]:_e,Nt=I[_e];if(this._getSymbolOrigin&&(Sn=r.convert(this._getSymbolOrigin(re,_e,L))),S&&R&&R.length){var Vr=R[_e];ut.isValid(Vr)&&(Sn=r.convert(Vr))}if(this._getSymbolStyles&&(x=(Gt=this._getSymbolStyles(_e,L))&&Gt.fill?Gt.fill:x,E=Gt&&Gt.fill?Gt.fill:E,j=Gt&&Gt.stroke?Gt.stroke:j,ee=Gt&&Gt.stroke?Gt.stroke:ee),Q=Nt>0?j:ee,e.fill=Nt>0?x:E,e.stroke=Q,e.strokeWidth=null,ut.isValid(Re,Nt))if(te){var Ut,et,pn=Re+.5*p;if((bn=Re-.5*p)<Ue&&pn<Ue||bn>pe&&pn>pe||(bn=i.convert(bn),pn=i.convert(pn),!ut.isValid(bn,pn)))continue;fe&&(Nt/=this.dataInfo.getStackedAbsSum(Re));var sn=0;if(Nt>=0?(sn=isNaN(C[Re])?0:C[Re],Ut=r.convert(Math.max(sn,de)),et=r.convert(Math.max(sn+Nt,de)),C[Re]=sn+Nt):(sn=isNaN(b[Re])?0:b[Re],Ut=r.convert(sn),et=r.convert(sn+Nt),b[Re]=sn+Nt),u&&c.push(new T(i.convert(Re),et)),!ut.isValid(Ut,et))continue;var an=new K(Math.min(bn,pn),Math.min(Ut,et),Math.abs(pn-bn),Math.abs(et-Ut));if(g>0){(Li=1-g/an.width)<0&&(Li=0);var Ln=an.left+.5*an.width;an.left+=(Ln-an.left)*Li,an.width=Math.min(g,an.width)}var ir=new mr(an);this.drawSymbol(e,an,o,_e,new T(an.left+.5*an.width,et),we),o._setPointIndex(_e,oe),oe++;var Ql=fe?Math.min(sn+Nt,1):sn+Nt;ir.tag=new On(h,_e,Re,Ql),this.hitTester.add(ir,h)}else{var bn;if(pn=Re-.5*p+(a+1)*y,(bn=Re-.5*p+a*y)<Ue&&pn<Ue||bn>pe&&pn>pe)continue;bn=i.convert(bn),pn=i.convert(pn);var ma=r.convert(Nt);if(!ut.isValid(ma,bn,pn))continue;var Ls,Li,Hr=new K(Math.min(bn,pn),Math.min(ma,Sn),Math.abs(pn-bn),Math.abs(Sn-ma));u&&c.push(new T((bn+pn)/2,ma)),g>0&&((Li=1-(Ls=g/l)/Hr.width)<0&&(Li=0),Ln=i.convert(Re),Hr.left+=(Ln-Hr.left)*Li,Hr.width=Math.min(Ls,Hr.width)),ir=new mr(Hr),this.drawSymbol(e,Hr,o,_e,new T(Hr.left+.5*Hr.width,ma),we),o._setPointIndex(_e,oe),oe++,ir.tag=new On(h,_e,Re,Nt),this.hitTester.add(ir,h)}else u&&c.push(null)}}u&&c&&c.length&&u(c)}},t.prototype.drawSymbol=function(e,i,r,o,s,a){var l=this;if(a){e.startGroup();var u=new _r(this.chart,s,Et.SeriesSymbol);u._setData(r,o),a(e,u,function(){l.drawDefaultSymbol(e,i,r)}),e.cssPriority=!0,e.endGroup()}else this.drawDefaultSymbol(e,i,r)},t.prototype.drawDefaultSymbol=function(e,i,r){e.drawRect(i.left,i.top,i.width,i.height,null,r.symbolStyle)},t}(io),sT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.stacking=cn.None,e}return Rn(t,n),t.prototype.adjustLimits=function(e,i){this.dataInfo=e;var r=e.getMinX(),o=e.getMinY(),s=e.getMaxX(),a=e.getMaxY();return new K(r,o,s-r,a-o)},t.prototype.plotSeries=function(e,i,r,o,s,a,l,u){var c=this.chart.series.indexOf(o);if(!(c>0)){var h,d,f,p,g,m=Pe(o,er),_=this.chart._options,v=o.getValues(0),y=o.getValues(1),w=this.chart._plotRect,b=_&&_.funnel&&null!=_.funnel.neckWidth?_.funnel.neckWidth:.2,C=_&&_.funnel&&null!=_.funnel.neckHeight?_.funnel.neckHeight:0,I=b*w.width,M=0,S=0,R=0,P=0,x=w.left,E=w.top,j=w.width,ee=w.height;if(v){this.rotated&&(E+=w.height),I=I||1,y||(y=this.dataInfo.getXVals());var L=v.length;null!=y&&(L=Math.min(L,y.length));var B=0;for(M=0;M<L;M++)ut.isValid(v[M])&&(S+=v[M],v[M]>B&&(B=v[M]));var re,oe=0;if(_&&_.funnel&&"rectangle"===_.funnel.type&&B>0){C=ee/L,b=j;var te=j/B;for(M=0;M<L;M++){var fe=y?y[M]:M,we=v[M],Ue=m._getSymbolFill(M),pe=m._getAltSymbolFill(M)||Ue,de=m._getSymbolStroke(M),De=m._getAltSymbolStroke(M)||de;if(this._getSymbolStyles&&(Ue=(_e=this._getSymbolStyles(M,L))&&_e.fill?_e.fill:Ue,pe=_e&&_e.fill?_e.fill:pe,de=_e&&_e.stroke?_e.stroke:de,De=_e&&_e.stroke?_e.stroke:De),re=we>0?de:De,e.fill=we>0?Ue:pe,e.stroke=re,ut.isValid(fe)&&ut.isValid(we)){te||(te=j/we);var rt=te*we;this.rotated&&(E-=C),e.drawRect(x+=(b-rt)/2,E,rt,C),_t=new ha(new T(x,E),rt,C,rt,C),this.rotated||(E+=C),b=rt,_t.tag=new On(c,M,fe,we),this.hitTester.add(_t,c),o._setPointIndex(M,oe),oe++}}}else for(R=w.left+w.width*(1-b)/2,P=w.top+w.height*(this.rotated?C:1-C),d=(1-b)*w.width/2/(w.height*(1-C)),(isNaN(d)||!isFinite(d))&&(j=I,x=R,E=P),h=w.width*b*w.height+w.width*(1-b)/2*w.height*(1-C),M=0;M<L;M++){fe=y?y[M]:M,we=v[M];var _t,_e,Mt=[],Fn=[];if(Ue=m._getSymbolFill(M),pe=m._getAltSymbolFill(M)||Ue,de=m._getSymbolStroke(M),De=m._getAltSymbolStroke(M)||de,this._getSymbolStyles&&(Ue=(_e=this._getSymbolStyles(M,L))&&_e.fill?_e.fill:Ue,pe=_e&&_e.fill?_e.fill:pe,de=_e&&_e.stroke?_e.stroke:de,De=_e&&_e.stroke?_e.stroke:De),re=we>0?de:De,e.fill=we>0?Ue:pe,e.stroke=re,ut.isValid(fe)&&ut.isValid(we)){var Sn=h*we/S;j>I?(p=this._getTrapezoidOffsetY(j,Sn,d),this.rotated?E-p>P?(Mt=[x,x+(f=d*p),x+j-f,x+j],Fn=[E,E-p,E-p,E],_t=new ha(new T(x,E-p),j,p,j-2*f,0,!0),j-=2*f,x+=f,E-=p):(f=d*(p=E-P),g=(Sn-=this._getTrapezoidArea(j,d,p))/I,Mt.push(x,x+f,x+f,x+f+I,x+f+I,x+j),Fn.push(E,E-p,E-p-g,E-p-g,E-p,E),_t=new ha(new T(x,E-p-g),j,p+g,I,g,!0),j=I,x+=f,E=E-p-g):E+p<P?(Mt=[x,x+(f=d*p),x+j-f,x+j],Fn=[E,E+p,E+p,E],_t=new ha(new T(x,E),j,p,j-2*f,0),j-=2*f,x+=f,E+=p):(f=d*(p=P-E),g=(Sn-=this._getTrapezoidArea(j,d,p))/I,Mt.push(x,x+f,x+f,x+f+I,x+f+I,x+j),Fn.push(E,E+p,E+p+g,E+p+g,E+p,E),_t=new ha(new T(x,E),j,p+g,I,g),j=I,x+=f,E=E+p+g),e.drawPolygon(Mt,Fn)):(g=Sn/I,this.rotated&&(E-=g),e.drawRect(x,E,j,g),_t=new ha(new T(x,E),I,g,I,g),this.rotated||(E+=g)),_t.tag=new On(c,M,fe,we),this.hitTester.add(_t,c),o._setPointIndex(M,oe),oe++}}}}},t.prototype._getTrapezoidArea=function(e,i,r){var o=r*i;return o*r+(e-2*o)*r},t.prototype._getTrapezoidOffsetY=function(e,i,r){var o=Math.pow(e/2/r,2)-i/r;return e/2/r-Math.sqrt(o>=0?o:0)},t.prototype.drawDefaultSymbol=function(e,i,r){e.drawRect(i.left,i.top,i.width,i.height,null,r.symbolStyle)},t.prototype._getPointAndPosition=function(e,i,r,o){var s=r;e.x=s.center.x,e.y=s.center.y,i=i??Qi.Center},t}(io),ha=function(){function n(t,e,i,r,o,s){void 0===s&&(s=!1),this._startPoint=t,this._width=e,this._height=i,this._neckWidth=r,this._neckHeight=o,this._center=new T(this._startPoint.x+e/2,this._startPoint.y+i/2),this._offsetX=(e-r)/2,this._offsetY=i-o,this._rotated=s}return n.prototype.contains=function(t){var e=this._startPoint,i=this._offsetX,r=this._offsetY;if(this._rotated){if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y<e.y+this._neckHeight)return!1;if(t.x<this._center.x)return(e.y+this._height-t.y)/(t.x-e.x)<r/i;if(t.x>this._center.x)return(e.y+this._height-t.y)/(e.x+this._width-t.x)<r/i}}else if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y>e.y+r)return!1;if(t.x<this._center.x)return(t.y-e.y)/(t.x-e.x)<r/i;if(t.x>this._center.x)return(t.y-e.y)/(e.x+this._width-t.x)<r/i}return!1},n.prototype.distance=function(t){if(this.contains(t))return 0;var e=this._startPoint,i=this._width,r=this._height,o=this._offsetX,s=this._offsetY;if(this._rotated){if(t.y>e.y+r)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y+r-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y+r-t.y,2)):t.y-e.y-r;if(t.y<e.y)return t.x<e.x+o?Math.sqrt(Math.pow(e.x+o-t.x,2)+Math.pow(t.y-e.y-r,2)):t.x>e.x+i-o?Math.sqrt(Math.pow(t.x-e.x-i+o,2)+Math.pow(t.y-e.y-r,2)):e.y-t.y;if(!(t.y<e.y+r-s))return t.x<e.x+o?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y-r,2)),Math.sqrt(Math.pow(t.x-o/2-e.x,2)+Math.pow(t.y-r+s/2-e.y,2)),Math.sqrt(Math.pow(t.x-o-e.x,2)+Math.pow(t.y-r+s-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-r-e.y,2)),Math.sqrt(Math.pow(t.x-i+o/2-e.x,2)+Math.pow(t.y-r+s/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+o-e.x,2)+Math.pow(t.y-r+s-e.y,2)));if(t.x<e.x+o)return e.x+o-t.x;if(t.x>e.x+i-o)return t.x-e.x-i+o}else{if(t.y<e.y)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y-t.y,2)):e.y-t.y;if(t.y>e.y+r)return t.x<e.x+o?Math.sqrt(Math.pow(e.x+o-t.x,2)+Math.pow(t.y-e.y-r,2)):t.x>e.x+i-o?Math.sqrt(Math.pow(t.x-e.x-i+o,2)+Math.pow(t.y-e.y-r,2)):t.y-e.y-r;if(!(t.y>e.y+s))return t.x<e.x+o?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-o/2-e.x,2)+Math.pow(t.y-s/2-e.y,2)),Math.sqrt(Math.pow(t.x-o-e.x,2)+Math.pow(t.y-s-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-i+o/2-e.x,2)+Math.pow(t.y-s/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+o-e.x,2)+Math.pow(t.y-s-e.y,2)));if(t.x<e.x+o)return e.x+o-t.x;if(t.x>e.x+i-o)return t.x-e.x-i+o}},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n}(),aT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.isCandle=!0,e.isArms=!1,e.isEqui=!1,e.isVolume=!1,e._volHelper=null,e._symWidth=.7,e}return Rn(t,n),t.prototype.clear=function(){n.prototype.clear.call(this),this._volHelper=null},t.prototype.load=function(){if(n.prototype.load.call(this),this.isVolume){var e,i,r,o,s,a,l,u,c=null,h=null;for(a=0;a<this.chart.series.length;a++){var d;if(s=(e=this.chart.series[a]).getDataType(1)||e.chart._xDataType,i=e._getAxisX(),o=(r=null===(r=e._getChartType())||fr(r)?this.chart._getChartType():r)===me.Column?e._getBindingValues(1):r===me.Candlestick?e._getBindingValues(4):null,s===ze.Date)for(l=[],u=[],a=0;a<e._getLength();a++)d=e._getItem(a)[e.bindingX].valueOf(),l.push(d),u.push({value:d,text:Se.format(new Date(d),i.format||"d")});else l=this.dataInfo.getXVals();if(c=this.dataInfo.getMinX(),h=this.dataInfo.getMaxX(),o&&o.length>0){this._volHelper=new Yv(o,l,c,h,s),i._customConvert=this._volHelper.convert.bind(this._volHelper),i._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),u&&u.length>0&&(this._itemsSource=i.itemsSource=u);break}}}},t.prototype.unload=function(){n.prototype.unload.call(this);for(var e,i=0;i<this.chart.series.length;i++)(e=this.chart.series[i]._getAxisX())&&(e._customConvert=null,e._customConvertBack=null,e.itemsSource&&e.itemsSource==this._itemsSource&&(this._itemsSource=e.itemsSource=null))},t.prototype.parseSymbolWidth=function(e){if(this._isPixel=void 0,e)if(J(e)){var i=F(e);isFinite(i)&&i>0&&(this._symWidth=i,this._isPixel=!0)}else if(xe(e)){var r=U(e);if(r&&r.indexOf("%")>=0){r=r.replace("%","");var o=parseFloat(r);isFinite(o)&&(o<0?o=0:o>100&&(o=100),this._symWidth=o/100,this._isPixel=!1)}else o=parseFloat(e),isFinite(o)&&o>0&&(this._symWidth=o,this._isPixel=!0)}},t.prototype.adjustLimits=function(e,i){this.dataInfo=e;var r=e.getMinX(),o=e.getMinY(),s=e.getMaxX(),a=e.getMaxY(),l=e.getDeltaX(),u=this.chart._xDataType;l<=0&&(l=1);var c=this.chart.series,h=c.length,d=0;this.parseSymbolWidth(this.symbolWidth),!this.isVolume||this.chart._getChartType()!==me.Column&&this.chart._getChartType()!==me.Candlestick?this.unload():this.load();for(var f=0;f<h;f++){var p=c[f];if(!p._isCustomAxisY()){var g=p._getBinding(1),m=p._getBinding(2),_=p._getBinding(3),v=p._getLength();if(v){var y=p._getSymbolSize();y>d&&(d=y);for(var w=0;w<v;w++){var b=p._getItem(w);b&&[g?b[g]:null,m?b[m]:null,_?b[_]:null].forEach(function(S){ut.isValid(S)&&null!==S&&((isNaN(o)||S<o)&&(o=S),(isNaN(a)||S>a)&&(a=S))})}}}}var C=s-r,I=this.chart._plotRect;if(I&&I.width&&!this.isVolume){isNaN(y)&&(y=p._getSymbolSize());var M=I.width/(I.width-(y+=2))*C;r-=.5*(M-C),C=M}return!(u===ze.Date&&this.isVolume||u===ze.Number)||this.chart._getChartType()!==me.Column&&this.chart._getChartType()!==me.Candlestick?this.chart._isRotated()?new K(o,r,a-o,C):new K(r,o,C,a-o):new K(r-.5*l,o,s-r+l,a-o)},t.prototype.plotSeries=function(e,i,r,o,s,a,l,u){var c=this,h=Pe(o,er),d=this.chart.series.indexOf(o),f=o.getValues(0),p=o.getValues(1),g=this._symWidth,m=this.chart._isRotated();if(f){if(p||(p=this.dataInfo.getXVals()),p){var _=this.dataInfo.getDeltaX();_>0&&!1===this._isPixel&&(g*=_)}var v=f.length,y=!0;p?v=Math.min(v,p.length):(y=!1,p=new Array(v));var w=this._DEFAULT_WIDTH,b=h._getSymbolFill(d),C=h._getAltSymbolFill(d)||"transparent",I=h._getSymbolStroke(d),M=h._getAltSymbolStroke(d)||I,S=void 0===this._isPixel?h._getSymbolSize():g;e.stroke=I,e.strokeWidth=w,e.fill=b;for(var R,P,x=h._getBinding(1),E=h._getBinding(2),j=h._getBinding(3),ee=m?r.actualMin:i.actualMin,L=m?r.actualMax:i.actualMax,B=0,Q=null,re=null,oe=this.getItemFormatter(o),te=0;te<v;te++)if(Q=h._getItem(te)){var fe=y?p[te]:te;if(ut.isValid(fe)&&ee<=fe&&fe<=L){var we=f[te],Ue=x?Q[x]:null,pe=E?Q[E]:null,de=j?Q[j]:null;if(e.startGroup(),this.isEqui&&null!==re?re[j]!==Q[j]&&(R=re[j]<Q[j]?C:b,P=re[j]<Q[j]?M:I):(R=pe<de?C:b,P=pe<de?M:I),e.fill=R,e.stroke=P,e.strokeWidth=w,oe){var De=new _r(this.chart,new T(i.convert(fe),r.convert(we)),Et.SeriesSymbol);De._setData(h,te),oe(e,De,function(){c._drawSymbol(e,i,r,d,te,R,S,fe,we,Ue,pe,de)}),e.cssPriority=!0}else this._drawSymbol(e,i,r,d,te,R,S,fe,we,Ue,pe,de);e.endGroup(),o._setPointIndex(te,B),B++}re=Q}}},t.prototype._drawSymbol=function(e,i,r,o,s,a,l,u,c,h,d,f){var p,g=null,m=null,_=null,v=null,y=this.chart._isRotated(),w=y?new On(o,s,c,u):new On(o,s,u,c);if(y){var b=r;r=i,i=b}if(!1===this._isPixel&&(_=i.convert(u-.5*l))>(v=i.convert(u+.5*l))){var C=_;_=v,v=C}u=i.convert(u),!1!==this._isPixel&&(_=u-.5*l,v=u+.5*l),this.isCandle?(ut.isValid(d)&&ut.isValid(f)&&(d=r.convert(d),f=r.convert(f),m=(g=Math.min(d,f))+Math.abs(d-f),y?(e.drawRect(g,_,m-g||1,v-_||1),p=new mr(new K(g,_,m-g||1,v-_||1))):(e.drawRect(_,g,v-_||1,m-g||1),p=new mr(new K(_,g,v-_||1,m-g||1))),p.tag=w,this.hitTester.add(p,o)),ut.isValid(c)&&(c=r.convert(c),null!==g&&(y?(e.drawLine(m,u,c,u),p.rect.width=p.rect.width+c):(e.drawLine(u,g,u,c),p.rect.top=c,p.rect.height=p.rect.height+c))),ut.isValid(h)&&(h=r.convert(h),null!==m&&(y?(e.drawLine(g,u,h,u),p.rect.left=h,p.rect.width=p.rect.width+h):(e.drawLine(u,m,u,h),p.rect.height=p.rect.height+h)))):this.isEqui?ut.isValid(c)&&ut.isValid(h)&&(c=r.convert(c),h=r.convert(h),m=(g=Math.min(c,h))+Math.abs(c-h),e.drawRect(_,g,v-_||1,m-g||1),(p=new mr(new K(_,g,v-_||1,m-g||1))).tag=w,this.hitTester.add(p,o)):this.isArms?(ut.isValid(d)&&ut.isValid(f)&&(d=r.convert(d),f=r.convert(f),m=(g=Math.min(d,f))+Math.abs(d-f),e.drawRect(_,g,v-_||1,m-g||1)),ut.isValid(c)&&null!==g&&(c=r.convert(c),e.drawLine(u,g,u,c)),ut.isValid(h)&&null!==m&&(h=r.convert(h),e.drawLine(u,m,u,h)),ut.isValid(c)&&ut.isValid(h)&&(e.fill="transparent",m=(g=Math.min(c,h))+Math.abs(c-h),e.drawRect(_,g,v-_||1,m-g||1),(p=new mr(new K(_,g,v-_||1,m-g||1))).tag=w,this.hitTester.add(p,o))):(ut.isValid(c)&&ut.isValid(h)&&(c=r.convert(c),h=r.convert(h),m=(g=Math.min(c,h))+Math.abs(c-h),y?(e.drawLine(h,u,c,u),p=new mr(new K(g,_,m-g||1,v-_||1))):(e.drawLine(u,h,u,c),p=new mr(new K(_,g,v-_||1,m-g||1))),p.tag=w,this.hitTester.add(p,o)),ut.isValid(d)&&(d=r.convert(d),y?e.drawLine(d,_,d,u):e.drawLine(_,d,u,d)),ut.isValid(f)&&(f=r.convert(f),y?e.drawLine(f,u,f,v):e.drawLine(u,f,v,f)))},t}(io),iy=function(n){function t(){var e=n.call(this)||this;return e.hasSymbols=!1,e.hasLines=!0,e.isSpline=!1,e.isStep=!1,e.hitTestSymbols=!0,e.stacking=cn.None,e.stackPos={},e.stackNeg={},e.clipping=!1,e}return Rn(t,n),t.prototype.clear=function(){n.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},t.prototype.adjustLimits=function(e,i){this.dataInfo=e;var r=e.getMinX(),o=e.getMinY(),s=e.getMaxX(),a=e.getMaxY();if(this.isSpline&&!this.chart.axisY._getLogBase()){var l=.1*(a-o);o-=l,a+=l}return this.rotated?new K(o,r,a-o,s-r):new K(r,o,s-r,a-o)},t.prototype.plotSeries=function(e,i,r,o,s,a,l,u){var c=[],h=Pe(o,er),d=this.chart.series.indexOf(o),f=o.getValues(0),p=o.getValues(1);if(f){p||(p=this.dataInfo.getXVals());var g=io.cloneStyle(o.style,["fill"]),m=f.length,_=!0;p?m=Math.min(m,p.length):(_=!1,p=new Array(m));var v=this._DEFAULT_WIDTH,y=h._getSymbolFill(d),w=h._getAltSymbolFill(d)||y,b=h._getSymbolStroke(d),C=h._getAltSymbolStroke(d)||b,I=h._getSymbolSize();e.stroke=b,e.strokeWidth=v,e.fill=y;var M=new Float64Array(m),S=new Float64Array(m),R=0,P=new Int8Array(m),x=0,E=this.rotated,j=this.stacking!=cn.None&&!h._isCustomAxisY(),ee=this.stacking==cn.Stacked100pc&&!h._isCustomAxisY();void 0!==h._getChartType()&&(j=ee=!1);for(var L=h.interpolateNulls,B=!1,Q=this.getItemFormatter(o),re=0;re<m;re++){var oe=_?p[re]:re,te=f[re];if(isFinite(oe)&&isFinite(te)){if(j)if(ee&&(te/=this.dataInfo.getStackedAbsSum(oe)),te>=0){var fe=isNaN(this.stackPos[oe])?0:this.stackPos[oe];te=this.stackPos[oe]=fe+te}else fe=isNaN(this.stackNeg[oe])?0:this.stackNeg[oe],te=this.stackNeg[oe]=fe+te;var we;if(E){we=new On(d,re,te,oe);var Ue=i.convert(te);te=r.convert(oe),oe=Ue}else we=new On(d,re,oe,te),oe=i.convert(oe),te=r.convert(te);if(isNaN(oe)||isNaN(te))B=!0,!0!==L&&(M[R]=NaN,S[R++]=NaN),P[x++]=1,u&&c.push(null);else if(M[R]=oe,S[R++]=te,x++,u&&c.push(new T(oe,te)),this.hitTestSymbols){var pe=new Io(new T(oe,te),.5*I);pe.tag=we,this.hitTester.add(pe,d)}}else B=!0,!0!==L&&(M[R]=NaN,S[R++]=NaN),P[x++]=1,u&&c.push(null)}var de=0;if(this.hasLines)if(e.fill=null,B&&!0!==L){var De=[],rt=[];for(re=0;re<m;re++)isNaN(M[re])?(De.length>1&&(this._drawLines(e,De,rt,null,g,this.chart._plotrectId),this.hitTester.add(new Ji(De,rt),d),de++),De=[],rt=[]):(De.push(M[re]),rt.push(S[re]));De.length>1&&(this._drawLines(e,De,rt,null,g,this.chart._plotrectId),this.hitTester.add(new Ji(De,rt),d),de++)}else this._drawLines(e,M,S,null,g,this.chart._plotrectId,R),this.hitTester.add(new Ji(M,S),d),de++;if(this.hasSymbols&&I>0||Q){e.fill=y;var _t=0;for(re=0;re<m;re++)(!L||!P[re])&&(oe=M[_t],te=S[_t],(!1===this.hasLines||Q)&&(e.fill=f[re]>0?y:w,e.stroke=f[re]>0?b:C,e.strokeWidth=v),this.isValid(oe,te,i,r)&&(this._drawSymbol(e,oe,te,I,h,re,Q),o._setPointIndex(re,de),de++),_t++)}u&&c&&c.length&&u(c)}},t.prototype._drawLines=function(e,i,r,o,s,a,l){if(this.isSpline&&l>3)e.drawSplines(i,r,o,s,a,l);else if(this.isStep){var u=this._createSteps(i,r,l);e.drawLines(i=u.x,r=u.y,o,s,a)}else e.drawLines(i,r,o,s,a,l)},t.prototype._drawSymbol=function(e,i,r,o,s,a,l){var u=this;if(l){e.startGroup();var c=new _r(this.chart,new T(i,r),Et.SeriesSymbol);c._setData(s,a),l(e,c,function(){u.hasSymbols&&o>0&&u._drawDefaultSymbol(e,i,r,o,s.symbolMarker,s.symbolStyle)}),e.cssPriority=!0,e.endGroup()}else this._drawDefaultSymbol(e,i,r,o,s.symbolMarker,s.symbolStyle)},t.prototype._drawDefaultSymbol=function(e,i,r,o,s,a){s==ns.Dot?e.drawEllipse(i,r,.5*o,.5*o,null,a):s==ns.Box&&e.drawRect(i-.5*o,r-.5*o,o,o,null,a)},t}(io),lT=function(n){function t(){var e=n.call(this)||this;return e._MIN_SIZE=5,e._MAX_SIZE=30,e.hasLines=!1,e.hasSymbols=!0,e.clipping=!0,e.hitTestSymbols=!1,e}return Rn(t,n),t.prototype.adjustLimits=function(e,i){var r=this.getNumOption("minSize","bubble");this._minSize=r||this._MIN_SIZE;var o=this.getNumOption("maxSize","bubble");this._maxSize=o||this._MAX_SIZE;for(var s=this.chart.series,a=s.length,l=NaN,u=NaN,c=0;c<a;c++)if(((v=s[c])._getChartType()==me.Bubble||null==v._getChartType()&&v._chart._getChartType()==me.Bubble)&&(y=v._getBindingValues(1)))for(var h=y.length,d=0;d<h;d++)isFinite(y[d])&&((isNaN(l)||y[d]<l)&&(l=y[d]),(isNaN(u)||y[d]>u)&&(u=y[d]));this._minValue=l,this._maxValue=u;var f=n.prototype.adjustLimits.call(this,e,i),p=i.left,g=i.right,m=i.top,_=i.bottom;for(c=0;c<a;c++){var v;if((v=s[c])._getChartType()==me.Bubble||null==v._getChartType()&&v._chart._getChartType()==me.Bubble){var y=v._getBindingValues(1),w=v.getValues(1),b=v.getValues(0);if(y&&w&&b){var C=y.length;for(d=0;d<C;d++){var I=w?w[d]:d,M=b[d],S=y[d];ut.isValid(I,M,S)&&((I=i.left+i.width*(I-f.left)/f.width)-(S=this._minSize+(this._maxSize-this._minSize)*(S-l)/(u-l))<p&&(p=I-S),I+S>g&&(g=I+S),(M=i.top+i.height*(M-f.top)/f.height)-S<m&&(m=M-S),M+S>_&&(_=M+S))}}}}p=i.left-p+5,g=g-i.right+5,m=i.top-m+5,_=_-i.bottom+5;var P=this.chart.axisY;if(!this.chart.axisX._isLogAxis())if(this.stacking==cn.Stacked100pc&&this.rotated){var x=(i.width-this._maxSize)/f.width;f.left-=.5*this._maxSize/x,f.width+=this._maxSize/x}else f.left-=p/(x=(i.width-(p+g))/f.width),f.width+=(p+g)/x;if(!P._isLogAxis())if(this.stacking!=cn.Stacked100pc||this.rotated)f.top-=m/(E=(i.height-(m+_))/f.height),f.height+=(m+_)/E;else{var E=(i.height-this._maxSize)/f.height;f.top-=.5*this._maxSize/E,f.height+=this._maxSize/E}return f},t.prototype._drawSymbol=function(e,i,r,o,s,a,l){var u=this;if(null==this._minSize){var c=this.getNumOption("minSize","bubble");this._minSize=c||this._MIN_SIZE}if(null==this._maxSize){var h=this.getNumOption("maxSize","bubble");this._maxSize=h||this._MAX_SIZE}var d=s._getItem(a);if(d){var f=s._getBinding(1);if(f&&(o=d[f],isFinite(o))){null==o&&(o=this._minValue);var p=this._minValue==this._maxValue?1:Math.sqrt((o-this._minValue)/(this._maxValue-this._minValue));if(o=this._minSize+(this._maxSize-this._minSize)*p,l){var g=new _r(this.chart,new T(i,r),Et.SeriesSymbol);g._setData(s,a),e.startGroup(),l(e,g,function(){u._drawDefaultSymbol(e,i,r,o,s.symbolMarker,s.symbolStyle)}),e.endGroup()}else this._drawDefaultSymbol(e,i,r,o,s.symbolMarker,s.symbolStyle);var m=s.getValues(1);m||(m=this.dataInfo.getXVals());var _=m?m[a]:a,v=s.getValues(0)[a],y=this.chart.series.indexOf(s),w=new Io(new T(i,r),.5*o);w.tag=new On(y,a,_,v),this.hitTester.add(w,y)}}},t}(iy);Ms("wijmo.chart",qf);var ry=["*"],Mo=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),To=function(n,t,e,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ve=function(n,t){return function(e,i){t(e,i,n)}},uT={selector:"wj-flex-chart",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","renderEngine","isDisabled","tabOrder","binding","footer","header","selectionMode","palette","plotMargin","footerStyle","headerStyle","tooltipContent","itemsSource","bindingX","interpolateNulls","legendToggle","symbolSize","options","selection","itemFormatter","labelContent","chartType","rotated","stacking"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","renderingNg: rendering","renderedNg: rendered","selectionChangedNg: selectionChanged","selectionChangePC: selectionChange","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","seriesVisibilityChangedNg: seriesVisibilityChanged"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]},cT=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},Object.defineProperty(t.prototype,"tooltipContent",{get:function(){return this.tooltip.content},set:function(i){this.tooltip.content=i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelContent",{get:function(){return this.dataLabel.content},set:function(i){this.dataLabel.content=i},enumerable:!0,configurable:!0}),t.meta={outputs:uT.outputs,changeEvents:{selectionChanged:["selection"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-chart"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",renderEngine:"renderEngine",isDisabled:"isDisabled",tabOrder:"tabOrder",binding:"binding",footer:"footer",header:"header",selectionMode:"selectionMode",palette:"palette",plotMargin:"plotMargin",footerStyle:"footerStyle",headerStyle:"headerStyle",tooltipContent:"tooltipContent",itemsSource:"itemsSource",bindingX:"bindingX",interpolateNulls:"interpolateNulls",legendToggle:"legendToggle",symbolSize:"symbolSize",options:"options",selection:"selection",itemFormatter:"itemFormatter",labelContent:"labelContent",chartType:"chartType",rotated:"rotated",stacking:"stacking"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",renderingNg:"rendering",renderedNg:"rendered",selectionChangedNg:"selectionChanged",selectionChangePC:"selectionChange",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",seriesVisibilityChangedNg:"seriesVisibilityChanged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(uT.providers))],ngContentSelectors:ry,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(X1),{selector:"wj-flex-pie",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","tabOrder","binding","footer","header","selectionMode","palette","plotMargin","footerStyle","headerStyle","tooltipContent","itemsSource","bindingName","innerRadius","isAnimated","offset","reversed","startAngle","selectedIndex","selectedItemPosition","selectedItemOffset","itemFormatter","labelContent","titles","chartsPerLine","innerText","innerTextStyle"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","renderingNg: rendering","renderedNg: rendered","selectionChangedNg: selectionChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),oy=function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;return Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},Object.defineProperty(t.prototype,"tooltipContent",{get:function(){return this.tooltip.content},set:function(i){this.tooltip.content=i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelContent",{get:function(){return this.dataLabel.content},set:function(i){this.dataLabel.content=i},enumerable:!0,configurable:!0}),t.meta={outputs:cT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-pie"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",binding:"binding",footer:"footer",header:"header",selectionMode:"selectionMode",palette:"palette",plotMargin:"plotMargin",footerStyle:"footerStyle",headerStyle:"headerStyle",tooltipContent:"tooltipContent",itemsSource:"itemsSource",bindingName:"bindingName",innerRadius:"innerRadius",isAnimated:"isAnimated",offset:"offset",reversed:"reversed",startAngle:"startAngle",selectedIndex:"selectedIndex",selectedItemPosition:"selectedItemPosition",selectedItemOffset:"selectedItemOffset",itemFormatter:"itemFormatter",labelContent:"labelContent",titles:"titles",chartsPerLine:"chartsPerLine",innerText:"innerText",innerTextStyle:"innerTextStyle"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",renderingNg:"rendering",renderedNg:"rendered",selectionChangedNg:"selectionChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(cT.providers))],ngContentSelectors:ry,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(nT),hT={selector:"wj-flex-chart-axis",template:"",inputs:["wjProperty","axisLine","format","labels","majorGrid","majorTickMarks","majorUnit","max","min","position","reversed","title","labelAngle","minorGrid","minorTickMarks","minorUnit","origin","logBase","plotArea","labelAlign","name","overlappingLabels","labelPadding","itemFormatter","itemsSource","binding","labelMin","labelMax","groupsOptions"],outputs:["initialized","rangeChangedNg: rangeChanged"],providers:[]},dT=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="axes",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:hT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-chart-axis"]],inputs:{wjProperty:"wjProperty",axisLine:"axisLine",format:"format",labels:"labels",majorGrid:"majorGrid",majorTickMarks:"majorTickMarks",majorUnit:"majorUnit",max:"max",min:"min",position:"position",reversed:"reversed",title:"title",labelAngle:"labelAngle",minorGrid:"minorGrid",minorTickMarks:"minorTickMarks",minorUnit:"minorUnit",origin:"origin",logBase:"logBase",plotArea:"plotArea",labelAlign:"labelAlign",name:"name",overlappingLabels:"overlappingLabels",labelPadding:"labelPadding",itemFormatter:"itemFormatter",itemsSource:"itemsSource",binding:"binding",labelMin:"labelMin",labelMax:"labelMax",groupsOptions:"groupsOptions"},outputs:{initialized:"initialized",rangeChangedNg:"rangeChanged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(hT.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(ts),{selector:"wj-flex-chart-legend",template:"",inputs:["wjProperty","orientation","position","title","titleAlign","maxSize","scrollbar"],outputs:["initialized"],providers:[]}),fT=function(n){function t(i,r,o){var s=n.call(this,o)||this;return s.isInitialized=!1,s.wjProperty="legend",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;return Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:dT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-chart-legend"]],inputs:{wjProperty:"wjProperty",orientation:"orientation",position:"position",title:"title",titleAlign:"titleAlign",maxSize:"maxSize",scrollbar:"scrollbar"},outputs:{initialized:"initialized"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(dT.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(Vl),pT={selector:"wj-flex-chart-data-label",template:"",inputs:["wjProperty","content","border","offset","connectingLine","position"],outputs:["initialized","renderingNg: rendering"],providers:[]},gT=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="dataLabel",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:pT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-chart-data-label"]],inputs:{wjProperty:"wjProperty",content:"content",border:"border",offset:"offset",connectingLine:"connectingLine",position:"position"},outputs:{initialized:"initialized",renderingNg:"rendering"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(pT.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(Df),{selector:"wj-flex-pie-data-label",template:"",inputs:["wjProperty","content","border","offset","connectingLine","position"],outputs:["initialized","renderingNg: rendering"],providers:[]}),mT=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="dataLabel",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:gT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-pie-data-label"]],inputs:{wjProperty:"wjProperty",content:"content",border:"border",offset:"offset",connectingLine:"connectingLine",position:"position"},outputs:{initialized:"initialized",renderingNg:"rendering"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(gT.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(Jv),{selector:"wj-flex-chart-series",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","axisX","axisY","binding","bindingX","cssClass","name","style","altStyle","symbolMarker","symbolSize","symbolStyle","visibility","itemsSource","interpolateNulls","tooltipContent","itemFormatter","chartType"],outputs:["initialized","renderingNg: rendering","renderedNg: rendered","visibilityChangePC: visibilityChange"],providers:[]}),_T=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="series",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:mT.outputs,changeEvents:{"chart.seriesVisibilityChanged":["visibility"]},siblingId:"series"},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-chart-series"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",axisX:"axisX",axisY:"axisY",binding:"binding",bindingX:"bindingX",cssClass:"cssClass",name:"name",style:"style",altStyle:"altStyle",symbolMarker:"symbolMarker",symbolSize:"symbolSize",symbolStyle:"symbolStyle",visibility:"visibility",itemsSource:"itemsSource",interpolateNulls:"interpolateNulls",tooltipContent:"tooltipContent",itemFormatter:"itemFormatter",chartType:"chartType"},outputs:{initialized:"initialized",renderingNg:"rendering",renderedNg:"rendered",visibilityChangePC:"visibilityChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(mT.providers))],ngContentSelectors:ry,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(kr),{selector:"wj-flex-line-marker",template:"",inputs:["wjProperty","isVisible","seriesIndex","horizontalPosition","content","verticalPosition","alignment","lines","interaction","dragLines","dragThreshold","dragContent"],outputs:["initialized","positionChangedNg: positionChanged"],providers:[]}),vT=(function(n){function t(i,r,o){var s=n.call(this,o)||this;return s.isInitialized=!1,s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:_T.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-line-marker"]],inputs:{wjProperty:"wjProperty",isVisible:"isVisible",seriesIndex:"seriesIndex",horizontalPosition:"horizontalPosition",content:"content",verticalPosition:"verticalPosition",alignment:"alignment",lines:"lines",interaction:"interaction",dragLines:"dragLines",dragThreshold:"dragThreshold",dragContent:"dragContent"},outputs:{initialized:"initialized",positionChangedNg:"positionChanged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(_T.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(rT),{selector:"wj-flex-chart-data-point",template:"",inputs:["wjProperty","x","y"],outputs:["initialized"],providers:[]}),yT=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:vT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-chart-data-point"]],inputs:{wjProperty:"wjProperty",x:"x",y:"y"},outputs:{initialized:"initialized"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(vT.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}($1),{selector:"wj-flex-chart-plot-area",template:"",inputs:["wjProperty","column","height","name","row","style","width"],outputs:["initialized"],providers:[]}),D8=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="plotAreas",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Mo(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:yT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-chart-plot-area"]],inputs:{wjProperty:"wjProperty",column:"column",height:"height",name:"name",row:"row",style:"style",width:"width"},outputs:{initialized:"initialized"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(yT.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=To([,Ve(0,O(W)),Ve(1,O(q)),Ve(2,O("WjComponent")),Ve(2,Le()),Ve(2,Ee())],t)}(bf),function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Hi({type:n}),n.\u0275inj=Di({imports:[ea]}),n}());const S8=function(){return["rgba(50, 50, 255, 1)","rgb(0, 200, 200, 1)"]};let E8=(()=>{class n{constructor(e){this.dataService=e,this.sessionTooltip="Top Emitting Sectors breakdown.",this.totalEmission=0,this.franceRecommendation=[{sector:"Transportation",rec:"Promote EV"},{sector:"Building",rec:"Renewable Energy Integration"},{sector:"Agriculture",rec:"Precision Agriculture"}],this.indiaRecommendation=[{sector:"Electricity/Heat",rec:"Invest heavily in solar, wind, geothermal, and hydropower"},{sector:"Agriculture",rec:"Agroforestry"},{sector:"Manufacturing/Construction",rec:"Energy Efficiency Improvements"}],this.russiaRecommendation=[{sector:"Electricity/Heat",rec:"Invest heavily in solar, wind, geothermal, and hydropower"},{sector:"Fugitive Emissions",rec:"Research and Innovation"},{sector:"Transportation",rec:"Fuel Efficiency Standards"}],this.australiaRecommendation=[{sector:"Electricity/Heat",rec:"Enhance Energy Efficiency and Conservation"},{sector:"Agriculture",rec:"Agroforestry"},{sector:"Transportation",rec:"Establish Cycling/Walking Infrastructure"}],this.canadaRecommendation=[{sector:"Transportation",rec:"Promote EV"},{sector:"Electricity/Heat",rec:"Invest heavily in solar, wind, geothermal, and hydropower"},{sector:"Land Use Change and Forestry",rec:"Reforestation and Afforestation"}],this.usRecommendation=[{sector:"Electricity/Heat",rec:"Enhance Energy Efficiency and Conservation"},{sector:"Transportation",rec:"Fuel Efficiency Standards"},{sector:"Building",rec:"Energy-Efficient Building Codes"}],this.brazilRecommendation=[{sector:"Agriculture",rec:"Sustainable Farming Practices"},{sector:"Land Use Change and Forestry",rec:"Reforestation and Afforestation"},{sector:"Transportation",rec:"Promote EV"}],this.data=e.getSessionData()}ngOnInit(){}ngOnChanges(e){this.sectorData=this.dataService.getSectorWiseInfo(this.selectedCountryName),this.recommendationData="France"===this.selectedCountryName?this.franceRecommendation:"India"===this.selectedCountryName?this.indiaRecommendation:"Russia"===this.selectedCountryName?this.russiaRecommendation:"Australia"===this.selectedCountryName?this.australiaRecommendation:"Canada"===this.selectedCountryName?this.canadaRecommendation:"United States"===this.selectedCountryName?this.usRecommendation:"Brazil"===this.selectedCountryName?this.brazilRecommendation:this.franceRecommendation,this.computeTotalEmission(this.sectorData)}computeTotalEmission(e){this.totalEmission=0,this.top3sectors=0,this.remainingSectors=0;for(var i=0;i<e.length;i++)this.totalEmission+=e[i].predictedValue;for(i=0;i<this.recommendationData.length;i++){const o=e.find(s=>s.sectors===this.recommendationData[i].sector);this.top3sectors+=o.predictedValue}this.totalEmission=Math.round(100*this.totalEmission)/100,console.log("k",this.totalEmission),this.remainingSectors=this.totalEmission-this.top3sectors,this.data[0].number=this.top3sectors,this.data[1].number=this.remainingSectors,this.data=[...this.data]}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ac))};static#t=this.\u0275cmp=Oe({type:n,selectors:[["app-overall-info"]],inputs:{selectedCountryName:"selectedCountryName"},features:[oi],decls:35,vars:16,consts:[[1,"sessions-container"],[1,"sessions-info"],[1,"session-header"],[1,"bi","bi-info-circle",3,"wjTooltip","wjTooltipPosition"],[1,"session-total"],[1,"session-total-value"],[1,"session-total-annotation"],[1,"session-chart",2,"margin-left","auto","margin-right","auto",3,"itemsSource","bindingName","binding","innerRadius","palette"],[3,"position"],[1,"sessions-info","sessions-breakdown"],[2,"display","flex","justify-content","space-between"]],template:function(i,r){1&i&&(ue(0,"div",0)(1,"div",1)(2,"div",2),bt(3,"Top Emitting Sectors "),lt(4,"i",3),le()(),ue(5,"div",1)(6,"div",4)(7,"div",5),bt(8),le(),ue(9,"div",6),bt(10," MtCO2e in Total "),le()(),ue(11,"wj-flex-pie",7),lt(12,"wj-flex-chart-legend",8),le()(),ue(13,"div",9)(14,"div",10)(15,"div")(16,"b"),bt(17),le()()(),ue(18,"div",10)(19,"div"),bt(20),le()(),lt(21,"hr"),ue(22,"div")(23,"b"),bt(24),le()(),ue(25,"div",10)(26,"div"),bt(27),le()(),lt(28,"hr"),ue(29,"div")(30,"b"),bt(31),le()(),ue(32,"div",10)(33,"div"),bt(34),le()()()()),2&i&&(dt(4),kt("wjTooltip",r.sessionTooltip)("wjTooltipPosition",6),dt(4),Ir(" ",r.totalEmission," "),dt(3),kt("itemsSource",r.data)("bindingName","sessions")("binding","number")("innerRadius",.85)("palette",kD(15,S8)),dt(1),kt("position","None"),dt(5),Ir("1. ",r.recommendationData[0].sector,""),dt(3),Ir("Recommendation - ",r.recommendationData[0].rec," "),dt(4),Ir("2. ",r.recommendationData[1].sector,""),dt(3),Ir("Recommendation - ",r.recommendationData[1].rec," "),dt(4),Ir("3. ",r.recommendationData[2].sector,""),dt(3),Ir("Recommendation - ",r.recommendationData[2].rec," "))},dependencies:[Pc,oy,fT],styles:[".sessions-container[_ngcontent-%COMP%]{padding:1rem}.session-header[_ngcontent-%COMP%]{font-size:1.05em;color:gray}.sessions-info[_ngcontent-%COMP%]{position:relative}.session-chart[_ngcontent-%COMP%]{border:none;height:200px;width:200px}.session-total[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.session-total-value[_ngcontent-%COMP%]{font-size:2em}.session-total-annotation[_ngcontent-%COMP%]{font-size:1em;font-weight:600;color:gray}.sessions-breakdown[_ngcontent-%COMP%]{color:gray}.session-value-bg[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:1.75rem}.session-value-sm[_ngcontent-%COMP%]{padding-top:.75em}.positive[_ngcontent-%COMP%]{color:green}"]})}return n})();function I8(n,t){1&n&&(ue(0,"div"),lt(1,"img",6),le())}function M8(n,t){1&n&&(ue(0,"div"),lt(1,"img",7),le())}function T8(n,t){1&n&&(ue(0,"div"),lt(1,"img",8),le())}function P8(n,t){1&n&&(ue(0,"div"),lt(1,"img",9),le())}function A8(n,t){1&n&&(ue(0,"div"),lt(1,"img",10),le())}function R8(n,t){1&n&&(ue(0,"div"),lt(1,"img",11),le())}function O8(n,t){1&n&&(ue(0,"div"),lt(1,"img",12),le())}let N8=(()=>{class n{constructor(e){this.dataService=e,this.sessionData=[],this.platformTooltip="Breakdown of country by sectors.",this.palette=Ll.darkly}ngOnChanges(e){this.sessionData=this.dataService.getPlatformSessionData(this.selectedCountryName)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ac))};static#t=this.\u0275cmp=Oe({type:n,selectors:[["app-top-emission-info"]],inputs:{selectedCountryName:"selectedCountryName"},features:[oi],decls:14,vars:15,consts:[[1,"platforms-container"],[1,"platforms-header"],[1,"bi","bi-info-circle",3,"wjTooltip","wjTooltipPosition"],[1,"platforms-info"],[4,"ngIf"],[3,"header","bindingName","binding","itemsSource","palette"],["src","/assets/france_prediction_graph.jpeg","alt","Prediction graph",2,"height","400px","width","500px"],["src","/assets/india_prediction_graph.jpeg","alt","Prediction graph",2,"height","400px","width","500px"],["src","/assets/russia_prediction_graph.jpeg","alt","Prediction graph",2,"height","400px","width","500px"],["src","/assets/australia_prediction_graph.jpeg","alt","Prediction graph",2,"height","400px","width","500px"],["src","/assets/canada_prediction_graph.jpeg","alt","Prediction graph",2,"height","400px","width","500px"],["src","/assets/us_prediction_graph.jpeg","alt","Prediction graph",2,"height","400px","width","500px"],["src","/assets/brazil_prediction_graph.jpeg","alt","Prediction graph",2,"height","400px","width","500px"]],template:function(i,r){1&i&&(ue(0,"div",0)(1,"div",1),bt(2),lt(3,"i",2),le(),lt(4,"br"),ue(5,"div",3),hr(6,I8,2,0,"div",4),hr(7,M8,2,0,"div",4),hr(8,T8,2,0,"div",4),hr(9,P8,2,0,"div",4),hr(10,A8,2,0,"div",4),hr(11,R8,2,0,"div",4),hr(12,O8,2,0,"div",4),lt(13,"wj-flex-pie",5),le()()),2&i&&(dt(2),Ir("Prediction for the Selected Country : ",r.selectedCountryName,""),dt(1),kt("wjTooltip",r.platformTooltip)("wjTooltipPosition",6),dt(3),kt("ngIf","France"===r.selectedCountryName),dt(1),kt("ngIf","India"===r.selectedCountryName),dt(1),kt("ngIf","Russia"===r.selectedCountryName),dt(1),kt("ngIf","Australia"===r.selectedCountryName),dt(1),kt("ngIf","Canada"===r.selectedCountryName),dt(1),kt("ngIf","United States"===r.selectedCountryName),dt(1),kt("ngIf","Brazil"===r.selectedCountryName),dt(1),kt("header","Sector-wise split-up")("bindingName","sector")("binding","value")("itemsSource",r.sessionData)("palette",r.palette))},dependencies:[y_,Pc,oy],styles:[".platforms-container[_ngcontent-%COMP%]{padding:1rem}.platforms-header[_ngcontent-%COMP%]{font-size:1.05em;color:gray}.platforms-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.wj-flexchart[_ngcontent-%COMP%]{height:400px;border:none;width:50%}@media (max-width: 499px){.platforms-info[_ngcontent-%COMP%]{flex-direction:column}.wj-flexchart[_ngcontent-%COMP%]{width:100%}}"]})}return n})();var Fc=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wT=function(){function n(){}return Object.defineProperty(n.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"geoPoint",{get:function(){return this._map?this._map.convertBack(this.point):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),n}(),j8=function(){},bT=function(n){function t(e){var i=n.call(this,e)||this;return i.scale=1,i.element.setAttribute("xmlns:wj-map","http://developer.mescius.com/wijmo"),i}return Fc(t,n),t.prototype.drawPolygon2=function(e,i){var r=e?e.className:null,o=e?e.clipPath:null,s=e?e.style:null,a=this.precision;if(i&&i.length>0){var l=document.createElementNS("http://www.w3.org/2000/svg","path");this._applyColor(l,"stroke",this.stroke);var u=this.strokeWidth;null!==u&&(pt()&&(u*=this.scale),this._setAttribute(l,"stroke-width",u.toString())),this._applyColor(l,"fill",this.fill);for(var c="",h=0;h<i.length;h++){var d=i[h],f=d.length/2;if(f>1){c+=" M "+d[0].toFixed(a)+" "+d[1].toFixed(a);for(var p=1;p<f;p++)c+=" L "+d[2*p].toFixed(a)+" "+d[2*p+1].toFixed(a);c+=" Z"}}return this._setAttribute(l,"d",c),r&&l.setAttribute("class",r),o&&this._setClipPath(l,o),this._applyStyle(l,s),this._appendChild(l),l.setAttribute("vector-effect","non-scaling-stroke"),l}return null},t}(U1),CT=function(){function n(t,e){this.min=t,this.max=e}return Object.defineProperty(n.prototype,"range",{get:function(){return this.max-this.min},enumerable:!0,configurable:!0}),n.prototype.norm=function(t){return(t-this.min)/this.range},n}(),Ef=function(){function n(){}return n.getRange=function(t,e){if(t&&e){for(var i=t.length,r=NaN,o=NaN,s=0;s<i;s++){var a=t[s];if(a){var l=void 0;xe(l=Ge(e)?e(a):e.getValue(a))&&(l=parseFloat(l)),isFinite(l)&&((isNaN(r)||l<r)&&(r=l),(isNaN(o)||l>o)&&(o=l))}}if(!isNaN(r)&&!isNaN(o))return new CT(r,o)}return null},n}(),xT=function(){function n(t){this._clrs=[],this._clrUnknown="transparent",this.colors=Ll.SequentialSingle.Greys,this.initialize(t)}return n.prototype.initialize=function(t){vi(this,t)},n.prototype.convert=function(t,e){return void 0===e&&(e=!0),isFinite(t)&&0!=this._clrs.length?(this._range&&e&&(t=this._range.norm(t)),this.scale&&(t=this.scale(t)),2==this._clrs.length?this._interpolate(this._clrs[0],this._clrs[1],t):this._clrSpline.interpolate(t).toString()):this.colorUnknown},Object.defineProperty(n.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale!=t&&(this._scale=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binding",{get:function(){return this._binding},set:function(t){this._binding!=t&&(this._binding=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorUnknown",{get:function(){return this._clrUnknown},set:function(t){this._clrUnknown!=t&&(this._clrUnknown=U(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colors",{get:function(){return this._colors},set:function(t){if(this._colors!=t){this._clrs=[];var e=this._colors=t;if(e){for(var i=0;i<e.length;i++)this._clrs.push(new wn(e[i]));this._clrSpline=new k8(this._clrs)}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=U(t,!0))},enumerable:!0,configurable:!0}),n.prototype.domain=function(t){this._range=Ge(this.binding)?Ef.getRange(t,this.binding):Ef.getRange(t,new At(this.binding))},n.prototype.getValue=function(t){return Ge(this.binding)?this.binding(t):new At(this.binding).getValue(t)},n.prototype._interpolate=function(t,e,i){var r=1-(i=Ne(i,0,1));return wn.fromRgba(t.r*r+e.r*i,t.g*r+e.g*i,t.b*r+e.b*i,t.a*r+e.a*i).toString()},n.prototype._drawLegend=function(t,e,i){DT.draw(t,this,e,i)},n.prototype._measureLegend=function(t,e,i,r){return DT.measure(t,this,e,i,r)},n}(),DT=function(){function n(){}return n.measure=function(t,e,i,r,o){var s=i?new Ke(this.itemSize,o-120):new Ke(r-80,this.itemSize),a=this._getValues(e),l=a.length;if(a.length){for(var u=new Ke,c=0;c<l;c++){var h=this._getLabel(e,a[c]),d=t.measureString(h);u.width=Math.max(u.width,d.width),u.height=Math.max(u.height,d.height)}u.width&&u.height&&(i?s.width+=u.width+this.marginText:s.height+=u.height+this.marginText)}return s},n.draw=function(t,e,i,r){t.stroke="transparent";var o=this._getValues(e);if(r){for(var s=(i=i.inflate(0,-10)).height/100,a=0;a<100;a++)t.fill=e.convert((a+.5)/100,!1),t.drawRect(i.left,i.top+a*s,this.itemSize,s+1);if(o.length)for(t.stroke="black",a=0;a<o.length;a++){var l=o[a],u=e._range.norm(l),c=i.top+u*i.height,h=this._getLabel(e,l),d=t.measureString(h);t.drawString(h,new T(i.left+this.itemSize+this.marginText,c+.5*d.height)),t.drawLine(i.left,c,i.left+this.itemSize,c)}}else{var f=(i=i.inflate(-20,0)).width/100;if(s=0,o.length)for(a=0;a<o.length;a++){u=e._range.norm(l=o[a]),e.scale&&(u=e.scale(u));var p=i.left+u*i.width;h=this._getLabel(e,l),d=t.measureString(h),s=Math.max(s,d.height),t.drawString(this._getLabel(e,l),new T(p-.5*d.width,i.top+d.height))}for(s&&(s+=this.marginText),a=0;a<100;a++)t.fill=e.convert((a+.5)/100,!1),t.drawRect(i.left+a*f,i.top+s,f+1,this.itemSize);if(o.length)for(t.stroke="black",a=0;a<o.length;a++)u=e._range.norm(l=o[a]),e.scale&&(u=e.scale(u)),t.drawLine(p=i.left+u*i.width,i.bottom-this.itemSize,p,i.bottom)}},n._getValues=function(t){var e=[],i=t._range;if(i)for(var r=this._calcDelta(i.range),o=Math.round(i.min/r)*r;o<=i.max;o+=r)o<i.min||e.push(o);return e},n._getLabel=function(t,e){return t.format?Se.formatNumber(e,t.format):e.toString()},n._calcDelta=function(t){var e=this._nicePrecision(t),i=t/10,r=this._niceNumber(2*i,-e,!0);return r<i&&(r=this._niceNumber(i,1-e,!1)),r<i&&(r=this._niceTickNumber(i)),r},n._nicePrecision=function(t){if(!J(t)||t<=0)return 0;var e,i=Math.log(t)/Math.LN10;e=i>=0?Math.floor(i):Math.ceil(i);var r=t/Math.pow(10,e);return r<3&&(e=1-e,(r=t/Math.pow(10,e))<3&&(e+=1)),e},n._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,i=Math.floor(e),r=t/Math.pow(10,i),o=10;return r<=1?o=1:r<=2?o=2:r<=5&&(o=5),o*Math.pow(10,i)},n._niceNumber=function(t,e,i){if(0==t)return t;t<0&&(t=-t);var r=t/Math.pow(10,e),o=10;return i?r<1.5?o=1:r<3?o=2:r<4.5?o=4:r<7&&(o=5):r<=1?o=1:r<=2?o=2:r<=5&&(o=5),o*Math.pow(10,e)},n.itemSize=20,n.marginText=4,n}(),k8=function(){function n(t){this._clrs=t;for(var e=t.length,i=[],r=[],o=[],s=[],a=0;a<e;a++){var l=t[a];i.push(a/(e-1)),r.push(l.r),o.push(l.g),s.push(l.b)}this._rsp=new sy(i,r),this._gsp=new sy(i,o),this._bsp=new sy(i,s)}return n.prototype.interpolate=function(t){t=Ne(t,0,1);var e=this._rsp.calculate(t),i=this._gsp.calculate(t),r=this._bsp.calculate(t);return wn.fromRgba(e,i,r)},n}(),sy=function(){function n(t,e,i){this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]],this._x=t,this._y=e;var r=this._len=i||Math.min(t.length,e.length);if(r>3)for(var o=0;o<r-1;o++){var s=0==o?new T(t[o],e[o]):new T(t[o-1],e[o-1]),a=new T(t[o],e[o]),l=new T(t[o+1],e[o+1]),u=o==r-2?new T(t[o+1],e[o+1]):new T(t[o+2],e[o+2]),c=new T,h=new T,d=new T,f=new T;c.x=s.x*this.m[0][0]+a.x*this.m[0][1]+l.x*this.m[0][2]+u.x*this.m[0][3],h.x=s.x*this.m[1][0]+a.x*this.m[1][1]+l.x*this.m[1][2]+u.x*this.m[1][3],d.x=s.x*this.m[2][0]+a.x*this.m[2][1]+l.x*this.m[2][2]+u.x*this.m[2][3],f.x=s.x*this.m[3][0]+a.x*this.m[3][1]+l.x*this.m[3][2]+u.x*this.m[3][3],c.y=s.y*this.m[0][0]+a.y*this.m[0][1]+l.y*this.m[0][2]+u.y*this.m[0][3],h.y=s.y*this.m[1][0]+a.y*this.m[1][1]+l.y*this.m[1][2]+u.y*this.m[1][3],d.y=s.y*this.m[2][0]+a.y*this.m[2][1]+l.y*this.m[2][2]+u.y*this.m[2][3],f.y=s.y*this.m[3][0]+a.y*this.m[3][1]+l.y*this.m[3][2]+u.y*this.m[3][3],this._a.push(c),this._b.push(h),this._c.push(d),this._d.push(f)}}return n.prototype.calculate=function(t){t*=this._len-1;var e=Math.floor(t);e<0&&(e=0),e>this._len-2&&(e=this._len-2);var i=t-e;return((this._a[e].y*i+this._b[e].y)*i+this._c[e].y)*i+this._d[e].y},n}(),ST=function(n){function t(e,i){var r=n.call(this,e,null,!0)||this;r._layers=new ei,r._center=new T,r._zoom=1,r._zoomStep=.5,r._offset=new T,r._proj=new F8,r._touchStartH=r._touchStart.bind(r),r._touchMoveH=r._touchMove.bind(r),r._touchEndH=r._touchEnd.bind(r),r._touchCancelH=r._touchCancel.bind(r),r._mouseWheelH=r._mouseWheel.bind(r),r._handleTouch=!1;var o=r.hostElement;r.applyTemplate("wj-control wj-flexchart wj-flexmap",null,null),r._currentRenderEngine=new bT(o);var s=Ct("<div></div>",null,{position:"relative"});r._overlay=Ct("<div></div>",s,{position:"absolute",left:"90%",bottom:"90%"}),Ct('<button class="wj-btn"><span class="wj-glyph-plus"></span></button>',r._overlay).addEventListener("click",function(){return r.zoom+=r._zoomStep}),Ct('<button class="wj-btn"><span class="wj-glyph-minus"></span></button>',r._overlay).addEventListener("click",function(){return r.zoom-=r._zoomStep}),Me(o,"wj-flexchart-touch-disabled"),o.appendChild(s),r._legend=new Vl(r),r._legend.position=Z.None,r._tooltip=new xf,r.tooltip.content=null;var a=r;return r.layers.collectionChanged.addHandler(function(){r.layers.forEach(function(l){return l.map=a}),r.invalidate()}),r.addEventListener(o,"click",function(l){if(!a.isDisabled){var u=a._tooltip;u.content&&a.isTouching&&a._updateTooltip(u,l)}}),r.addEventListener(o,"mousedown",function(l){!a.isDisabled&&0==l.button&&(r.focus(),r._dragStart=new T(l.pageX,l.pageY),r._hideToolTip())}),r.addEventListener(o,"mousemove",function(l){if(!a.isDisabled)if(a._dragStart){var u=r.convertBack(r._toControl(a._dragStart)),c=r.convertBack(r._toControl(l));r.center=new T(r.center.x-c.x+u.x,r.center.y-c.y+u.y),r._dragStart=new T(l.pageX,l.pageY)}else{var h=a._tooltip;h.content&&!a.isTouching&&a._updateTooltip(h,l)}}),r.addEventListener(o,"mouseup",function(l){r._dragStart=null}),r.addEventListener(o,"mouseleave",function(l){l.target==a.hostElement&&(r._dragStart=null,a._hideToolTip())}),r.addEventListener(o,"touchstart",r._touchStartH),r.addEventListener(o,"touchmove",r._touchMoveH),r.addEventListener(o,"touchcancel",r._touchCancelH),r.addEventListener(o,"touchend",r._touchEndH),r.addEventListener(o,"wheel",r._mouseWheelH),r.initialize(i),r.refresh(),r}return Fc(t,n),Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this._center},set:function(e){this._center!=e&&(this._center=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},set:function(e){e<1&&(e=1),this._zoom!=e&&(this._zoom=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),t.prototype.convert=function(e){return this._convertMercator(e)},t.prototype.convertBack=function(e){return this._convertMercatorBack(e)},t.prototype.hitTest=function(e,i){var r=this._toControl(e,i),o=new wT;if(St._contains(this._rectHeader,r))o._chartElement=Et.Header;else if(St._contains(this._rectFooter,r))o._chartElement=Et.Footer;else if(St._contains(this._rectLegend,r))o._chartElement=Et.Legend;else if(St._contains(this._rectChart,r)){var s=void 0;if(e instanceof MouseEvent)s=new T(e.x,e.y);else{var a=this._getHostOffset();s=new T(a.x+r.x,a.y+r.y)}o._item=this._getItem(s)}return o},t.prototype.zoomTo=function(e){var i=this._proj.maxY,r=Math.max(e.top,-i),o=Math.min(e.bottom,i),s=this.convert(new T(e.left,r)),a=this.convert(new T(e.right,o));if(ut.isValid(s.x,s.y,a.x,a.y)){var l=new T(.5*(s.x+a.x),.5*(s.y+a.y));this.center=this.convertBack(l),s=this.convert(new T(e.left,r)),a=this.convert(new T(e.right,o));var u=this._mapRect.width/Math.abs(a.x-s.x),c=this._mapRect.height/Math.abs(a.y-s.y);this.zoom*=this.zoom+Math.log(Math.min(u,c))*Math.LOG2E}},t.prototype.invalidate=function(e){e&&this.layers.forEach(function(i){i._clearCache&&i._clearCache()}),n.prototype.invalidate.call(this,e)},t.prototype._renderChart=function(e,i,r){this.onRendering(new Eo(e)),i=this._getMapRect(i);var o="mapRect"+(1e6*Math.random()).toFixed();e.addClipRect(i,o);var s=e.startGroup(null,o,!0);this._updateOffset(i);var a=this._size,l=Math.pow(2,this.zoom);e.precision=6;for(var u=0;u<this.layers.length;u++){e.scale=1/(l*a);var h=e.element.createSVGTransform(),d=e.element.createSVGMatrix();d.a=d.d=l*a,d.b=d.c=0,d.e=this._offset.x,d.f=this._offset.y,h.setMatrix(d),this.layers[u].render(e,h,s)}e.endGroup();var f=this._rectChart.bottom-this._mapRect.bottom;this._overlay.style.left=(this._mapRect.right-80).toString()+"px",this._overlay.style.bottom=f.toString()+"px",this.onRendered(new Eo(e))},t.prototype._getDesiredLegendSize=function(e,i,r,o){for(var s=new Ke,a=0;a<this.layers.length;a++){var l=this.layers[a];if(l.colorScale){l.colorScale.domain(l.getAllFeatures?l.getAllFeatures():l.itemsSource);var u=l.colorScale._measureLegend(e,i,r,o);u&&u.width&&u.height&&(s=u)}}return s},t.prototype._renderLegend=function(e,i,r,o,s,a){var l=new K(i.x,i.y,s,a);this.layers.forEach(function(u){u.colorScale&&u.colorScale._drawLegend(e,l,o)})},t.prototype._copy=function(e,i){if("layers"==e){this.layers.clear();for(var r=Dn(i),o=0;o<r.length;o++)this.layers.push(r[o]);return!0}return!1},t.prototype._getMapRect=function(e){var i,r,o=this._parseMargin(this.plotMargin);return isNaN(o.left)&&(o.left=8),isNaN(o.right)&&(o.right=8),isNaN(o.top)&&(o.top=8),isNaN(o.bottom)&&(o.bottom=8),e.top+=o.top,e.height=(r=e.height-(o.top+o.bottom))>0?r:24,e.left+=o.left,e.width=(i=e.width-(o.left+o.right))>0?i:24,e},t.prototype._updateOffset=function(e){this._mapRect=e.clone();var i=this._size=.5*Math.min(e.width,e.height);this._offset.x=this._mapRect.left,this._offset.y=this._mapRect.top,e.width>2*i?this._offset.x=.5*e.width-i+this._mapRect.left:e.height>2*this._size&&(this._offset.y=.5*e.height-i+this._mapRect.top);var r=Math.pow(2,this.zoom),o=this._proj.convert(this.center);o.x=o.x*r*i-i,o.y=o.y*r*i-i,this._offset.x-=o.x,this._offset.y-=o.y},t.prototype._updateTooltip=function(e,i){var r=e.content;if(r){var o=this._getItem(new T(i.clientX,i.clientY));o?(Ge(r)&&(r=r(o)),r=pr(r,o)):r=null}r&&r.trim().length>0?this._showToolTip(r,new K(i.clientX,i.clientY,5,5)):this._hideToolTip()},t.prototype._getItemById=function(e){for(var i=0;i<this.layers.length;i++){var r=this.layers[i];if(r._getFeatureById){if(o=r._getFeatureById(e))return o.properties}else if(r.getItemById){var o;if(o=r.getItemById(e))return o}}return null},t.prototype._convertMercator=function(e){var i=Math.pow(2,this.zoom)*this._size,r=this._proj.convert(e);return r.x*=i,r.y*=i,r.x+=this._offset.x,r.y+=this._offset.y,r},t.prototype._convertMercatorBack=function(e){var i=Math.pow(2,this.zoom)*this._size,r=this._proj,o=e.clone();return o.x-=this._offset.x,o.y-=this._offset.y,o.x/=i,o.y/=i,r.convertBack(o)},t.prototype._touchStart=function(e){if(!this.isDisabled){switch(e.touches.length){case 1:this._handleTouch=!0,this._dragStart=new T(e.touches[0].pageX,e.touches[0].pageY);break;case 2:this._dragStart=null,this._handleTouch=!0,this._touch1=new T(e.touches[0].pageX,e.touches[0].pageY),this._touch2=new T(e.touches[1].pageX,e.touches[1].pageY)}this._handleTouch&&this._hideToolTip()}},t.prototype._touchMove=function(e){if(!this.isDisabled)if(this._handleTouch&&e.preventDefault(),this._dragStart){var i=this.convertBack(this._toControl(this._dragStart)),r=this.convertBack(this._toControl(e.touches[0].pageX,e.touches[0].pageY));this.center=new T(this.center.x-r.x+i.x,this.center.y-r.y+i.y),this._dragStart=new T(e.touches[0].pageX,e.touches[0].pageY)}else if(this._touch1&&this._touch2){var o=new T(e.touches[0].pageX,e.touches[0].pageY),s=new T(e.touches[1].pageX,e.touches[1].pageY),a=this._dist(this._touch1,this._touch2),l=this._dist(o,s);Math.abs(l-a)>1&&(this.zoom+=Math.log2(l/a),this._touch1=o,this._touch2=s)}},t.prototype._dist=function(e,i){var r=e.x-i.x,o=e.y-i.y;return Math.sqrt(r*r+o*o)},t.prototype._touchEnd=function(e){this._handleTouch=!1,this._dragStart=this._touch1=this._touch2=null},t.prototype._touchCancel=function(e){this._handleTouch=!1,this._dragStart=this._touch1=this._touch2=null},t.prototype._mouseWheel=function(e){if(!this.isDisabled){e.preventDefault(),this._hideToolTip();var i=this.pageToControl(e.pageX,e.pageY),r=this.convertBack(i),o=-e.deltaY;this._zoom+=o=o>0?.1:-.1,this._zoom<1&&(this._zoom=1),this._updateOffset(this._mapRect);var s=this.convertBack(i);this.center=new T(this.center.x-s.x+r.x,this.center.y-s.y+r.y),this.refresh()}},t.prototype._getItem=function(e){var i=null;if(xs()||pt()){var r=e.clone();r.x+=pageXOffset,r.y+=pageYOffset,r=this._toControl(r);var o=this.layers.length;r=this.convertBack(r);for(var s=o-1;s>=0;s--){var a=this.layers[s];if(a._hitTest?i=a._hitTest(r.x,r.y):a.getItemById&&(l=document.elementFromPoint(e.x,e.y))&&null!=(u=l.getAttribute("wj-map:id"))&&(i=a.getItemById(u)),i)break}}else{var l,u;(l=document.elementFromPoint(e.x,e.y))&&null!=(u=l.getAttribute("wj-map:id"))&&(i=this._getItemById(u))}return i},t}(St),F8=function(){function n(){this.maxY=(2*Math.atan(Math.exp(Math.PI))-.5*Math.PI)/Po.toRadians}return n.prototype.convert=function(t){var e=this._convertX(t.x),i=Math.abs(t.y)>this.maxY?(t.y>0?1:-1)*this.maxY:t.y;return i=this._convertY(i),new T(e,i)},n.prototype.convertBack=function(t){var e=this._convertBackX(t.x),i=this._convertBackY(t.y);return new T(e,i)},n.prototype._convertX=function(t){return(t*Po.toRadians+Math.PI)/Po.pi2},n.prototype._convertBackX=function(t){return(t*Po.pi2-Math.PI)/Po.toRadians},n.prototype._convertY=function(t){return(Math.PI+Math.log(Math.tan(Po.pi4-.5*t*Po.toRadians)))/Po.pi2},n.prototype._convertBackY=function(t){return-(2*Math.atan(Math.exp(t*Po.pi2-Math.PI))-.5*Math.PI)/Po.toRadians},n}(),Po=function(){function n(){}return n.toRadians=Math.PI/180,n.pi4=.25*Math.PI,n.pi2=2*Math.PI,n}(),L8={},If=function(){function n(){this.itemsSourceChanged=new k}return Object.defineProperty(n.prototype,"map",{get:function(){return this._map},set:function(t){this._map=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this._style},set:function(t){this._style!=t&&(this._style=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._setItems(t)},enumerable:!0,configurable:!0}),n.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},Object.defineProperty(n.prototype,"url",{get:function(){return this._url},set:function(t){this._url!=t&&(this._url=U(t,!0),this._loadUrl())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorScale",{get:function(){return this._colorScale},set:function(t){this._colorScale!=t&&(this._colorScale=t,this._clearCache(),this.invalidate())},enumerable:!0,configurable:!0}),n.prototype.render=function(t,e,i){},n.prototype.invalidate=function(){this.map&&this.map.invalidate()},n.prototype.initialize=function(t){vi(this,t)},n.prototype._applyStyle=function(t){this.style&&(t.fill=this.style.fill,t.stroke=this.style.stroke,t.strokeWidth=this.style.strokeWidth)},n.prototype._clearCache=function(){},n.prototype._loadUrl=function(){var t=this;this.url?lf(this.url,{success:function(e){return t.itemsSource=JSON.parse(e.responseText)}}):this.itemsSource=null},n.prototype._setItems=function(t){this._items!=t&&(this._clearCache(),this._items=t,this.onItemsSourceChanged(new Do),this.invalidate())},n}(),ET=function(n){function t(e){var i=n.call(this)||this;return i._symbolSize=5,i._symbolMinSize=5,i._symbolMaxSize=50,i._index=0,i._prefix="_",i._elMap={},i._hasBindings=!1,i.style={stroke:"grey",strokeWidth:.5,fill:"transparent"},i.initialize(e),i}return Fc(t,n),Object.defineProperty(t.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(e){this._symbolSize!=e&&(this._symbolSize=F(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolMinSize",{get:function(){return this._symbolMinSize},set:function(e){this._symbolMinSize!=e&&(this._symbolMinSize=F(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolMaxSize",{get:function(){return this._symbolMaxSize},set:function(e){this._symbolMaxSize!=e&&(this._symbolMaxSize=F(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._setItems(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding},set:function(e){this._binding!=e&&(this._binding=U(e,!0),this.parseBindings(),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.render=function(e,i,r){this._elMap={},this._index=0,this._prefix=this.map.layers.indexOf(this).toString()+"_";var o=e.startGroup();this._applyStyle(e);var s=this.itemsSource,a=s?s.length:0,l=this._xBnd,u=this._yBnd,c=this._cBnd,h=this._szBnd;h&&(this._szRange=Ef.getRange(s,h));var d=this.colorScale;if(d&&d.domain(s),l&&u||c)for(var f=0;f<a;f++){var p=s[f];if(p){var g=this.getItemPos(p);g&&(d&&(e.fill=d.convert(d.getValue(p))),this.renderItem(e,p,g.x,g.y))}this._index++}return e.endGroup(),o},t.prototype.renderItem=function(e,i,r,o){if(J(r)&&J(o)){var s=this.map.convert(new T(r,o));if(isFinite(s.x)&&isFinite(s.y)){var a=this.symbolSize;if(this._szRange){var l=this._szBnd.getValue(i);l=Math.sqrt((l-this._szRange.min)/this._szRange.range),a=this.symbolMinSize+(this.symbolMaxSize-this.symbolMinSize)*l}if(isFinite(a)){var u=e.drawEllipse(s.x,s.y,.5*a,.5*a);u.setAttribute("vector-effect","non-scaling-stroke");var c=this.createId();this.setId(u,c),this._elMap[c]=u}}}},t.prototype.getItemById=function(e){var i=this.itemsSource;if(i&&this._elMap[e]){var r=parseInt(e.split("_")[1]);if(J(r)&&r<i.length)return i[r]}return null},t.prototype.getGeoBBox=function(){var e=this.itemsSource,i=e?e.length:0;if(this._hasBindings){for(var r=NaN,o=NaN,s=NaN,a=NaN,l=0;l<i;l++){var u=e[l];if(u){var c=this.getItemPos(u);c&&(isFinite(c.x)&&((isNaN(r)||c.x<r)&&(r=c.x),(isNaN(o)||c.x>o)&&(o=c.x)),isFinite(c.y)&&((isNaN(s)||c.y<s)&&(s=c.y),(isNaN(a)||c.y>a)&&(a=c.y)))}}if(!isNaN(r)&&!isNaN(s))return new K(r,s,o-r,a-s)}return null},t.prototype.getItemPos=function(e){var i=this._xBnd,r=this._yBnd,o=this._cBnd;if(o){var s=o.getValue(e);if(s){var a=s.split(",");if(a&&a.length>=2){var l=parseFloat(a[0]),u=parseFloat(a[1]);if(isFinite(l)&&isFinite(u))return new T(l,u)}}}else if(l=i.getValue(e),u=r.getValue(e),xe(l)&&(l=parseFloat(l)),xe(u)&&(u=parseFloat(u)),isFinite(l)&&isFinite(u))return new T(l,u);return null},t.prototype.setId=function(e,i){e&&i&&e.setAttribute("wj-map:id",i)},t.prototype.createId=function(){return this._prefix+this._index.toString()},t.prototype.parseBindings=function(){var e=this.binding;if(this._xBnd=this._yBnd=this._szBnd=null,this._hasBindings=!1,e){var i=e.split(",");1==i.length?(this._cBnd=new At(i[0].trim()),this._hasBindings=!0):i.length>=2&&(this._xBnd=new At(i[0].trim()),this._yBnd=new At(i[1].trim()),this._hasBindings=!0,i.length>=3&&(this._szBnd=new At(i[2].trim())))}},t}(If),IT=function(){function n(){this._map={},this._index=0,this.prefix="_",this.hasPoints=!1,this.symbolSize=5}return n.prototype.convert=function(t){return this.converter&&(t=this.converter.convert(t)),t},n.prototype.render=function(t,e,i){if(void 0===i&&(i=null),this._map={},this._index=0,this.hasPoints=!1,e)switch(e.type){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":case"GeometryCollection":this.renderGeometry(t,e);break;case"Feature":this.renderFeature(t,e,i);break;case"FeatureCollection":if(e.features)for(var r=0;r<e.features.length;r++)this.renderFeature(t,e.features[r],i)}},n.prototype.renderFeature=function(t,e,i){if(void 0===i&&(i=null),e&&e.geometry){i&&i(t,e);var r=this.createId();this.renderGeometry(t,e.geometry,r),this._map[r]=e,this._index++}},n.prototype.renderGeometry=function(t,e,i){if(void 0===i&&(i=null),e)switch(e.type){case"Point":this.renderPoint(t,e,i),this.hasPoints=!0;break;case"MultiPoint":this.renderMultiPoint(t,e,i),this.hasPoints=!0;break;case"LineString":this.renderLineString(t,e,i);break;case"MultiLineString":this.renderMultiLineString(t,e,i);break;case"Polygon":this.renderPolygon(t,e,i);break;case"MultiPolygon":this.renderMultiPolygon(t,e,i);break;case"GeometryCollection":if(e.geometries)for(var r=0;r<e.geometries.length;r++)this.renderGeometry(t,e.geometries[r],i)}},n.prototype.renderPoint=function(t,e,i){if(void 0===i&&(i=null),e&&e.coordinates&&e.coordinates.length>=2){var r=new T(e.coordinates[0],e.coordinates[1]);r=this.convert(r);var o=t.scale*this.symbolSize,s=t.drawEllipse(r.x,r.y,o,o);s.setAttribute("vector-effect","non-scaling-stroke"),this.setAttribute(s,i)}},n.prototype.renderMultiPoint=function(t,e,i){if(void 0===i&&(i=null),e&&e.coordinates)for(var r=e.coordinates,o=e.coordinates.length,s=0;s<o;s++){var a=new T(r[s][0],r[s][1]);a=this.convert(a);var l=t.scale*this.symbolSize,u=t.drawEllipse(a.x,a.y,l,l);this.setAttribute(u,i)}},n.prototype.renderLineString=function(t,e,i){if(void 0===i&&(i=null),e&&e.coordinates){for(var r=e.coordinates,o=e.coordinates.length,s=[],a=[],l=0;l<o;l++){var u=new T(r[l][0],r[l][1]);u=this.convert(u),s.push(u.x),a.push(u.y)}var c=t.drawLines(s,a);this.setAttribute(c,i)}},n.prototype.renderMultiLineString=function(t,e,i){if(void 0===i&&(i=null),e&&e.coordinates)for(var r=e.coordinates,o=r.length,s=0;s<o;s++){for(var a=r[s],l=[],u=[],c=0;c<a.length;c++){var h=new T(a[c][0],a[c][1]);h=this.convert(h),l.push(h.x),u.push(h.y)}var d=t.drawLines(l,u);this.setAttribute(d,i)}},n.prototype.renderMultiPolygon=function(t,e,i){if(void 0===i&&(i=null),e&&e.coordinates)for(var r=e.coordinates,o=r.length,s=t,a=0;a<o;a++){for(var l=r[a],u=[],c=0;c<1;c++){for(var h=l[c],d=[],f=0;f<h.length;f++){var p=new T(h[f][0],h[f][1]);p=this.convert(p),d.push(p.x),d.push(p.y)}u.push(d)}var g=s.drawPolygon2(null,u);this.setAttribute(g,i)}},n.prototype.renderPolygon=function(t,e,i){if(void 0===i&&(i=null),e&&e.coordinates){for(var r=e.coordinates,o=r.length,s=t,a=[],l=0;l<o;l++){for(var u=r[l],c=[],h=0;h<u.length;h++){var d=new T(u[h][0],u[h][1]);d=this.convert(d),c.push(d.x),c.push(d.y)}a.push(c)}var f=s.drawPolygon2(null,a);this.setAttribute(f,i)}},n.prototype.getFeatureById=function(t){return this._map[t]},n.prototype.getAllFeatures=function(t){var e=[];if(t)switch(t.type){case"Feature":e.push(t);break;case"FeatureCollection":if(t.features)for(var i=0;i<t.features.length;i++)e.push(t.features[i])}return e},n.prototype.getBBox=function(t){var e=null;if(t)switch(t.type){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":case"GeometryCollection":e=this.getGeometryBBox(t);break;case"Feature":e=this.getGeometryBBox(t.geometry);break;case"FeatureCollection":if(t.features)for(var i=0;i<t.features.length;i++){var r=this.getGeometryBBox(t.features[i].geometry,e);r&&(e=r)}}return e},n.prototype.getGeometryBBox=function(t,e){var i=null;if(t)switch(t.type){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":var o=this.flat(t.coordinates,10);i=this.getRect(o,e);break;case"GeometryCollection":if(t.geometries)for(var s=0;s<t.geometries.length;s++)(i=this.getGeometryBBox(t.geometries[s],e))&&(e=i.clone())}return i},n.prototype.getRect=function(t,e){var i=null;if(t){var r=NaN,o=NaN,s=NaN,a=NaN;e&&(r=e.left,o=e.right,s=e.top,a=e.bottom);for(var l=t.length/2,u=0;u<l;u++){var c=t[2*u],h=t[2*u+1];(isNaN(r)||c<r)&&(r=c),(isNaN(o)||c>o)&&(o=c),(isNaN(s)||h<s)&&(s=h),(isNaN(a)||h>a)&&(a=h)}isNaN(r)||isNaN(s)||(i=new K(r,s,o-r,a-s))}return i},n.prototype.hitTest=function(t,e,i){for(var r=this.getAllFeatures(t),o=0;o<r.length;o++)if(MT.hitTest(r[o],e,i))return r[o];return null},n.prototype.setAttribute=function(t,e){t&&e&&t.setAttribute("wj-map:id",e)},n.prototype.createId=function(){return this.prefix+this._index.toString()},n.prototype.flat=function(t,e){if(t.flat)return t.flat(e);for(var i=t.slice(),r=[];i.length;){var o=i.pop();Array.isArray(o)?i.push.apply(i,o):r.push(o)}return r.reverse()},n}(),MT=function(){function n(){}return n.hitTest=function(t,e,i){var r=!1;if(t)switch(t.type){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"GeometryCollection":r=!1;break;case"Polygon":r=this.hitTestPolygon(t,e,i);break;case"MultiPolygon":r=this.hitTestMultiPolygon(t,e,i);break;case"Feature":r=this.hitTestGeometry(t.geometry,e,i);break;case"FeatureCollection":if(t.features)for(var o=0;o<t.features.length;o++);}return r},n.hitTestPolygon=function(t,e,i){var r=!1;if(t&&t.coordinates){for(var o=t.coordinates,s=o.length,a=0;a<1;a++){var l=o[a];r=this.contains(l,e,i)}if(r)for(a=1;a<s;a++)if(this.contains(l=o[a],e,i)){r=!1;break}}return r},n.hitTestMultiPolygon=function(t,e,i){var r=!1;if(t&&t.coordinates)for(var o=t.coordinates,s=o.length-1;s>=0;s--){for(var a=o[s],l=a.length,u=0;u<1;u++){var c=a[u];r=this.contains(c,e,i)}if(r)for(var h=1;h<l;h++)if(this.contains(c=a[h],e,i)){r=!1;break}if(r)break}return r},n.hitTestGeometry=function(t,e,i){var r=!1;if(t)switch(t.type){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":break;case"Polygon":r=this.hitTestPolygon(t,e,i);break;case"MultiPolygon":r=this.hitTestMultiPolygon(t,e,i);break;case"GeometryCollection":if(t.geometries)for(var o=0;o<t.geometries.length&&!(r=this.hitTestGeometry(t.geometries[o],e,i));o++);}return r},n.contains=function(t,e,i){for(var r=0,o=t.length,s=0;s<o-1;s++)this.west(t[s][0],t[s][1],t[s+1][0],t[s+1][1],e,i)&&++r;return r%2==1},n.west=function(t,e,i,r,o,s){return e<=r?!(s<=e||s>r||o>=t&&o>=i)&&(o<t&&o<i||(s-e)/(o-t)>(r-e)/(i-t)):this.west(i,r,t,e,o,s)},n}(),TT=function(n){function t(e){var i=n.call(this)||this;return i._render=new IT,i._symbolSize=5,i.style={stroke:"gray",fill:"transparent",strokeWidth:.5},e&&i.initialize(e),i}return Fc(t,n),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(e){this._ifmt!=e&&(this._ifmt=Ot(e,!0),this._clearCache(),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getAllFeatures=function(){return this._render.getAllFeatures(this.itemsSource)},t.prototype.render=function(e,i,r){this._render.hasPoints&&this._clearCache();var o=this._g;if(o)r.appendChild(o);else{o=e.startGroup(),this._render.symbolSize=this.symbolSize,this._render.converter=this.map._proj;var s=this.colorScale;s&&s.domain(this.getAllFeatures()),this._applyStyle(e),this._render.prefix=this.map.layers.indexOf(this).toString()+"_",this._render.render(e,this.itemsSource,s?function(a,l){a.fill=s.convert(s.getValue(l))}:this.itemFormatter),e.endGroup(),this._g=o}return 0==o.transform.baseVal.numberOfItems?o.transform.baseVal.appendItem(i):o.transform.baseVal.replaceItem(i,0),o},t.prototype.getGeoBBox=function(e){return this._render.getBBox(e||this.itemsSource)},Object.defineProperty(t.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(e){this._symbolSize!=e&&(this._symbolSize=F(e),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype._clearCache=function(){this._g=null},t.prototype._getFeatureById=function(e){return this._render.getFeatureById(e)},t.prototype._hitTest=function(e,i){var r=this._render.hitTest(this.itemsSource,e,i);return r?r.properties:null},t}(If),PT=function(n){function t(){var e=n.call(this)||this;return e.style={stroke:"lightgrey",strokeWidth:.5,fill:"lightgrey"},e}return Fc(t,n),t.prototype.render=function(e,i,r){var o=e.startGroup("wj-flexmap-geogrid"),s=this.map,a=this.map._mapRect,l="wj-label";this._applyStyle(e);for(var u=-180;u<=180;u+=30){var c=s.convert(new T(u,-85)),h=s.convert(new T(u,85));if(this.isValid(c)&&this.isValid(h)){var d=u.toString(),f=e.measureString(d,l);e.drawString(d,new T(c.x-.5*f.width,a.top+f.height),l),e.drawLine(c.x,c.y,h.x,h.y)}}for(var p=a.left,g=-80;g<=80;g+=20)c=s.convert(new T(-180,g)),h=s.convert(new T(180,g)),this.isValid(c)&&this.isValid(h)&&(d=p.toString(),f=e.measureString(d,l),e.drawString(g.toString(),new T(p,c.y+.5*f.height),l),e.drawLine(c.x,c.y,h.x,h.y));return e.endGroup(),o},t.prototype.isValid=function(e){return isFinite(e.x)&&isFinite(e.y)},t}(If);Ms("wijmo.chart.map",Yf);var Mf=["*"],Lc=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vc=function(n,t,e,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},fn=function(n,t){return function(e,i){t(e,i,n)}},AT={selector:"wj-flex-map",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","tabOrder","binding","footer","header","selectionMode","palette","plotMargin","footerStyle","headerStyle","tooltipContent","itemsSource","center","zoom"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","renderingNg: rendering","renderedNg: rendered","selectionChangedNg: selectionChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]},RT=function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;return Lc(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},Object.defineProperty(t.prototype,"tooltipContent",{get:function(){return this.tooltip.content},set:function(i){this.tooltip.content=i},enumerable:!0,configurable:!0}),t.meta={outputs:AT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-map"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",binding:"binding",footer:"footer",header:"header",selectionMode:"selectionMode",palette:"palette",plotMargin:"plotMargin",footerStyle:"footerStyle",headerStyle:"headerStyle",tooltipContent:"tooltipContent",itemsSource:"itemsSource",center:"center",zoom:"zoom"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",renderingNg:"rendering",renderedNg:"rendered",selectionChangedNg:"selectionChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(AT.providers))],ngContentSelectors:Mf,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Vc([,fn(0,O(W)),fn(1,O(q)),fn(2,O("WjComponent")),fn(2,Le()),fn(2,Ee())],t)}(ST),OT={selector:"wj-scatter-map-layer",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","style","itemsSource","url","symbolSize","symbolMinSize","symbolMaxSize","binding"],outputs:["initialized","itemsSourceChangedNg: itemsSourceChanged","itemsSourceChangePC: itemsSourceChange"],providers:[]},NT=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="layers",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Lc(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:OT.outputs,changeEvents:{itemsSourceChanged:["itemsSource"]},siblingId:"layers"},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-scatter-map-layer"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",style:"style",itemsSource:"itemsSource",url:"url",symbolSize:"symbolSize",symbolMinSize:"symbolMinSize",symbolMaxSize:"symbolMaxSize",binding:"binding"},outputs:{initialized:"initialized",itemsSourceChangedNg:"itemsSourceChanged",itemsSourceChangePC:"itemsSourceChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(OT.providers))],ngContentSelectors:Mf,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Vc([,fn(0,O(W)),fn(1,O(q)),fn(2,O("WjComponent")),fn(2,Le()),fn(2,Ee())],t)}(ET),{selector:"wj-geo-map-layer",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","style","itemsSource","url","itemFormatter","symbolSize"],outputs:["initialized","itemsSourceChangedNg: itemsSourceChanged","itemsSourceChangePC: itemsSourceChange"],providers:[]}),jT=function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="layers",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;return Lc(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:NT.outputs,changeEvents:{itemsSourceChanged:["itemsSource"]},siblingId:"layers"},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-geo-map-layer"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",style:"style",itemsSource:"itemsSource",url:"url",itemFormatter:"itemFormatter",symbolSize:"symbolSize"},outputs:{initialized:"initialized",itemsSourceChangedNg:"itemsSourceChanged",itemsSourceChangePC:"itemsSourceChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(NT.providers))],ngContentSelectors:Mf,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Vc([,fn(0,O(W)),fn(1,O(q)),fn(2,O("WjComponent")),fn(2,Le()),fn(2,Ee())],t)}(TT),kT={selector:"wj-geo-grid-layer",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","style","itemsSource","url"],outputs:["initialized","itemsSourceChangedNg: itemsSourceChanged","itemsSourceChangePC: itemsSourceChange"],providers:[]},FT=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="layers",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Lc(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:kT.outputs,changeEvents:{itemsSourceChanged:["itemsSource"]},siblingId:"layers"},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-geo-grid-layer"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",style:"style",itemsSource:"itemsSource",url:"url"},outputs:{initialized:"initialized",itemsSourceChangedNg:"itemsSourceChanged",itemsSourceChangePC:"itemsSourceChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(kT.providers))],ngContentSelectors:Mf,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Vc([,fn(0,O(W)),fn(1,O(q)),fn(2,O("WjComponent")),fn(2,Le()),fn(2,Ee())],t)}(PT),{selector:"wj-color-scale",template:"",inputs:["wjProperty","scale","binding","colorUnknown","colors","format"],outputs:["initialized"],providers:[]}),LT=function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="colorScale",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;return Lc(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:FT.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-color-scale"]],inputs:{wjProperty:"wjProperty",scale:"scale",binding:"binding",colorUnknown:"colorUnknown",colors:"colors",format:"format"},outputs:{initialized:"initialized"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(FT.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=Vc([,fn(0,O(W)),fn(1,O(q)),fn(2,O("WjComponent")),fn(2,Le()),fn(2,Ee())],t)}(xT),B8=function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Hi({type:n}),n.\u0275inj=Di({imports:[ea]}),n}();const z8=["flexMap"];let W8=(()=>{class n{constructor(e){this.dataService=e,this.countryName=new qt,this.hitCountry=new qt,this.dataMap=new Map,this.pageViewMap=new Map,this.issuesReportedMap=new Map,this.colors=Ll.Diverging.RdYlGn,this.selectedColor="#188d9b",this.selectedCountry="",this.binding=i=>this.dataMap.get(i.properties.name),this.scale=i=>1-i,this.tooltipContent=i=>this.getCountryToolTip(i),this.currentEmission=new Map,this.predictedEmission=new Map,this.majorSector=new Map}ngOnInit(){this.flexMapData=this.dataService.getCountryData(),Array.prototype.forEach.call(this.flexMapData,e=>{this.dataMap.set(e.Country,e.Population),this.currentEmission.set(e.Country,e.CurrentEmission),this.predictedEmission.set(e.Country,e.PredictedEmission),this.majorSector.set(e.Country,e.MajorContributingSector)})}initializeMap(e){this.flexMap.zoomTo(e.getGeoBBox()),this.flexMap.hostElement.addEventListener("mousedown",i=>{if(this.hitTestInfo=this.flexMap.hitTest(i),console.log("Hit",this.hitTestInfo._item.name),void 0!==this.hitTestInfo._item){this.hitCountry.emit(this.hitTestInfo._item.name),this.emitCountryName(this.hitTestInfo._item.name);let r=document.elementFromPoint(i.x,i.y),o=r?r.getAttribute("wj-map:id"):void 0;this.selectedID=o,this.flexMap.invalidate(!0)}}),this.flexMap.rendered.addHandler((i,r)=>{const s=this.flexMap.layers[0]._g;if(s&&this.selectedID&&this.validCountry(this.hitTestInfo._item.name)){let a=[];for(let l=0;l<s.childNodes.length;l++){const u=s.childNodes[l];u.getAttribute("wj-map:id")===this.selectedID&&(u.setAttribute("fill",this.selectedColor),a.push(u))}a.forEach(l=>l.parentNode.appendChild(l))}})}furtherDetails(e){console.log("e",e)}emitCountryName(e){this.countryName.emit(e)}getCountryToolTip(e){return this.dataService.isValidCountry(e.name)?"<b>"+e.name+"</b><br>Population: "+this.dataMap.get(e.name)+"<br>Current Emission Rate: "+this.currentEmission.get(e.name)+"<br>Forecasted Emission (2030): "+this.predictedEmission.get(e.name)+"<br>Major Contributing Sector: "+this.majorSector.get(e.name):"<b>"+e.name+"</b><br>No data available"}validCountry(e){for(var i=0;i<this.flexMapData.length;i++)if(this.flexMapData[i].Country==e)return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ac))};static#t=this.\u0275cmp=Oe({type:n,selectors:[["app-map-component"]],viewQuery:function(i,r){if(1&i&&Fm(z8,5),2&i){let o;fd(o=pd())&&(r.flexMap=o.first)}},outputs:{countryName:"countryName",hitCountry:"hitCountry"},decls:6,vars:5,consts:[["header","Breakdown by Country",2,"height","100%",3,"tooltipContent","selectionMode"],["flexMap",""],["url","/climate_dashboard/assets/custom.geo.json",3,"itemsSourceChanged"],["geoLayer",""],[3,"colors","binding","scale"],["colorScale",""]],template:function(i,r){if(1&i){const o=function ix(){return G()}();ue(0,"wj-flex-map",0,1)(2,"wj-geo-map-layer",2,3),Pi("itemsSourceChanged",function(){!function eb(n){return Be.lFrame.contextLView=n,n[En]}(o);const a=function JC(n){return function Ma(n,t){return n[t]}(function cO(){return Be.lFrame.contextLView}(),ht+n)}(3);return function tb(n){return Be.lFrame.contextLView=null,n}(r.initializeMap(a))}),lt(4,"wj-color-scale",4,5),le()()}2&i&&(kt("tooltipContent",r.tooltipContent)("selectionMode",2),dt(4),kt("colors",r.colors)("binding",r.binding)("scale",r.scale))},dependencies:[RT,jT,LT]})}return n})();var Nn=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();Ts("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var VT=function(n){function t(e,i){var r=n.call(this,e)||this;r._value=null,r._min=null,r._max=null,r._format="",r._step=null,r._showBtn=!0,r._readOnly=!1,r._handleWheel=!0,r._oldText="",r._fromKb=!0,r.textChanged=new k,r.valueChanged=new k,$(r.hostElement,"role","spinbutton",!0);var s=r.getTemplate();r.applyTemplate("wj-control wj-content wj-inputnumber",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var a=ft.InputNumber.ariaLabels;An(r._btnUp.querySelector("button"),a.incVal),An(r._btnDn.querySelector("button"),a.decVal),r._tbx.type.match(/number/i)&&(r.inputType="");var l=r._tbx;l.autocomplete="off",l.spellcheck=!1,r._updateSymbols();var u=r.addEventListener.bind(r);u(l,"keypress",r._keypress.bind(r)),u(l,"keydown",r._keydown.bind(r)),u(l,"input",r._input.bind(r)),u(l,"blur",function(){r.text!=r._oldText&&r._setText(r.text)}),u(l,"paste",function(){r._fromKb=!1}),u(l,"compositionstart",function(){r._composing=!0}),u(l,"compositionend",function(){r._composing=!1,setTimeout(function(){var h=r.text,d=r._oldText,f=r._chrPct;d&&d.indexOf(f)>-1&&h.indexOf(f)<0&&(h+=f),r._setText(h)})});var c=r._clickSpinner.bind(r);return u(r._btnUp,"click",c),u(r._btnDn,"click",c),r._rptUp=new sa(r._btnUp.querySelector("button")),r._rptDn=new sa(r._btnDn.querySelector("button")),u(l,"wheel",function(h){if(r.handleWheel&&!h.defaultPrevented&&!h.ctrlKey&&r._isEditable()&&r.containsFocus()){var d=Ne(-h.deltaY,-1,1);r._increment((r.step||1)*d),setTimeout(function(){return r.selectAll()}),h.preventDefault()}}),r.value=0,r.isRequired=!0,r.initialize(i),r}return Nn(t,n),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value)if(null==(e=F(e,!this.isRequired||null==e&&null==this._value)))this._setText("");else if(!isNaN(e)){var i=Se.format(e,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=N(e),this.inputElement.readOnly=this._readOnly,qe(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this._min&&(this._min=F(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this._max&&(this._max=F(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=F(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=U(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=N(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!N(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;st(e,0,e.value.length)},t.prototype.clamp=function(e){return Ne(e,this.min,this.max)},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,n.prototype.dispose.call(this)},t.prototype.onGotFocus=function(e){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),n.prototype.onGotFocus.call(this,e)},t.prototype.onLostFocus=function(e){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var i=this.clamp(this.value);if(i==this.value||this.onInvalidInput(new zt)){var r=Se.format(i,this.format);this._setText(r)}}n.prototype.onLostFocus.call(this,e)},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){this._updateSymbols();var i=Se.format(this.value,this.format);this._setText(i)}},t.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},t.prototype._updateSymbols=function(){var e=ft.Globalize.numberFormat,i=Se._parseNumericFormat(this.format);this._chrDec=e["."]||".",this._chrTho=e[","]||",",this._chrNeg=e["-"]||"-",this._chrPls=e["+"]||"+",this._chrPct=e["%"]||"%",this._chrCur=i.curr||e.currency.symbol||"$",this._fmtSpc=i.spec,this._fmtPrc=i.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("^\\s*(\\-|\\"+this._chrNeg+")|([^e](\\-|\\"+this._chrNeg+")|\\()")},t.prototype._isNumeric=function(e,i){var r=e==this._chrDec||e>="0"&&e<="9",o="x"==this._fmtSpc;return!r&&o&&(r=e>="a"&&e<="f"||e>="A"&&e<="F"),r||i||o||(r=e==this._chrPls||e==this._chrNeg||"("==e||")"==e),r},t.prototype._getInputRange=function(e){for(var i=[0,0],r=this.text,o=!1,s=0;s<r.length;s++)this._isNumeric(r[s],e)&&(o||(i[0]=s,o=!0),i[1]=s+1);return i},t.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},t.prototype._getSelStartDigits=function(){for(var e=0,i=this._tbx.selectionStart,r=this._tbx.value,o=0;o<r.length&&o<i;o++)this._isNumeric(r[o],!0)&&e++;return e},t.prototype._setSelStartDigits=function(e){for(var i=this._tbx.value,r=0;r<i.length&&e>=0;r++)if(this._isNumeric(i[r],!0)){if(!e){st(this._tbx,r);break}e--}else if(!e){st(this._tbx,r);break}},t.prototype._increment=function(e){if(e){var i=this.clamp(J(this.value)?this.value+e:0),r=Se.format(i,this.format,!1,!1);this._setText(r)}},t.prototype._updateBtn=function(){var e=this.showSpinner&&!!this.step,i=e;ie([this._btnUp,this._btnDn],{display:e?"":"none"}),qe(this.hostElement,"wj-input-show-spinner",e),Xi(this._btnUp,i),Xi(this._btnDn,i),this._updateAria()},t.prototype._setText=function(e,i,r){if(void 0===i&&(i=!1),void 0===r&&(r=!1),!this._composing){var o=this._tbx,s=this._chrDec,a=this._rxNeg.test(e),l=this._delKey,u=this.containsFocus();if(e&&this._rxSym.test(e)&&u&&(e=this.isRequired||!l?(a?"-0":"0")+(e.indexOf(s)>-1?s:""):""),this._delKey=!1,l&&0==this.value&&!this.isRequired&&(e=""),!e){if(!this.isRequired||r)return o.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),void this._updateBtn();e="0"}var c=e.indexOf(s),h=this._format||(c>-1?"n2":"n0"),d=Se.parseFloat(e,h);if(isFinite(d)||(d=this.clamp(d)),isNaN(d))this.onInvalidInput(new zt)?o.value=this._oldText:this.focus();else{var p=Se.format(d,h,!1,i,u&&c>-1?2:null);a&&d>=0&&!l&&(p=this._chrNeg+p),u&&c>-1&&"g"==this._fmtSpc&&0!=this._fmtPrc&&(p=e).indexOf(s)<0&&(p+=s),o.value!=p&&(o.value=p,d=Se.parseFloat(p,h)),d!=this._value&&(this._value=d,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},t.prototype._keypress=function(e){if(!e.defaultPrevented&&!this._composing&&this._isEditable()&&e.charCode&&!e.ctrlKey&&!e.metaKey&&e.keyCode!=A.Enter){var i=this._tbx,r=String.fromCharCode(e.charCode);if(this._isNumeric(r,!1)){var o=i.maxLength;if(o>-1&&i.value.length>=o&&i.selectionEnd==i.selectionStart)return void e.preventDefault();var s=this._getInputRange(!0),a=i.selectionStart,l=i.selectionEnd;if(a<s[0]&&l<i.value.length&&(l=Math.max(l,s[0]),st(i,s[0],l)),a>=s[1]){var u=null!=this._fmtPrc?this._fmtPrc:2,c=i.value.indexOf(this._chrDec);c>-1&&a-c>u&&e.preventDefault()}}else e.preventDefault();switch(r){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&i.selectionStart==i.selectionEnd?this._flipSign():this.clamp(-1)<0&&(i.value=this._chrNeg,st(i,1)),e.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),e.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)e.preventDefault();else{var h=i.value.indexOf(this._chrDec);h>-1&&(i.selectionStart<=h&&h++,st(i,h),e.preventDefault())}}if(!e.defaultPrevented&&pt()){var d=i.value;(a=i.selectionStart)==(l=i.selectionEnd)&&(i.value=d.substr(0,a)+r+d.substr(l),st(i,a+1),e.preventDefault(),this._input())}}},t.prototype._keydown=function(e){var i=this;if(this._delKey=!1,!e.defaultPrevented&&!this._composing){var r=gt(this._tbx,"wj-grid-ime");if(!r||e.keyCode==A.Back||e.keyCode==A.Delete){var o=this._tbx,s=o.value,a=o.selectionStart,l=o.selectionEnd;switch(e.keyCode){case 65:e.ctrlKey&&(setTimeout(function(){i.selectAll()}),e.preventDefault());break;case A.Up:case A.Down:this.step&&this._isEditable()&&(this._increment(this.step*(e.keyCode==A.Up?1:-1)),setTimeout(function(){i.selectAll()}),e.preventDefault());break;case A.Back:if(this._delKey=!0,l-a<2&&this._isEditable()){var u=s[l-1];(u==this._chrDec||u==this._chrPct||u==this._chrTho||")"==u)&&(setTimeout(function(){l=u==i._chrPct?i._getInputRange(!0)[1]:l-1,st(o,l)}),e.preventDefault())}break;case A.Delete:if(this._delKey=!0,l-a<2&&this._isEditable())if("0"==s&&1==a)st(o,0);else{var c=s[a];(c==this._chrDec||c==this._chrPct)&&(setTimeout(function(){st(o,a+1)}),e.preventDefault())}break;case A.Escape:this.value=this._oldValue,this.selectAll()}r&&this._delKey&&this._isEditable()&&this._setText(null,!1,!0)}}},t.prototype._input=function(){var e=this;this._composing?this._fromKb=!0:setTimeout(function(){var i=e._tbx,r=i.value,o=r.indexOf(e._chrDec),s=i.selectionStart,a=e._getSelStartDigits();if("p"==e._fmtSpc&&r.length&&r.indexOf(e._chrPct)<0&&(r+=e._chrPct),e._setText(r,e._fromKb),e._fromKb=!0,e.containsFocus()){var l=i.value,u=l.indexOf(e._chrDec),c=e._getInputRange(!0);if(r==e._chrNeg+e._chrDec&&u>-1)return void st(i,u+1);if(r[0]==e._chrNeg&&l[0]!=e._chrNeg)return void(1==l.length?st(i,1):e._setSelStartDigits(a));r?r==e._chrDec&&u>-1?s=u+1:s<=o&&u>-1||o<0&&u<0?s+=l.length-r.length:o<0&&u>-1&&(s=u):s=u>-1?u:c[1],st(i,s=Ne(s,c[0],c[1]))}})},t.prototype._clickSpinner=function(e){var i=this;!e.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*(je(this._btnUp,e.target)?1:-1)),this.isTouching||(z.sharedState.InvalidScroll=Ds(),setTimeout(function(){return i.selectAll()})))},t.prototype._updateAria=function(){var e=this.hostElement;e&&($(e,"aria-valuemin",this.min),$(e,"aria-valuemax",this.max),$(e,"aria-valuenow",this.value),Xi(this._btnDn,null==this.min||this.value>this.min),Xi(this._btnUp,null==this.max||this.value<this.max))},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',t}(z),HT=function(n){function t(e,i){var r=n.call(this,e)||this;r._fullEdit=!1,r.valueChanged=new k;var o=r.getTemplate();if(r.applyTemplate("wj-control wj-content wj-inputmask",o,{_tbx:"input"},"input"),"INPUT"==r._orgTag){var s=r._tbx.getAttribute("value");s&&(r.value=s)}return r._msk=new Rl(r._tbx),r.isRequired=!0,r.initialize(i),r.addEventListener(r._tbx,"input",function(){r.onValueChanged()}),r.addEventListener(r._tbx,"blur",r._commitText.bind(r)),r.addEventListener(r._tbx,"keydown",function(a){a.keyCode==A.Enter&&r._commitText()}),r}return Nn(t,n),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(e){e!=this.value&&(this._tbx.value=U(e),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(e){e!=this.rawValue&&(this.value=U(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(e){var i=this.value;this._msk.mask=U(e),this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var i=this.value;this._msk.promptChar=e,this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(e){this._msk.overwriteMode=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=N(e),qe(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._msk.getMaskRange();st(this._tbx,e[0],e[1]+1)},t.prototype.onValueChanged=function(e){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,e)),this._updateState()},t.prototype._commitText=function(){(this.rawValue||this.isRequired)&&(this.maskFull||this.onInvalidInput(new zt)),this._updateState()},t.prototype.dispose=function(){this._msk.input=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._msk.refresh()},t.prototype._isGridImeEnabled=function(){var e=this._tbx.closest(".wj-flexgrid");return!(!e||!e["$WJ-CTRL"]._imeHdl)},t.prototype.onGotFocus=function(e){n.prototype.onGotFocus.call(this,e),this._isGridImeEnabled()&&!this._fullEdit||this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(z),ay=function(n){function t(e,i){var r=n.call(this,e)||this;r._hsb=[.5,1,1],r._alpha=1,r.valueChanged=new k;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-colorpicker",o,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),r._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),r._updatePalette(),r._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",r._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(r._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",r._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),r._cSB=Ct(o=t._tplCursor),r._cHue=Ct(o),r._cHue.style.width="100%",r._cAlpha=Ct(o),r._cAlpha.style.height="100%",r._eSB.appendChild(r._cSB),r._eHue.appendChild(r._cHue),r._eAlpha.appendChild(r._cAlpha);var s=r.addEventListener.bind(r),a=r.removeEventListener.bind(r),l=document;s(r.hostElement,"mousedown",function(h){s(l,"mousemove",u),s(l,"mouseup",c),r._mouseDown(h)}),s(r.hostElement,"touchstart",function(h){s(l,"touchmove",u),s(l,"touchend",c),r._mouseDown(h)});var u=function(h){r._mouseMove(h)},c=function(h){a(l,"mousemove",u),a(l,"mouseup",c),a(l,"touchmove",u),a(l,"touchend",c),r._mouseUp(h)};return s(r.hostElement,"click",function(h){var d=h.target;if(d&&"DIV"==d.tagName&&je(r._ePal,d)){var f=d.style.backgroundColor;f&&(r.value=new wn(f).toString())}}),r.value="#ffffff",r.initialize(i),r._updatePanels(),r}return Nn(t,n),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(e){this._eAlpha.parentElement.style.display=N(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(e){this._eText.style.display=N(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){e=(e=U(e)).trim();var i=wn.fromString(e);if(i){this._value=e,this._eText.innerText=e;var r=i.getHsb();(this._hsb[0]!=r[0]||this._hsb[1]!=r[1]||this._hsb[2]!=r[2]||this._alpha!=i.a)&&(0==r[2]?(r[0]=this._hsb[0],r[1]=this._hsb[1]):0==r[1]&&(r[0]=this._hsb[0]),this._hsb=r,this._alpha=i.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){(e=(e=Dn(e)).slice(0,10)).every(function(i){return null!=wn.fromString(i)})&&(this._palette=e,this._updatePalette())},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},t.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},t.prototype._mouseMove=function(e){var i=e.touches?e.touches[0]:e,r=this._htDown;if(r){var o=r.getBoundingClientRect(),s=this._hsb;r==this._eHue?s[0]=Ne((i.clientY-o.top)/o.height,0,.99):r==this._eSB?(s[1]=Ne((i.clientX-o.left)/o.width,0,1),s[2]=Ne(1-(i.clientY-o.top)/o.height,0,1)):r==this._eAlpha&&(this._alpha=Ne((i.clientX-o.left)/o.width,0,1)),this._updateColor()}},t.prototype._mouseUp=function(e){this._htDown=null},t.prototype._updateColor=function(){var e=wn.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},t.prototype._updatePalette=function(){var e=new wn("#fff"),i=new wn("#000");this._ePal.innerHTML="";for(var r=0;r<this._palette.length;r++){var o=Ct('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),s=new wn(this._palette[r]),a=s.getHsb();o.appendChild(this._makePalEntry(s,4));for(var l=0;l<5;l++)s=0==a[1]?wn.interpolate(e,i,.1*l+(a[2]>.5?.05:.55)):wn.fromHsb(a[0],.1+.2*l,1-.1*l),o.appendChild(this._makePalEntry(s,0));this._ePal.appendChild(o)}},t.prototype._makePalEntry=function(e,i){var r=document.createElement("div");return ie(r,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:i||""}),r.innerHTML="&nbsp",r},t.prototype._updatePanels=function(){var e=wn.fromHsb(this._hsb[0],1,1,1),i=wn.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+i.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+i.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},t.prototype._getTargetPanel=function(e){var i=e.target;return je(this._eSB,i)?this._eSB:je(this._eHue,i)?this._eHue:je(this._eAlpha,i)?this._eAlpha:null},t.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',t._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',t}(z),ly=function(n){function t(e,i){var r=n.call(this,e)||this;r._view=null,r._byPage=!1,r._fmt="{current:n0} / {count:n0}";var o=r.getTemplate();return r.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",o,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),r._rptNext=new sa(r._btnNext.querySelector("button")),r._rptPrev=new sa(r._btnPrev.querySelector("button")),r.addEventListener(r.hostElement,"click",r._click.bind(r)),r.initialize(i),r._update(),r}return Nn(t,n),Object.defineProperty(t.prototype,"cv",{get:function(){return this._view},set:function(e){if(e!=this._view){var i=this._view;i&&(i.collectionChanged.removeHandler(this._collectionChanged),i.currentChanged.removeHandler(this._currentChanged)),i=this._view=Pe(e,"ICollectionView",!0),this._update(),i&&(i.collectionChanged.addHandler(this._collectionChanged,this),i.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byPage",{get:function(){return this._byPage},set:function(e){e!=this._byPage&&(this._byPage=N(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._fmt},set:function(e){e!=this._fmt&&(this._fmt=U(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(e){this._rptNext.disabled=this._rptPrev.disabled=!N(e)},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this._view,i=this._byPage,r=e?i?e.pageIndex:e.currentPosition:0,o=e?i?e.pageCount:e.itemCount:0;Xi(this._btnFirst,e&&r>0),Xi(this._btnPrev,e&&r>0),Xi(this._txtCurr,null!=e),Xi(this._btnNext,e&&r<o-1),Xi(this._btnLast,e&&r<o-1),this._txtCurr.value=pr(this._fmt,{current:e?r+1:0,count:e?o:0,currentItem:e?e.currentPosition+1:0,itemCount:e?e.itemCount:0,currentPage:e?e.pageIndex+1:0,pageCount:e?e.pageCount:0})},t.prototype._currentChanged=function(){this._update()},t.prototype._collectionChanged=function(){this._update()},t.prototype._click=function(e){var i=e.target,r=this._view,o=this._byPage;r&&(je(this._btnFirst,i)?o?r.moveToFirstPage():r.moveCurrentToFirst():je(this._btnPrev,i)?o?r.moveToPreviousPage():r.moveCurrentToPrevious():je(this._btnNext,i)?o?r.moveToNextPage():r.moveCurrentToNext():je(this._btnLast,i)&&(o?r.moveToLastPage():r.moveCurrentToLast()),e.preventDefault())},t.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',t}(z),js=function(n){function t(e,i){var r=n.call(this,e,null,!0)||this;r._cv=null,r._itemFormatter=null,r._pathDisplay=new At(""),r._pathValue=new At(""),r._pathChecked=new At(""),r._html=!1,r._shGroups=!1,r._checkedItems=[],r._itemRole="option",r._caseSensitive=!1,r._addMode=!1,r._vThreshold=t._VTHRESH,r._isVirtual=!1,r._children=[],r._clientHeight=-1,r._itemHeight=30,r._itemsAbove=-1,r._itemsBelow=-1,r._eSizer=document.createElement("div"),r._ePadTop=document.createElement("div"),r._ePadBot=document.createElement("div"),r._checking=!1,r._ignoredItemChangedEvents=!1,r._search="",r._fmtItemHandlers=0,r._itemCount=0,r._oldSel=null,r._container=null,r._oldSelectedIndex=-1,r.selectedIndexChanged=new k,r.itemsChanged=new k,r.loadingItems=new k,r.loadedItems=new k,r.itemChecked=new k,r.checkedItemsChanged=new k,r.formatItem=new k(function(){r.invalidate()}),r.applyTemplate("wj-control wj-content wj-listbox",null,null);var o=r.hostElement;return $(o,"role","listbox",!0),"SELECT"==r._orgTag&&r._initFromSelect(r.hostElement),r.addEventListener(o,"click",r._click.bind(r)),r.addEventListener(o,"keydown",r._keydown.bind(r)),r.addEventListener(o,"keypress",r._keypress.bind(r)),r.addEventListener(o,"wheel",function(s){o.scrollHeight>o.offsetHeight&&(s.deltaY<0&&0==o.scrollTop||s.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(s.preventDefault(),s.stopPropagation(),s.stopImmediatePropagation())}),[r._eSizer,r._ePadTop,r._ePadBot].forEach(function(s){s.tabIndex=-1,$(s,"aria-hidden",!0),ie(s,{pointerEvents:"none",opacity:"0"})}),r.initialize(i),r._updateViewRange(),r.hostElement.addEventListener("scroll",function(s){r._updateViewRange()}),r}return Nn(t,n),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=Is(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(e){if(e!=this._vThreshold){var i=this._getVirtual();this._vThreshold=F(e,!1,!0),i!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=N(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=N(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Ot(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(e){e!=this.displayMemberPath&&(this._pathDisplay.path=U(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(e){this._pathValue.path=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(e){e!=this.checkedMemberPath&&(this._pathChecked.path=U(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(e){e!=this.itemRole&&(this._itemRole=U(e),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(e){var i=null;e>-1&&Pn(this._cv)&&(i=this._cv.items[e],this.displayMemberPath&&(i=this._pathDisplay.getValue(i)));var r=null!=i?i.toString():"";return this._itemFormatter&&(r=this._itemFormatter(e,r)),r},t.prototype.getDisplayText=function(e){var i=this._getChild(e);return null!=i?i.textContent:""},t.prototype.isItemEnabled=function(e){var i=this._getChild(e);return null!=i&&!i.hasAttribute("disabled")&&!gt(i,"wj-state-disabled")&&!gt(i,"wj-separator")},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&(this._oldSelectedIndex=this._cv.currentPosition,this._cv.moveCurrentToPosition(F(e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(e){var i=this._cv,r=i?i.items:null,o=this.selectedValuePath,s=-1;if(r){for(var a=0;a<r.length;a++){var l=r[a],u=o?this._pathValue.getValue(l):l;if(u===e||Ce.equals(u,e)){s=a;break}if(this.isContentHtml&&xe(u)&&u.indexOf("<")>-1&&qi(u)===e){s=a;break}}this.selectedIndex=s}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.hostElement,i=e?parseFloat(e.style.maxHeight):null;return isNaN(i)?null:i},set:function(e){var i=this.hostElement;i&&(e=F(e,!0),i.style.maxHeight=null==e?"":e+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(e){void 0===e&&(e=this.containsFocus());var i=this.hostElement,r=this._children,o=this._getSelectedElement(!1),s=new K(0,0,0,0);o!=this._oldSel&&(this._updateItemAttributes(o,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=o),o instanceof HTMLElement?s=this._getBoundingClientRect(o):this._children.length>0&&(s=this._getBoundingClientRect(this._getChild(0)));var a=this._getBoundingClientRect(i),l=0;if(this._shGroups&&(l=this._itemHeight,!this._isVirtual)){var u=r[0];u&&u.offsetHeight&&gt(u,"wj-header")&&(l=u.offsetHeight)}s.bottom>a.bottom?i.scrollTop+=s.bottom-a.bottom:s.top<a.top+l&&(i.scrollTop-=a.top+l-s.top),this._updateViewRange(),o=this._getSelectedElement(!0),e&&(o&&!je(o,nt())?o:i).focus(),i.tabIndex=o?-1:this._orgTabIndex},t.prototype.loadList=function(){this._populateList()},t.prototype.getItemChecked=function(e){var i=this._cv.items[e],r=this._pathChecked;if(li(i)&&r.path)return r.getValue(i);var o=this._getCheckbox(e);return!!o&&o.checked},t.prototype.setItemChecked=function(e,i){this._setItemChecked(e,i,!0)},t.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._checkedItems},set:function(e){var i=Dn(e=Array.from(new Set(e)),!1);this._arrayEquals(i,this._checkedItems)||(this._updateCheckedList(i),this._arrayEquals(i,this._checkedItems)||(this._checkedItems=i,this.onCheckedItemsChanged()))},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){return(e=be(e,".wj-listbox-item"))?e[t._DIDX_KEY]:-1},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){var r=this.formatItem.handlerCount;(this._cv?this._cv.items.length:0)!=this._itemCount||r!=this._fmtItemHandlers?(this._fmtItemHandlers=r,this._populateList()):this._updateViewRange()}},t.prototype._updateCheckedList=function(e){var i=this,r=this._cv,o=this._pathChecked,s=new Map;if(o&&r){var a=r.sourceCollection;if(a&&a.length){li(a[0])||(o=null),e.forEach(function(u){return s.set(u,!0)}),this._checking=!0;var l=[];a.forEach(function(u){var c=s.has(u);c&&l.push(u),o&&o.setValue(u,c)}),this._checking=!1,e=l}r.items.forEach(function(u,c){i._setItemChecked(c,s.has(u),!1)})}},t.prototype._getBoundingClientRect=function(e){if(!e.offsetHeight){var i=this.indexOf(e),r=this.hostElement;if(i>-1&&r){i=this._getElementIndex(i);var o=r.getBoundingClientRect();return new K(0,o.top-r.scrollTop+i*this._itemHeight,o.width,this._itemHeight)}}return K.fromBoundingRect(e.getBoundingClientRect())},t.prototype._updateItemAttributes=function(e,i){if(e){var r=this.checkedMemberPath?this._getCheckbox(this.indexOf(e)):null,o=r?r.checked:null;qe(e,"wj-state-selected",i),$(e,"aria-selected",this._getAriaSelected(i,o)),e.tabIndex=i?this._orgTabIndex:-1}},t.prototype._getCheckedItems=function(){var e=this,i=this._cv,r=this._pathChecked,o=[];return i&&r&&r.path&&(o=i.sourceCollection.filter(function(s,a){if(i.filter&&!i.filter(s))return!!e._addMode&&r.getValue(s);if(li(s))return r.getValue(s);var l=i.items[a]==s?a:i.items.indexOf(s);return e.getItemChecked(l)})),o},t.prototype._arrayEquals=function(e,i){if(e==i)return!0;if(!e||!i||e.length!=i.length)return!1;for(var r=0;r<e.length;r++)if(!this._isEqual(e[r],i[r]))return!1;return!0},t.prototype._getChild=function(e){return e=this._getElementIndex(e),this._children[e]},t.prototype._getElementIndex=function(e){if(this._shGroups)for(var i=this._children,r=0;r<=e&&r<i.length;r++)gt(i[r],"wj-header")&&e++;return e},t.prototype._setItemChecked=function(e,i,r){void 0===r&&(r=!0);var o=this._cv.items[e],s=this._pathChecked,a=!1,l=this.selectedIndex,u=this._checking;if(li(o)&&s.path){if(!!s.getValue(o)!=i){var c=Tn(this._cv,"IEditableCollectionView");a=!0,this._checking=!0,c?(c.editItem(o),s.setValue(o,i),c.commitEdit()):(s.setValue(o,i),c.refresh()),this._checking=u}}else if(r){var h=this._findArrayItem(this._checkedItems,o);(i&&h<0||!i&&h>=0)&&(a=!0)}var d=this._getCheckbox(e);if(d){d.checked=i;var f=be(d,".wj-listbox-item");f&&(qe(f,"wj-state-checked",i),$(f,"aria-selected",!!i||null))}return r&&(a&&(this._checkedItems=this._checkedItemsUpdate(o,i),this.onItemChecked(),this.onCheckedItemsChanged()),l!=this.selectedIndex&&this.onSelectedIndexChanged()),a},t.prototype._checkedItemsUpdate=function(e,i){var r=this._cv.sourceCollection,o=this._checkedItems,s=0;if(i){for(var a=0;a<r.length;a++){var l=r[a];if(s<o.length&&this._isEqual(l,o[s]))s++;else if(this._isEqual(l,e))return o.slice(0,s).concat([e]).concat(o.slice(s))}return o}var u=this._findArrayItem(o,e);return o.slice(0,u).concat(o.slice(u+1))},t.prototype._isEqual=function(e,i){return e===i||Number.isNaN(e)&&Number.isNaN(i)},t.prototype._findArrayItem=function(e,i){if(!Number.isNaN(i))return e.indexOf(i);for(var r=0;r<e.length;r++)if(Number.isNaN(e[r]))return r;return-1},t.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this._ignoredItemChangedEvents||this.onSelectedIndexChanged())},t.prototype._populateList=function(){var e=this.hostElement,i=this._cv;if(this._itemCount=i?i.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,e){var r=this.containsFocus(),o=void 0;this.onLoadingItems();var s=this._children=[];if(e.textContent="",i){var a=0,l=void 0,u=[];if(this._shGroups&&i.groups&&i.groups.length){o={};for(var c=0;c<i.groups.length;c++){var h=i.groups[c];o[a]=h,l=this._createHeaderItem(h),u.push(l);for(var d=0;d<h.items.length;d++,a++)l=this._createItem(a),u.push(l)}}else for(d=0;d<i.items.length;d++,a++)l=this._createItem(a),u.push(l);var f=this._isVirtual?document.createElement("div"):e,p=0;for(f.innerHTML=u.join(""),d=0;d<f.children.length;d++){var g=f.children[d];p==i.currentPosition&&(this._oldSel=g),g[t._DIDX_KEY]=g.className.indexOf("wj-header")<0?p++:-1,s.push(g)}}if(this.formatItem.hasHandlers&&i){a=0;var m=i.items;for(g=new uy(0,null,null),d=0;d<s.length;d++)g._item=s[d],this._shGroups&&gt(g._item,"wj-header")?(g._index=-1,g._data=o[a]):(g._index=a,g._data=m[a++]),this.onFormatItem(g)}if(this._isVirtual){var _=this._getCanvasContext(),v=null,y=0;for(d=0;d<s.length;d++){var w=_.measureText((l=s[d]).textContent);w.width>y&&(v=l,y=w.width)}if(v){var b=!1,C=e.style.display,I=e.style.position;e.parentElement||(b=!0,(this._container||document.body).appendChild(e),ie(e,{display:"",position:"absolute"})),e.appendChild(v);var M=v.style.whiteSpace;v.style.whiteSpace="nowrap",this._ePadTop.style.width=v.offsetWidth+"px",this._itemHeight=v.offsetHeight||this._itemHeight,v.style.whiteSpace=M,this._eSizer.style.height=s.length*this._itemHeight+"px",e.appendChild(this._eSizer),this._clientHeight=e.clientHeight,Dt(this._eSizer),b&&(Dt(e),ie(e,{display:C,position:I})),Dt(v)}else this._ePadTop.style.width="";this._updateViewRange()}this.checkedItems=this._getCheckedItems();var S=this._getSelectedElement(!0);r?(S||e).focus():S&&this.showSelection(),e.tabIndex=S?-1:this._orgTabIndex,this.onLoadedItems()}},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),i=getComputedStyle(this.hostElement);return i.fontSize&&i.fontFamily&&(e.font=i.fontSize+" "+i.fontFamily.split(",")[0]),e},t.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var e=this.hostElement;if(e){var i=getComputedStyle(e);if(parseInt(i.columnCount)>1||i.display.indexOf("flex")>-1||i.display.indexOf("grid")>-1)return!1}return!0},t.prototype._getMaxSupportedCssHeight=function(){var e=265e5;return pt()?e=15e5:xs()&&(e=175e5),e},t.prototype._updateViewRange=function(){var e=this.hostElement,i=this._itemHeight,r=this._children;if(!(e&&e.parentElement&&this._isVirtual&&r))return!1;var o=e.scrollTop;ge(i*r.length<this._getMaxSupportedCssHeight(),"The number of items ("+r.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/i)+") allowed for this browser.");var s=Math.max(e.clientHeight,this._clientHeight),a=Math.floor(o/i),l=Math.min(r.length,Math.ceil((o+s)/i)-a),u=Math.max(0,r.length-a-l);if(a==this._itemsAbove&&u==this._itemsBelow)return!1;this._itemsAbove=a,this._itemsBelow=u;var c=document.createDocumentFragment(),h=this.containsFocus();if(this._ePadTop.style.height=a*i+"px",c.appendChild(this._ePadTop),this.showGroups&&!gt(r[a],"wj-header"))for(var d=a;d>=0;d--)if(gt(r[d],"wj-header")){c.appendChild(r[d]);break}for(d=a;d<=a+l&&d<r.length;d++)c.appendChild(r[d]);this._ePadBot.style.height=u*i+"px",c.appendChild(this._ePadBot),e.textContent="",e.appendChild(c),this._ePadBot.style.height=this._ePadBot.offsetHeight-((a+l+u)*i-e.scrollHeight)+"px";var p=this._getSelectedElement(!0);return h&&(p||e).focus({preventScroll:!0}),e.tabIndex=p?-1:this._orgTabIndex,!0},t.prototype._getSelectedElement=function(e){var r=this._getElementIndex(this.selectedIndex),o=r>-1?this._children[r]:null;return e&&o&&!o.offsetHeight&&(o=null),o},t.prototype._handleResize=function(){this._updateViewRange()},t.prototype._createItem=function(e){var i=this._cv.items[e],r=e==this._cv.currentPosition,o=this.getDisplayValue(e);1!=this._html&&(o=Qr(o));var s=null;this.checkedMemberPath&&(s=!1,li(i)?s=!!this._pathChecked.getValue(i):this._checkedItems&&(s=this._checkedItems.indexOf(i)>-1),o='<label><input type="checkbox" tabindex="-1"'+(s?" checked":"")+"><span></span> "+o+"</label>");var a="wj-listbox-item";if(r&&(a+=" wj-state-selected"),s&&(a+=" wj-state-checked"),this._html){var l=["wj-separator","wj-state-disabled"];if(o.indexOf(l[0])>-1||o.indexOf(l[1])>-1){var u=Ct(o);l.forEach(function(c){gt(u,c)&&(a+=" "+c)})}}return'<div class="'+a+'" role="'+this.itemRole+'" '+(this._getAriaSelected(r,s)?'aria-selected="true" ':"")+'tabindex="'+(r&&!this.isDisabled?this._orgTabIndex:-1)+'">'+o+"</div>"},t.prototype._getAriaSelected=function(e,i){return!!(i??e)||null},t.prototype._createHeaderItem=function(e){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+Qr(e.name)+"</div>"},t.prototype._click=function(e){if(0==e.button&&!e.defaultPrevented){var i=this.indexOf(e.target);if(i>-1)if(this.selectedIndex=i,this.checkedMemberPath){var r=this._getCheckbox(i),o=be(r,".wj-listbox-item");(e.target==r||e.target==o)&&(o.focus({preventScroll:!0}),this.setItemChecked(i,r.checked))}else(o=be(e.target,".wj-listbox-item")).focus({preventScroll:!0})}},t.prototype._keydown=function(e){var i=this.selectedIndex;if(!e.defaultPrevented){if(65==e.keyCode&&(e.ctrlKey||e.metaKey)){var r=this.collectionView;if(this.checkedMemberPath&&Pn(r))return this.checkedItems=this.checkedItems.length!=r.items.length?r.items:[],void e.preventDefault()}if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case A.Down:e.preventDefault(),this._selectNext();break;case A.Up:e.preventDefault(),this._selectPrev();break;case A.Home:e.preventDefault(),this._selectFirst();break;case A.End:e.preventDefault(),this._selectLast();break;case A.PageDown:e.preventDefault(),this._selectNextPage();break;case A.PageUp:e.preventDefault(),this._selectPrevPage();break;case A.Space:if(this.checkedMemberPath&&i>-1){var o=this._getCheckbox(i);o&&this.isItemEnabled(i)&&(this.setItemChecked(i,!o.checked),e.preventDefault())}}}},t.prototype._keypress=function(e){var i=this;if(!e.defaultPrevented&&!(e.target instanceof HTMLInputElement)&&(e.charCode>32||32==e.charCode&&this._search)){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){i._toSearch=null,i._search=""},z._SEARCH_DELAY);var r=this._findNext();r<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],r=this._findNext()),r>-1&&(this.selectedIndex=r)}},t.prototype._selectNext=function(){for(var e=this.selectedIndex+1;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectFirst=function(){for(var e=0;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectLast=function(){for(var e=this._children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectNextPage=function(){var e=this.hostElement.offsetHeight,i=this._children,r=this._cv?this._cv.items.length:0,o=0;if(e>0)for(var s=this.selectedIndex+1;s<r;s++){var a=i[s].scrollHeight||this._itemHeight;if(o+a>e&&this.isItemEnabled(s))return this.selectedIndex=s,!0;o+=a}return this._selectLast()},t.prototype._selectPrevPage=function(){var e=this.hostElement.offsetHeight,i=this._children,r=0;if(e>0)for(var o=this.selectedIndex-1;o>0;o--){var s=i[o].scrollHeight||this._itemHeight;if(r+s>e&&this.isItemEnabled(o))return this.selectedIndex=o,!0;r+=s}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var e=this._children.length,i=this.selectedIndex;(i<0||1==this._search.length)&&i++;var r=this._search,o=this.caseSensitiveSearch;o||(r=r.toLowerCase());for(var s=0;s<e;s++){var a=(i+s)%e;if(this.isItemEnabled(a)){var l=this.getDisplayText(a).trim();if(o||(l=l.toLowerCase()),0==l.indexOf(r))return a}}}return-1},t.prototype._getCheckbox=function(e){var i=this._children;return e=this._getElementIndex(e),this.hostElement&&e>-1&&e<i.length?i[e].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(e){for(var i=e.children,r=[],o=-1,s=0;s<i.length;s++){var a=i[s];"OPTION"==a.tagName&&(a.hasAttribute("selected")&&(o=r.length),r.push(a.innerHTML?{hdr:a.innerHTML,val:a.getAttribute("value"),cmdParam:a.getAttribute("cmd-param")}:{hdr:'<div class="wj-separator"></div>'}),e.removeChild(a),s--)}r&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=r,this.selectedIndex=o)},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this.isDisabled||this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.hostElement,i=this._getSelectedElement(!0);i?(i.tabIndex=this.isDisabled?-1:this._orgTabIndex,e.tabIndex=-1):e.tabIndex=this.isDisabled?-1:this._orgTabIndex},t._DIDX_KEY="$WJ-DIDX",t._VTHRESH=Number.MAX_VALUE/2,t}(z),uy=function(n){function t(e,i,r){var o=n.call(this)||this;return o._index=F(e),o._data=i,o._item=Pe(r,HTMLElement,!0),o}return Nn(t,n),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(Do);Ts("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var tr,Wl,cy=function(n){function t(e,i){var r=n.call(this,e)||this;r._selectAllLabel=null,r._filterPlaceholder=null,r._filterText="",r._checkOnFilter=!0,r._delay=z._SEARCH_DELAY,r.checkedItemsChanged=new k,r.selectedIndexChanged=new k;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-multiselectlistbox",o,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),r._selectAll.style.display="none",r._filter.style.display="none",r._lbx=new js(r._lbHost,{checkedMemberPath:t._DEF_CHECKED_PATH,loadedItems:function(){return r._updateCheckAllCheckbox()},checkedItemsChanged:function(a){return r.onCheckedItemsChanged(a)},selectedIndexChanged:function(){return r.onSelectedIndexChanged()}}),r._cbSelectAll=r._selectAll.querySelector("input[type=checkbox]"),r._spSelectAll=r._selectAll.querySelector("label>span");var s=ft.MultiSelectListBox;return Jr(r._spSelectAll,s.selectAll),r._filter.placeholder=s.filterPlaceholder,r.initialize(i),r.addEventListener(r._filter,"input",function(){r._filter.value!=r._filterText&&(r._filterText=r._filter.value,r._toSearch&&clearTimeout(r._toSearch),r._toSearch=setTimeout(function(){r._toSearch=null,r._applyFilter()},r.delay))}),r.addEventListener(r._cbSelectAll,"click",function(a){var l=r._lbx.collectionView;Pn(l)&&(r.checkedItems=a.target.checked?l.items:[])}),r.addEventListener(r.hostElement,"keydown",function(a){var l=r.showFilterInput?r._filter:null,u=r._lbx;if(l&&a.keyCode==A.F3&&(st(l,0,l.value.length),a.preventDefault()),nt()==l){var c=!a.altKey;switch(a.keyCode){case A.Escape:case A.F4:c=!1}c&&a.stopPropagation()}if(!u.containsFocus())switch(a.keyCode){case A.Up:case A.Down:r._lbx.focus(),a.altKey||(u.selectedIndex=Math.max(0,u.selectedIndex+(a.keyCode==A.Up?-1:1))),a.preventDefault()}},!0),r.hostElement.tabIndex=-1,r._lbx.tabOrder=r._orgTabIndex,r}return Nn(t,n),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=F(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._checkOnFilter=N(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){this._lbx.selectedIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(e){e!=this.showFilterInput&&(this._filter.style.display=N(e)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(e){e!=this._filterPlaceholder&&(this._filterPlaceholder=U(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(e){this._selectAll.style.display=N(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(e){e!=this._selectAllLabel&&(this._selectAllLabel=U(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=t._DEF_CHECKED_PATH?e:null},set:function(e){e=U(e),this.listBox.checkedMemberPath=e||t._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=Dn(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){var i=this;this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,e),e._items&&"object"==typeof e._items[0]&&(this.checkedMemberPath||t._DEF_CHECKED_PATH)in e._items[0]&&setTimeout(function(){i._lbx._updateCheckedList(i.checkedItems)},0)},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){var i=ft.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:i.filterPlaceholder,this._spSelectAll&&Jr(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:i.selectAll),this._updateCheckAllCheckbox()}},t.prototype.dispose=function(){this.listBox.dispose(),n.prototype.dispose.call(this)},t.prototype._applyFilter=function(){var e=this,i=this._lbx,r=i.collectionView,o=this._filter.value,s=o?new RegExp(mv(o),i.caseSensitiveSearch?"":"i"):null,a=this.displayMemberPath,l=a?new At(a):null,u=this.checkOnFilter?null:this.checkedItems;r.filter=function(c){return null==s||!!(u&&u.indexOf(c)>-1)||(l&&(c=l.getValue(c)),e.isContentHtml&&(c=qi(c)),null!=c&&s.test(c.toString()))},i.selectedIndex=Math.max(0,i.selectedIndex),this._checkOnFilter&&(this.checkedItems=s?r.items:[])},t.prototype._updateCheckAllCheckbox=function(){var e=this._lbx.collectionView,i=this._cbSelectAll;if(Pn(e)){var o=this.checkedItems.length;Al(i,o==e.items.length||0!=o&&null),i.disabled=!1}else Al(i,!1),i.checked=!1,i.disabled=!0},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=-1,this._lbx.tabOrder=this.isDisabled?-1:this._orgTabIndex},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._lbx.tabOrder=e},t.prototype.tryForceClearDelayAndFilter=function(){var e=this;if(this._toSearch){var i=this._delay;this._filterText=this._filter.value,this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._applyFilter()},0),this._delay=i}},t.prototype.onLostFocus=function(){this.tryForceClearDelayAndFilter(),n.prototype.onLostFocus.call(this)},t._DEF_CHECKED_PATH="$checked",t.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control" tabindex="-1"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',t}(z);Ts("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Select Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),function(n){n[n.None=0]="None",n[n.Day=1]="Day",n[n.Month=2]="Month",n[n.Range=3]="Range"}(tr||(tr={})),function(n){n[n.None=0]="None",n[n.FirstMonth=1]="FirstMonth",n[n.LastMonth=2]="LastMonth",n[n.FirstAndLastMonths=3]="FirstAndLastMonths",n[n.AllMonths=4]="AllMonths",n[n.Outside=5]="Outside"}(Wl||(Wl={}));var ks,hy=function(n){function t(e,i){var r=n.call(this,e)||this;r._yrPicker=!0,r._mtPicker=Wl.FirstMonth,r._wksBefore=0,r._wksAfter=0,r._rngMin=0,r._rngMax=0,r._min=null,r._max=null,r._readOnly=!1,r._handleWheel=!0,r._fdw=null,r._selMode=tr.Day,r._tmYrHidden=0,r._fmtYrMo="y",r._fmtYr="yyyy",r._fmtDayHdr="ddd",r._fmtDay="d ",r._fmtMonths="MMM",r.valueChanged=new k,r.rangeEndChanged=new k,r.rangeChanged=new k,r.displayMonthChanged=new k,r.formatItem=new k(function(){r.invalidate()}),r._value=r._rngEnd=Ce.newDate(),r._month=r._getMonth(r._value),r._cals=[r],r._createChildren(),r._createYearPicker();var o=r.hostElement,s=r.addEventListener.bind(r);return s(o,"keydown",r._keydown.bind(r)),s(o,"click",r._click.bind(r)),r._rptUp=new sa(r._btnPrv),r._rptDn=new sa(r._btnNxt),r.addEventListener(o,"wheel",function(a){r.handleWheel&&!a.defaultPrevented&&!r.isReadOnly&&r.containsFocus()&&(a.deltaY<0?r._btnPrv.click():r._btnNxt.click(),a.preventDefault())}),r.initialize(i),r.refresh(!0),r}return Nn(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!==this._value&&(this._clearingRangeEnd=!Ce.equals(this._value,e),this.rangeEnd=null,this._clearingRangeEnd=!1,e=yi(e,!0),e=this._clamp(e),(this._valid(e)||null==e)&&(this.ensureVisible(e||new Date),Ce.equals(this._value,e)||(this._value=e,this.invalidate(!1),this.onValueChanged())),!this.value)){var i=this.min,r=this.max,o=this.displayMonth;r&&r<o?this.ensureVisible(r):i&&i>o&&this.ensureVisible(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(e){if(e=yi(e,!0),(e=this._clamp(e))&&this._value&&this._rngMode()){e<this._value&&(e=this._value);var i=this._rngMin,r=this._rngMax;if(i&&i>0||r&&r>0){var o=this._value,s=Math.ceil((e.getTime()-o.getTime())/864e5)+1;i&&i>0&&s<i&&(e=Ce.addDays(o,i-1)),r&&r>0&&s>r&&(e=Ce.addDays(o,r-1))}}(this._valid(e)||null==e)&&!Ce.equals(this._rngEnd,e)&&(this._rngEnd=e,this.ensureVisible(e),this.invalidate(!1),this._clearingRangeEnd||this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(e){(e=F(e,!0,!0))!=this._rngMin&&(this._rngMin=e,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(e){(e=F(e,!0,!0))!=this._rngMax&&(this._rngMax=e,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){(e=yi(e,!0))!=this.min&&(this._min=e,this._syncProp(this,"min"),this.refresh(),!this.value&&e&&e>this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){(e=yi(e,!0))!=this.max&&(this._max=e,this._syncProp(this,"max"),this.refresh(),!this.value&&e&&e<this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){var i=tr;(e=Ie(e,i))!=this._selMode&&(this._selMode=e,this._mthMode()&&(this.monthView=!1),this._rngEnd=e==i.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=N(e),qe(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=N(e),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!N(e),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(e){e!=this._yrPicker&&(this._yrPicker=N(e),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(e){if(e!=this._mtPicker){var i=Wl;Zn(e)&&(e=e?i.FirstMonth:i.None),this._mtPicker=Ie(e,i),qe(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==i.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if((e=F(e,!0))&&(e>6||e<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._month},set:function(e){e=yi(e),e=this._getMonth(e);var i=this._getDisplayMonthRange();i.to&&e>i.to&&(e=i.to),i.from&&e<i.from&&(e=i.from),Ce.equals(this.displayMonth,e)||(this._month=e,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){var e=this.hostElement;return e?e.querySelectorAll(".wj-calendar").length+1:0},set:function(e){var i=this,r=this.hostElement;if(e!=this.monthCount&&r){var o=r.querySelectorAll(".wj-calendar");ge((e=Xt(e,!1))>0,"monthCount must be >= 1."),ge(1==e||!be(r.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var s=0;s<o.length;s++){var a=o[s];Dt(a),this._getCalendar(a).dispose()}for(this._cals=[this],s=1;s<e;s++){for(var l in(a=new t(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(c,h){return i.onFormatItem(h)}}))._selMode=this._selMode,a._value=this._value,a._rngEnd=this._rngEnd,this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(l)){var u=this[l];Ge(u)||u instanceof k||(a[l]=u)}this._cals.push(a),r.appendChild(a.hostElement)}qe(r,"wj-calendar-multimonth",e>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(e){e!=this._fmtYrMo&&(this._fmtYrMo=U(e),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(e){e!=this._fmtDayHdr&&(this._fmtDayHdr=U(e),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(e){e!=this._fmtDay&&(this._fmtDay=U(e),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(e){e!=this._fmtYr&&(this._fmtYr=U(e),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(e){e!=this._fmtMonths&&(this._fmtMonths=U(e),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(e){e!=this.showHeader&&(this._tbHdr.style.display=N(e)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(e){if(e!=this.monthView){this._tbMth.style.display=e?"":"none",this._tbYr.style.display=e?"none":"",this.refresh();var i=ft.Calendar.ariaLabels;An(this._btnPrv,e?i.prvMo:i.prvYr),An(this._btnTdy,e?i.today:i.currMo),An(this._btnNxt,e?i.nxtMo:i.nxtYr),An(this._btnMth,e?i.monthView:i.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(e){e!=this._wksBefore&&(this._wksBefore=Math.floor(F(e,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(e){e!=this._wksAfter&&(this._wksAfter=Math.floor(F(e,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Ot(e),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=Ot(e),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){var i=e instanceof MouseEvent?e.target:e instanceof Element?e:null;return ge(null!=i,"MouseEvent or Element expected"),i?i[t._DATE_KEY]:null},t.prototype.ensureVisible=function(e){if(null!=e){var i=this._getCalendars(),r=i.indexOf(this),s=i[i.length-1];e<i[0].displayMonth?this.displayMonth=Ce.addMonths(this._getMonth(e),r):e>s.displayMonth&&(this.displayMonth=Ce.addMonths(this._getMonth(e),r-i.length+1))}},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e),this._syncProp(this,"value")},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(e)},t.prototype.onRangeChanged=function(e){this.rangeChanged.raise(this,e)},t.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e),this._syncProp(this,"displayMonth")},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype._containsFocusImpl=function(e){return n.prototype._containsFocusImpl.call(this,e)||this._lbYears._containsFocusImpl(e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0);var i=this.hostElement,r=this.containsFocus();if(i){n.prototype.refresh.call(this,e),e&&this._updateContent(),this._updateSelection();var o=this._getDisplayMonthRange(),s=this.displayMonth;if(Xi(this._btnPrv,null==o.from||s>o.from),Xi(this._btnNxt,null==o.to||s<o.to),r){var a=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||i;a&&a.focus()}var l=this._getCalendars();l.length>1&&this==l[0]&&l.forEach(function(u,c){c>0&&u.refresh(e)})}},t.prototype._getShowMonthPicker=function(){var e=Wl,i=this._getCalendars(),r=i.indexOf(this),o=this.showMonthPicker;switch(o){case e.FirstMonth:case e.Outside:return 0==r?o:0;case e.LastMonth:return r==i.length-1?o:0;case e.FirstAndLastMonths:return 0==r||r==i.length-1?o:0;case e.AllMonths:return o}return 0},t.prototype._getDisplayMonthRange=function(){var e={from:null,to:null};if(this.min||this.max){var i=this._getCalendars(),r=i.indexOf(this),o=this._mthMode()?Ce.addYears:Ce.addMonths;this.min&&(e.from=o(this._getMonth(this.min),r)),this.max&&(e.to=o(this._getMonth(this.max),r-i.length+1))}return e},t.prototype._getCalendar=function(e){return z.getControl(e)},t.prototype._getCalendars=function(){var e=be(this.hostElement,".wj-calendar-multimonth");return(e?this._getCalendar(e):this)._cals},t.prototype._syncProp=function(e,i){var r=this;if(!this._syncing){var o=this._getCalendars();if(o&&o.length>1){var s=e[i],a=this._mthMode()?Ce.addYears:Ce.addMonths;"displayMonth"==i&&(s=a(s,-o.indexOf(e))),o[0].deferUpdate(function(){r._syncing=!0,o.forEach(function(l,u){if(l!=e){var c=l.displayMonth;l[i]="displayMonth"==i?a(s,u):s,"value"==i&&(l.displayMonth=c,r._rngMode()&&(l.rangeEnd=null))}}),r._syncing=!1})}}},t.prototype._updateContent=function(){var e=this.displayMonth,i=Se.format,r=Ce,o=this._getShowMonthPicker();Jr(this._spMth,i(e,this._fmtYrMo));var s=this._btnMth.querySelector(".wj-glyph-down");s&&(s.style.display=this._mthMode()||!o?"none":"");var a=be(this._btnTdy,".wj-btn-group");a&&(a.style.display=o?"":"none");for(var l=null!=this._fdw?this._fdw:Se.getFirstDayOfWeek(),u=r.addDays(e,-(e.getDay()-l+7)%7),c=r.monthLast(e),h=this._tbMth.querySelectorAll("td"),d=0;d<7&&d<h.length;d++){var f=r.addDays(u,d);Jr(h[d],i(f,this._fmtDayHdr))}var p=this._tbMth.querySelectorAll("tr");for(d=1;d<p.length;d++)Dt(p[d]);var g=r.addDays(u,-7*this._wksBefore);for(d=0;d<this._wksBefore;d++)g=this._addWeek(g,"wj-week-before");for(;g<=c;)g=this._addWeek(g);for(d=0;d<this._wksAfter;d++)g=this._addWeek(g,"wj-week-after");for((h=this._tbYr.querySelectorAll("td")).length&&Jr(h[0],i(e,this._fmtYr)),d=1;d<h.length;d++){g=r.newDate(e.getFullYear(),d-1,1);var m=h[d],_=!this._monthInValidRange(g);m[t._DATE_KEY]=g,Jr(m,i(g,this._fmtMonths)),qe(m,"wj-state-disabled",_),An(m,Se.format(g,"MMMM yyyy"))}},t.prototype._updateSelection=function(){for(var e=t._DATE_KEY,i=Ce,r=this._tbMth.querySelectorAll("td"),o=7;o<r.length;o++){var s=(d=r[o])[e],a=this.value,l=this.rangeEnd,u=this._selMode&&null!=a&&i.sameDate(s,a),c=this._selMode&&null!=a&&i.sameDate(s,l),h=this._selMode&&null!=a&&s>a&&null!=l&&s<=l;qe(d,"wj-state-selected",u),qe(d,"wj-state-multi-selected",h),qe(d,"wj-state-last-selected",c),$(d,"aria-selected",!!u||null),this._customizeCell(o,s,d)}for(r=this._tbYr.querySelectorAll("td"),o=0;o<r.length;o++){var d;s=(d=r[o])[e],qe(d,"wj-state-selected",u=this._sameMonth(s,this.value)),$(d,"aria-selected",!!u||null)}},t.prototype._addWeek=function(e,i){for(var r=this._createElement("tr",this._tbMth,i),o=Ce,s=0;s<7;s++){var a=this._createElement("td",r),l=o.addDays(e,s);a[t._DATE_KEY]=l,Jr(a,Se.format(l,this._fmtDay)),An(a,Se.format(l,"D"));var u=!this._valid(l),c=l.getDay(),h=l.getMonth()!=this.displayMonth.getMonth();qe(a,"wj-day-today",o.sameDate(l,o.newDate())),qe(a,"wj-day-weekend",0==c||6==c),qe(a,"wj-day-othermonth",h),qe(a,"wj-state-invalid",u||!this._inValidRange(l))}return o.addDays(e,7)},t.prototype._customizeCell=function(e,i,r){if(Ge(this.itemFormatter)&&this.itemFormatter(i,r),this.formatItem.hasHandlers){var o=new uy(e,i,r);this.onFormatItem(o)}},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=tr.None},t.prototype._valid=function(e){return!(!wt(e)||!Ce.sameDate(e,this._clamp(e)))&&(!Ge(this.itemValidator)||this.itemValidator(e))},t.prototype._inValidRange=function(e){var i=Ce.fromDateTime;return!(this.min&&e<i(this.min,e)||this.max&&e>i(this.max,e))},t.prototype._monthInValidRange=function(e){if(this.min||this.max){var i=e.getFullYear(),r=e.getMonth(),o=Ce,s=o.newDate(i,r,1),a=o.newDate(i,r+1,0);if(this.min&&this.min>a||this.max&&this.max<s)return!1}return!0},t.prototype._sameMonth=function(e,i){return wt(e)&&wt(i)&&e.getMonth()==i.getMonth()&&e.getFullYear()==i.getFullYear()},t.prototype._getValidDate=function(e,i){if(wt(e))for(var r=e.getFullYear(),o=e.getMonth()+(i?0:1),a=Ce,l=a.newDate(r,o,i?1:0),u=i?1:-1,c=0;c<31;c++){if(this._valid(l))return l;l=a.addDays(l,u)}return null},t.prototype._clamp=function(e){if(e){var i=Ce.fromDateTime;if(this.min){var r=i(this.min,e);e<r&&(e=r)}if(this.max){var o=i(this.max,e);e>o&&(e=o)}}return e},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-control wj-calendar",e,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var i=ft.Calendar.ariaLabels;An(this._tbMth,i.calendar),An(this._tbYr,i.calendar),An(this._btnPrv,i.calendar),An(this._btnMth,i.monthView),An(this._btnPrv,i.prvMo),An(this._btnTdy,i.today),An(this._btnNxt,i.nxtMo);for(var r=this._createElement("tr",this._tbMth,"wj-header"),o=0;o<7;o++)this._createElement("td",r);r=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",r).setAttribute("colspan","4");for(var s=0;s<3;s++){r=this._createElement("tr",this._tbYr);for(var a=0;a<4;a++)this._createElement("td",r)}},t.prototype._createYearPicker=function(){var e=this,i=this.hostElement,r=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");r.tabIndex=this._orgTabIndex,this._lbYears=new js(r,{lostFocus:function(o){if(jr(r),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"),o.selectedIndex>-1){var s=Ce.clone(e.displayMonth);s.setFullYear(o.selectedIndex+o.itemsSource[0]),e.displayMonth=s}}}),this.addEventListener(r,"keydown",function(o){switch(o.keyCode){case A.Enter:i.focus();break;case A.Escape:e._lbYears.selectedIndex=-1,i.focus()}o.defaultPrevented&&o.stopPropagation()}),this.addEventListener(r,"click",function(o){i.focus()})},t.prototype._createElement=function(e,i,r){var o=document.createElement(e);return r&&Me(o,r),i&&i.appendChild(o),o},t.prototype._click=function(e){var i=this;if(!e.defaultPrevented&&0==e.button){var r=!1,o=e.target;if(je(this._btnMth,o)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,r=!0):je(this._btnPrv,o)?(this._navigate(-1),r=!0):je(this._btnNxt,o)?(this._navigate(1),r=!0):je(this._btnTdy,o)&&(this._navigate(0),r=!0),o&&!r&&this._yrPicker&&je(this._tbYr,o)&&be(o,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void e.preventDefault();for(var s=this.displayMonth.getFullYear(),a=this.min?this.min.getFullYear():s-100,l=this.max?this.max.getFullYear():s+100,u=[],c=a;c<=l;c++)u.push(c);var h=this._lbYears,d=h.hostElement,f=be(o,".wj-header"),p=this.hostElement,g=be(p,".wj-inputdate-dropdown")||p;return h.itemsSource=u,h.selectedIndex=s-u[0],$(d,"dir",this.rightToLeft?"rtl":null),ie(d,{minWidth:"",width:f.offsetWidth}),eo(d,f,!1,!1,g),requestAnimationFrame(function(){h.showSelection(!0)}),this.addEventListener(window,"touchstart",function(w){je(d,w.target)||(jr(d),i._tmYrHidden=Date.now(),i.removeEventListener(window,"touchstart"))}),void e.preventDefault()}if(o&&!r){var m=be(o,"td");if(m){var _=this.hitTest(m),v=Ce.fromDateTime;if(this.monthView){if(_&&this._canChangeValue()){var y=v(_,this._value);this._inValidRange(y)&&this._valid(y)&&(this._rngMode()&&this.value&&!this.rangeEnd&&y>=this.value?this.rangeEnd=y:this.value=y),r=!0}}else _&&(this.displayMonth=_,this._mthMode()?this._canChangeValue()&&(y=v(this.displayMonth,this.value),this._inValidRange(y)&&(this.value=y)):this.monthView=!0,r=!0)}}r&&(e.preventDefault(),this.focus())}},t.prototype._keydown=function(e){if(!e.defaultPrevented){if(e.altKey)switch(e.keyCode){case A.Up:case A.Down:return;case A.End:return this._navigate(0),void e.preventDefault()}if(!(e.ctrlKey||e.metaKey||e.shiftKey&&!this._rngMode())){var i=this._getKeyCode(e),r=0,o=0,s=!0;if(this.monthView)switch(i){case A.Left:r=-1;break;case A.Right:r=1;break;case A.Up:r=-7;break;case A.Down:r=7;break;case A.PageDown:o=e.altKey?12:1;break;case A.PageUp:o=e.altKey?-12:-1;break;case A.Home:case A.End:if(this._canChangeValue()&&!e.shiftKey){var a=this.value||this.displayMonth;(u=this._getValidDate(a,i==A.Home))&&(this.value=Ce.fromDateTime(u,this.value),this._rngEnd=null)}break;default:s=!1}else switch(i){case A.Left:o=-1;break;case A.Right:o=1;break;case A.Up:o=-4;break;case A.Down:o=4;break;case A.PageDown:o=e.altKey?120:12;break;case A.PageUp:o=e.altKey?-120:-12;break;case A.Home:o=this.value?-this.value.getMonth():0;break;case A.End:o=this.value?11-this.value.getMonth():0;break;case A.Enter:this._mthMode()?s=!1:this.monthView=!0;break;default:s=!1}if(this._canChangeValue()&&(r||o)){var l=e.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,u=Ce;if(l?(l=u.addDays(l,r),l=u.addMonths(l,o)):l=this._getValidDate(new Date,!0),o&&!this._valid(l)){a=l.getMonth();for(var c=1;c<31&&!this._valid(l);c++){var h=u.addDays(l,+c),d=u.addDays(l,-c);this._valid(h)&&h.getMonth()==a?l=h:this._valid(d)&&d.getMonth()==a&&(l=d)}}for(c=0;c<31&&!this._valid(l);c++)l=u.addDays(l,r>0||o>0?1:-1);e.shiftKey&&l>this.value?this.rangeEnd=l:this.value=l}s&&e.preventDefault()}}},t.prototype._getMonth=function(e){var i=Ce;return e=e||i.newDate(),i.newDate(e.getFullYear(),e.getMonth(),1)},t.prototype._mthMode=function(){return this.selectionMode==tr.Month},t.prototype._rngMode=function(){return this.selectionMode==tr.Range},t.prototype._navigate=function(e){var i=this.monthView,r=this.displayMonth,o=Ce;switch(e){case 0:var s=o.newDate();this._canChangeValue()&&(this.value=i?o.fromDateTime(s,this.value):this._getMonth(s)),r=this._getMonth(s);break;case 1:r=o.addMonths(r,i?1:12);break;case-1:r=o.addMonths(r,i?-1:-12)}this.displayMonth=r},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this._lbYears.tabOrder=this._orgTabIndex},t._DATE_KEY="$WJ-DATE",t.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',t}(z);Ts("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(n){n[n.Select=0]="Select",n[n.Open=1]="Open",n[n.Toggle=2]="Toggle"}(ks||(ks={}));var ro,jn,Gl=function(n){function t(e,i){var r=n.call(this,e)||this;r._clickAction=ks.Select,r._showBtn=!0,r._autoExpand=!0,r._animate=!1,r._internalSettingText=!1,r._oldText="",r.textChanged=new k,r.isDroppedDownChanging=new k,r.isDroppedDownChanged=new k;var o,s=r.getTemplate();r.applyTemplate("wj-control wj-content wj-dropdown",s,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),r.hostElement&&r.hostElement.id&&(o=r.hostElement.id),o&&r._dropDown&&r._dropDown.setAttribute("dropdown-id",o),r._dropDown.style.display="none";var a=ft.DropDown.ariaLabels;An(r._btn.querySelector("button"),a.tgl);var l=r._elRef=r._tbx;af(l),r._createDropDown(),r._updateBtn();var u=r.hostElement;Me(u,"wj-state-collapsed"),r.addEventListener(window,"resize",function(){r.isDroppedDown&&r.invalidate()});var c=r.dropDown,h=r.addEventListener.bind(r),d=r._updateFocusState.bind(r);h(c,"blur",d,!0),h(c,"focus",d);var f=r._keydown.bind(r);h(u,"keydown",f),h(c,"keydown",f);var p=r._keypress.bind(r);return h(u,"keypress",p,!0),h(c,"keypress",p,!0),h(l,"input",r._input.bind(r)),h(l,"blur",function(){r._commitText(!0)},!0),h(l,"click",function(){r._autoExpand&&r._expandSelection()}),h(l,"mousedown",function(g){switch(r._clickAction){case ks.Open:r.isDroppedDown||(g.preventDefault(),r.focus(),r.isDroppedDown=!0);break;case ks.Toggle:g.preventDefault(),r.focus(),r.isDroppedDown=!r.isDroppedDown}}),h(r._btn,"mousedown",function(g){r._btnclick(g)}),Dt(c),pt()&&r._elRef==r._tbx&&h(u,"mouseup",function(g){if(!g.defaultPrevented&&0==g.button&&gt(g.target,"wj-btn")){var m=nt();m&&m!=g.target&&setTimeout(function(){m.focus()})}}),Zo()&&h(l,"keyup",function(){r._setText(r.text,!1)}),h(c,"click",r._dropDownClick.bind(r)),r}return Nn(t,n),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=N(e),qe(this.hostElement,"wj-state-readonly",this.isReadOnly),this.isReadOnly&&this._toogleDropDown(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=N("boolean"==typeof e?e:this.isRequired)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickAction",{get:function(){return this._clickAction},set:function(e){this._clickAction=Ie(e,ks)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&"none"!=e.style.display},set:function(e){var i=this.hostElement,r=this._dropDown,o=this.containsFocus();i&&r&&(e=N(e)&&!this.isDisabled&&!this.isReadOnly&&i.offsetWidth>0,this.isDroppedDown&&!e&&this.isDisabled&&(e=this.isDroppedDown),e!=this.isDroppedDown&&this.onIsDroppedDownChanging(new zt)&&(this._toogleDropDown(e),o&&(this.isTouching&&this.showDropDownButton?i.focus():this.selectAll()),this._updateFocusState(),qe(i,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged()))},enumerable:!0,configurable:!0}),t.prototype._toogleDropDown=function(e){var i=this,r=this.hostElement,o=this._dropDown;e?(this._minWidthDropdown=o.style.minWidth,o.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",function(s){for(var a=z._touching,l=s.target;l;){if(l==r)return;l=l[z._OWNR_KEY]||l.parentNode}z._touching=!0,i.isDroppedDown=!1,z._touching=a})):(this.removeEventListener(window,"touchstart"),jr(o),o.style.minWidth=this._minWidthDropdown)},Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(ui(this._dropDown,this._cssClass),this._cssClass=U(e),Me(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=N(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(e){this._animate=N(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;this._elRef==e&&st(e,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},t.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},t.prototype.onGotFocus=function(e){this.isTouching||je(this._dropDown,nt())||this.selectAll(),n.prototype.onGotFocus.call(this,e)},t.prototype.onLostFocus=function(e){this._commitText(),this.isDroppedDown=!1,n.prototype.onLostFocus.call(this,e)},t.prototype._containsFocusImpl=function(e){return n.prototype._containsFocusImpl.call(this,e)||this.isDroppedDown&&je(this._dropDown,e)},t.prototype.dispose=function(){this.isDroppedDown=!1;var e=this._dropDown;if(e){this._dropDown=null,Dt(e);var i=z.getControl(e);i&&i.dispose()}n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e);var i=this.hostElement;if(i&&i.offsetHeight&&this.isDroppedDown){var r=nt();this.isAnimated&&""!=this._dropDown.style.opacity||eo(this._dropDown,i,!1,!1,null==this.dropDownCssClass),r instanceof HTMLElement&&r!=nt()&&r.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._dropDownClick=function(e){e.stopPropagation()},t.prototype._expandSelection=function(){var e=this._tbx,i=e.value,r=e.selectionStart,o=e.selectionEnd;if(i&&r==o){var s=this._getCharType(i,r);if(s>-1){for(;o<i.length&&this._getCharType(i,o)==s;o++);for(;r>0&&this._getCharType(i,r-1)==s;r--);r!=o&&st(e,r,o)}}},t.prototype._getCharType=function(e,i){var r=e[i];return r>="0"&&r<="9"?0:r>="a"&&r<="z"||r>="A"&&r<="Z"?1:-1},t.prototype._keydown=function(e){if(!e.defaultPrevented&&!this._isHiddenEditor()){switch(e.keyCode){case A.Tab:case A.Escape:case A.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.keyCode==A.Tab||this.containsFocus()||this.focus(),e.preventDefault());break;case A.F4:case A.Up:case A.Down:if(e.keyCode==A.F4||e.altKey){var i=this.hostElement;i&&i.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,e.preventDefault())}}if(!e.defaultPrevented&&e.keyCode==A.Escape&&pt()){var r=this._tbx;if(e.target==r){var o=r.value;r.value=o+" ",r.value=o}}}},t.prototype._isHiddenEditor=function(){return gt(this._tbx,"wj-grid-ime")},t.prototype._keypress=function(e){"AltLeft"!=e.code&&"AltRight"!=e.code||e.preventDefault()},t.prototype._input=function(e){this._setText(this.text,!1)},t.prototype._btnclick=function(e){!e.defaultPrevented&&0==e.button&&(e.preventDefault(),this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus(),this.isDroppedDown=!this.isDroppedDown)},t.prototype._setText=function(e,i,r,o){var s=!1;(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e,(r||!e)&&(this.onTextChanged(),s=!0)),e!=this._oldText&&(this._oldText=e,this._internalSettingText||s||this.onTextChanged()),o&&(this._tbx.value=this._tbx.value.trim()),this._updateState()},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(e){},t.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var e=this.dropDown;$(e,"dir",this.rightToLeft?"rtl":null),eo(e,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(z);(function(n){n[n.None=0]="None",n[n.ClickOwner=1]="ClickOwner",n[n.ClickPopup=2]="ClickPopup",n[n.Click=3]="Click",n[n.BlurOwner=4]="BlurOwner",n[n.BlurPopup=8]="BlurPopup",n[n.Blur=12]="Blur",n[n.ClickOrBlur=15]="ClickOrBlur",n[n.DownOwner=16]="DownOwner",n[n.DownPopup=32]="DownPopup",n[n.Down=48]="Down",n[n.EnterOwner=64]="EnterOwner",n[n.EnterPopup=128]="EnterPopup",n[n.Enter=192]="Enter",n[n.LeaveOwner=256]="LeaveOwner",n[n.LeavePopup=512]="LeavePopup",n[n.Leave=768]="Leave"})(jn||(jn={})),function(n){n[n.None=0]="None",n[n.Left=1]="Left",n[n.Top=2]="Top",n[n.Right=4]="Right",n[n.Bottom=8]="Bottom",n[n.LeftTop=3]="LeftTop",n[n.RightTop=6]="RightTop",n[n.RightBottom=12]="RightBottom",n[n.LeftBottom=9]="LeftBottom"}(ro||(ro={}));var BT=function(n){function t(e,i){var r=n.call(this,e)||this;r._owner=null,r._modal=!1,r._position=Zi.BelowLeft,r._showTrigger=jn.ClickOwner,r._hideTrigger=jn.Blur,r._hideAnim=[],r._fadeIn=!0,r._fadeOut=!0,r._removeOnHide=!0,r._draggable=!1,r._resizable=!1,r._result=null,r._resultEnter=null,r._resultSubmit=null,r._callback=null,r._visible=!1,r._ownerClickBnd=r._ownerClick.bind(r),r._ownerDownBnd=r._ownerDown.bind(r),r._ownerBlurBnd=r._ownerBlur.bind(r),r._ownerEnterBnd=r._ownerEnter.bind(r),r._ownerLeaveBnd=r._ownerLeave.bind(r),r._mousedownBnd=r._mousedown.bind(r),r._mousemoveBnd=r._mousemove.bind(r),r._mousedragBnd=r._mousedrag.bind(r),r._mouseupBnd=r._mouseup.bind(r),r._hideBnd=r.hide.bind(r),r._lastShow=0,r.showing=new k,r.shown=new k,r.hiding=new k,r.hidden=new k,r.resizing=new k,r.resized=new k,r.dragging=new k,r.dragged=new k,r.sizeChanging=new k,r.sizeChanged=new k,r.positionChanging=new k,r.positionChanged=new k;var o=r.hostElement;Me(o,"wj-control wj-content wj-popup"),o.getAttribute("tabindex")||(o.tabIndex=0),jr(o,!1);var s=r.addEventListener.bind(r);s(o,"compositionstart",function(){r._composing=!0}),s(o,"compositionend",function(){r._composing=!1}),s(window,"resize",function(){!r.isVisible||r._dragged||r.isTouching||r.invalidate()}),s(o,"keydown",function(u){if(!u.defaultPrevented){if(u.keyCode==A.Escape&&!r._composing&&(u.preventDefault(),r.hide()),u.keyCode==A.Enter&&!r._composing){var c=r.dialogResultEnter;c&&(u.preventDefault(),r._validateAndHide(c))}u.keyCode==A.Tab&&r.modal&&(u.preventDefault(),Sc(o,u.shiftKey?-1:1))}}),s(o,"click",function(u){var c=u.target;if(c instanceof HTMLElement){if(c instanceof HTMLButtonElement&&"submit"==c.type){var h=r.hostElement,d=r.dialogResultSubmit;h instanceof HTMLFormElement&&d&&h.reportValidity()&&(u.preventDefault(),r.hide(d))}var f=c.className.match(/\bwj-hide[\S]*\b/);f&&f.length>0&&(u.preventDefault(),u.stopPropagation(),r.hide(f[0]))}});var a=r._toggle.bind(r),l=jn;return r.addEventListener(o,"click",function(u){r._ignoreClick||a(u,l.ClickPopup)},!0),r.addEventListener(o,"mousedown",function(u){r._ignoreClick=!1,a(u,l.DownPopup)},!0),r.addEventListener(o,"mouseenter",function(u){u.target==o&&a(u,l.EnterPopup)},!0),r.addEventListener(o,"mouseleave",function(u){u.target==o&&a(u,l.LeavePopup)},!0),r.addEventListener(o,"blur",function(u){r.containsFocus()||a(u,l.BlurPopup)},!0),s(document,"wheel",function(u){if(r.isVisible&&r._modal){for(var c=u.target;c&&c!=document.body;c=c.parentElement)if(c.scrollHeight>c.clientHeight)return;u.preventDefault()}}),r.initialize(i),r}return Nn(t,n),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){var i=this._owner;i&&(this.removeEventListener(i,"click"),this.removeEventListener(i,"mousedown"),this.removeEventListener(i,"mouseenter"),this.removeEventListener(i,"mouseleave"),this.removeEventListener(i,"blur")),(i=this._owner=null!=e?Qo(e):null)&&(this.addEventListener(i,"click",this._ownerClickBnd,!0),this.addEventListener(i,"mousedown",this._ownerDownBnd,!0),this.addEventListener(i,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(i,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(i,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=Ie(e,Zi)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=Ie(e,jn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=Ie(e,jn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(e){if((e=N(e))!=this.removeOnHide&&(this._removeOnHide=e,!this.isVisible)){var i=this.hostElement;e?Dt(i):i&&document.body&&(i.style.display="none",document.body.appendChild(i))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this._draggable},set:function(e){this._draggable=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResizable",{get:function(){return this._resizable},set:function(e){this._resizable=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(e){this._resultSubmit=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&null!=e&&e.offsetHeight>0},enumerable:!0,configurable:!0}),t.prototype.show=function(e,i){var r=this;if(this._lastShow=Date.now(),!this.isVisible){var o=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach(function(a){clearInterval(a)}),this._hideAnim.length>0&&(this._hideAnim.length=0,this._bkDrop&&(jr(this._bkDrop,this.removeOnHide),this._bkDrop.style.opacity=""),jr(o,this.removeOnHide),o.style.opacity="");var s=new zt;this.onShowing(s)&&(null!=e&&(this.modal=N(e)),null!=i&&(this._callback=Ot(i)),this._oldFocus=nt(),eo(o,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(s),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",function(){if(!r.containsFocus()){var a=r._myFocus;a&&a.offsetHeight?a.focus():Sc(o,0)}}),this.addEventListener(o,"focusin",function(){var a=nt();a&&je(o,a)&&(a.tabIndex>-1||!r._myFocus)&&(r._myFocus=a)})),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",function(a){r._hideTrigger&jn.Blur&&!je(o,a.target,!0)&&r.hide()}),setTimeout(function(){r.addEventListener(window,"click",function(a){r._hideTrigger&jn.BlurPopup&&r.isDisabled&&!je(o,a.target,!0)&&r.hide()})}),setTimeout(function(){if(!r.isDisabled&&!r.containsFocus()&&!r.isTouching){var a=o.querySelector("[autofocus]");a&&a.clientHeight>0&&!a.disabled&&a.tabIndex>-1&&!be(a,"[disabled],.wj-state-disabled")?(a.focus(),Ge(a.select)&&a.select()):Sc(o,0)}!r.isDisabled&&!r.containsFocus()&&(o.tabIndex=0,o.focus())},100))}},t.prototype.hide=function(e){var i=this;if(this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){fr(e)||(this.dialogResult=e);var r=new zt,o=this.hostElement;if(this.onHiding(r)){this._handleDragResize(!1);for(var s=this.containsFocus()?this._oldFocus:null,a=o.querySelectorAll(".wj-control.wj-dropdown"),l=0;l<a.length;l++){var u=z.getControl(a[l]);u instanceof Gl&&(u.isDroppedDown=!1)}var c=this.removeOnHide,h=this.fadeOut;setTimeout(function(){if(i._updateState(),i.onHidden(r),i._callback&&i._callback(i),i.hideTrigger&jn.LeavePopup){var d=z.getControl(be(i.owner,".wj-popup"));if(d instanceof t&&d.hideTrigger&jn.Leave){var f=t._evtHover,p=f?document.elementFromPoint(f.clientX,f.clientY):null,g=z.getControl(be(p,".wj-popup"));g instanceof t&&!g.isVisible&&(p=null),p&&je(d.hostElement,p,!0)||d.hide()}}},z._FOCUS_INTERVAL+50),this._bkDrop&&this._hideAnim.push(jr(this._bkDrop,c,h)),this._hideAnim.push(jr(o,c,h)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(o,"focusin"),this.containsFocus()&&nt().blur(),this._clearTimeouts(),!this.isVisible&&s&&s.offsetHeight&&s.focus()}}},t.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},t.prototype.onShown=function(e){this.shown.raise(this,e)},t.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},t.prototype.onHidden=function(e){this._wasVisible=!1,this.hidden.raise(this,e)},t.prototype.onResizing=function(e){return this.resizing.raise(this,e),!e.cancel},t.prototype.onResized=function(e){this.resized.raise(this,e)},t.prototype.onDragging=function(e){return this.dragging.raise(this,e),!e.cancel},t.prototype.onDragged=function(e){this.dragged.raise(this,e)},t.prototype.onSizeChanging=function(e){return this.sizeChanging.raise(this,e),!e.cancel},t.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)},t.prototype.onPositionChanging=function(e){return this.positionChanging.raise(this,e),!e.cancel},t.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)},t.prototype.onLostFocus=function(e){if(n.prototype.onLostFocus.call(this,e),this._hideTrigger&jn.BlurPopup&&!this.containsFocus()){var i=document.createEvent("Event");i.initEvent("blur",!0,!0),this._toggle(i,jn.BlurPopup)}},t.prototype.dispose=function(){this.owner=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0);var i=this.hostElement;if(n.prototype.refresh.call(this,e),this.isVisible&&!this._refreshing&&i){this._refreshing=!0;for(var r=nt(),o=this._owner?this._owner.getBoundingClientRect():null,s=[],a=i.querySelectorAll(".wj-dropdown"),l=0;l<a.length;l++){var u=z.getControl(a[l]);u instanceof Gl&&u.isDroppedDown&&(s.push(u),u.dropDown.style.display="none")}eo(i,o,this._position),s.forEach(function(c){c.dropDown.style.display="",c._updateDropDown()}),this._modal&&r instanceof HTMLElement&&r!=nt()&&r.focus(),this._refreshing=!1}},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},t.prototype._handleDragResize=function(e){var i=this.hostElement,r=this._draggable?this._getHeaderElement():null,o=this.addEventListener.bind(this),s=this.removeEventListener.bind(this),a=this._mousemoveBnd,l=this._mousedownBnd;e?(o(i,"mousemove",a),o(i,"mousedown",l),o(i,"touchstart",l),r&&(r.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,s(i,"mousemove",a),s(i,"mousedown",l),s(i,"touchstart",l),s(document,"mousemove",this._mousedragBnd),s(document,"mouseup",this._mouseupBnd),r&&(r.style.touchAction=""))},t.prototype._mousemove=function(e){if(!this._mousedownEvt){var i=this.hostElement,r=this._getEdges(i,e),o="",s=ro;this._edges=r,this._resizable&&(r==s.LeftTop||r==s.RightBottom?o="nwse-resize":r==s.LeftBottom||r==s.RightTop?o="nesw-resize":r==s.Left||r==s.Right?o="ew-resize":r!=s.Top&&r!=s.Bottom||(o="ns-resize")),this._draggable&&!o&&this._getClosestHeader(e.target)&&(o="move"),i.style.cursor=o}},t.prototype._mousedown=function(e){if(!e.defaultPrevented){var i=e.touches&&e.touches.length>0?e.touches[0]:e;if(this._edges=this._getEdges(this.hostElement,i),this._edges||this._draggable&&this._getClosestHeader(e.target)){var r=new zt;if(this._edges?this.onResizing(r):this.onDragging(r)){this._mousedownEvt=i,this._rcBounds=this.hostElement.getBoundingClientRect();var o=this.addEventListener.bind(this),s=document,a=this._mousedragBnd,l=this._mouseupBnd;o(s,"mousemove",a),o(s,"touchmove",a),o(s,"mouseup",l),o(s,"touchend",l)}}this._ignoreClick=!1}},t.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var e=this.removeEventListener.bind(this),i=document,r=this._mousedragBnd,o=this._mouseupBnd;e(i,"mousemove",r),e(i,"touchmove",r),e(i,"mouseup",o),e(i,"touchend",o),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},t.prototype._mousedrag=function(e){if(!e.defaultPrevented){var i=this.hostElement,r=this._mousedownEvt,o=e.touches&&e.touches.length>0?e.touches[0]:e,s=o.clientX-r.clientX,a=o.clientY-r.clientY,l=this._rcBounds,u=this._edges,c=t._SZ_MIN,h=K.fromBoundingRect(l);if(u){var d=window.getComputedStyle(i),f=parseInt(d.getPropertyValue("min-width"))||c,p=parseInt(d.getPropertyValue("min-height"))||c;if(u&ro.Left?(h.left=Math.min(h.left+s,h.right-f),h.width=Math.max(h.width-s,f)):u&ro.Right&&(h.width=Math.max(h.width+s,f)),u&ro.Top?(h.top=Math.min(h.top+a,h.bottom-p),h.height=Math.max(h.height-a,p)):u&ro.Bottom&&(h.height=Math.max(h.height+a,p)),this.onSizeChanging(new dy(h))&&(ie(i,{left:h.left+window.scrollX,top:h.top+window.scrollY,width:h.width,height:h.height,transform:"none"}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var _=this.hostElement.children,v=0;v<_.length;v++)z.invalidateAll(_[v])}else this._draggable&&(this._dragged||Math.abs(s)+Math.abs(a)>t._DRAG_THRESHOLD)&&(h.left=Math.max(l.left+s+(o.pageX-o.clientX),50-l.width),h.top=Math.max(l.top+a+(o.pageY-o.clientY),0),this.onPositionChanging(new dy(h))&&(ie(i,{left:h.left,top:h.top,width:h.width,height:h.height,transform:"none"}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},t.prototype._getEdges=function(e,i){var r=0;if(this._resizable){var o=e.getBoundingClientRect(),s=t._SZ_EDGE;i.clientX-o.left<s&&(r|=ro.Left),i.clientY-o.top<s&&(r|=ro.Top),o.right-i.clientX<s&&(r|=ro.Right),o.bottom-i.clientY<s&&(r|=ro.Bottom)}return r},t.prototype._ownerClick=function(e){this._toggle(e,jn.ClickOwner)},t.prototype._ownerDown=function(e){this._wasVisible=this.isVisible,this._toggle(e,jn.DownOwner)},t.prototype._ownerBlur=function(e){je(this._owner,nt())||this._toggle(e,jn.BlurOwner)},t.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,jn.EnterOwner)},t.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,jn.LeaveOwner)},t.prototype._toggle=function(e,i){var r=this;if(e instanceof MouseEvent&&(t._evtHover=e),!("mouseenter"==e.type&&Date.now()-this._lastShow<300||e.defaultPrevented)){var o=0!=(this._hideTrigger&i),s=0!=(this._showTrigger&i),a=jn;(o||s)&&this._clearTimeouts(),o&&this.isVisible&&(i&a.Leave?this._toHideLeave=setTimeout(function(){var l=t._evtHover,u=l?document.elementFromPoint(l.clientX,l.clientY):null;u&&je(r.hostElement,u,!0)||r.hide()},z._LEAVE_DELAY):i&a.Blur?this._toHideBlur=setTimeout(function(){r.containsFocus()||je(r._owner,nt())||r.hide()},z._FOCUS_INTERVAL+50):this.hide()),s&&i!=a.ClickPopup&&(this._wasVisible||(i&a.Enter?this._toShow=setTimeout(function(){r.show()},z._HOVER_DELAY):this.show()))}},t.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")},t.prototype._getClosestHeader=function(e){return be(e,".wj-dialog-header")||be(e,".modal-header")},t.prototype._showBackdrop=function(){var e=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,Me(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",function(r){r.preventDefault(),r.stopPropagation(),e.hostElement.focus(),e.hideTrigger&jn.Blur&&e.hide()})),ie(this._bkDrop,{zIndex:z._POPUP_ZINDEX,display:""});var i=this.hostElement;i.parentElement.insertBefore(this._bkDrop,i)},t.prototype._validateAndHide=function(e){var i=this.hostElement;if(i instanceof HTMLFormElement)i.reportValidity()&&this.hide(e);else{var r=this.hostElement.querySelector(":invalid");r?r.focus():this.hide(e)}},t._DRAG_THRESHOLD=6,t._SZ_EDGE=10,t._SZ_MIN=40,t}(z),dy=function(n){function t(e){var i=n.call(this)||this;return i._rc=e,i}return Nn(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),t}(zt),Tf=function(n){function t(e,i){var r=n.call(this,e)||this;r._fmt="d",r._sep=" - ",r._rngs=null,r._showCal=!1,r._clsOnSel=!0,r._handleWheel=!0,r._clicked=!1,r._rangeChanged=!1,r._textInitialized=!1,r.valueChanged=new k,r.rangeEndChanged=new k,r.rangeChanged=new k,Me(r.hostElement,"wj-inputdate"),r._msk=new Rl(r._tbx),Zo()||(r.inputType="tel"),r._tbx.type.match(/^(tel|text|)$/i)||(r.inputType="text"),r.addEventListener(r.hostElement,"wheel",function(u){if(r.handleWheel&&!u.defaultPrevented&&!r.isDroppedDown&&r.containsFocus()&&null!=r.value&&r._canChangeValue()){var c=Ne(-u.deltaY,-1,1),h=r.value;r.value=r.selectionMode==tr.Month?Ce.addMonths(h,c):Ce.addDays(h,c),r.selectAll(),u.preventDefault()}});var o=r._lbx=new js(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(u){var c=u.selectedItem,h=Ce.fromDateTime,d=Ce.sameDate;if(c&&c.from&&c.to){if(!d(c.from,r.value)||!d(c.to,r.rangeEnd)){var f=r.value;r.value=h(c.from,f),r.rangeEnd=h(c.to,f)}r._selectAll()}else r._cal.hostElement.style.display=""}}),s=r._cal=new hy(document.createElement("div"));s.tabOrder=o.tabOrder=-1;var a=r._dropDown;if(Me(a,"wj-inputdate-dropdown"),a.appendChild(o.hostElement),a.appendChild(s.hostElement),r.addEventListener(a,"click",function(){r._clicked=!0,setTimeout(function(){r._clicked=!1},50)},!0),"INPUT"==r._orgTag){var l=r._tbx.getAttribute("value");l&&(s.value=s.rangeEnd=Se.parseDate(l,"yyyy-MM-dd"))}return r.isRequired=!0,r._tbx.value=r._oldText=r._getText(),r.initialize(i),r._textInitialized&&r._tbx.value!==r._oldText&&(r._oldText=r._tbx.value,r._commitText(),r.onTextChanged(),r._textInitialized=!1),r._updateState(),s.valueChanged.addHandler(function(u,c){r._refreshText(),r.onValueChanged(c),r._closeOnChange()}),s.rangeEndChanged.addHandler(function(u,c){s._rngMode()&&(r.onRangeEndChanged(c),r._closeOnChange(),s._clearingRangeEnd||r._refreshText())}),s.hostElement.addEventListener("click",function(u){if(s.selectionMode&&!s._rngMode()){var c=u.target,h=s.hitTest(c);(Ce.sameDate(r.value,h)||be(c,"[wj-part=btn-today]"))&&(r._closeOnChange(),r._refreshText())}}),r}return Nn(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this._cal.value},set:function(e){this._cal.value=e,(this.text||this.isRequired)&&this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(e){this._cal.rangeEnd=e,(this.text||this.isRequired)&&this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(e){this._cal.rangeMin=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(e){this._cal.rangeMax=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){var i=(e||"").toString();i!=this.text&&(i!=this._tbx.value&&(this._tbx.value=i),i!=this._oldText&&(this._oldText=i),this._commitText(),this.onTextChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._fmt},set:function(e){e!=this.format&&(this._fmt=U(e),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"separator",{get:function(){return this._sep},set:function(e){e!=this._sep&&(this._sep=U(e,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(e){this._clsOnSel=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){e=N(e),this._handleWheel=e,e||(this.calendar.handleWheel=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(e){this._rngs!=e&&(ge(null==e||li(e),"Object expected"),this._rngs=e,this._lbx.itemsSource=this._getRanges(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(e){this._showCal=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._cal.min},set:function(e){this._cal.min=yi(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._cal.max},set:function(e){this._cal.max=yi(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(e){this._cal.repeatButtons=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(e){this._cal.showYearPicker=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(e){this._cal.showMonthPicker=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(e){this._cal.showHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(e){this._cal.weeksBefore=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(e){this._cal.weeksAfter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(e){e!=this.selectionMode&&(this._cal.selectionMode=e,this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(e){this._cal.monthCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){e.match(/^(tel|text|)$/i)?this._tbx.type=U(e):console.warn("invalid input type '"+e+"', don't use any input types other than 'tel' or 'text'")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(e){e!=this.itemValidator&&(this._cal.itemValidator=Ot(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(e){this._cal.itemFormatter=Ot(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(e))},t.prototype.onRangeChanged=function(e){this._rangeChanged=!1,this.rangeChanged.raise(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},t.prototype.onIsDroppedDownChanging=function(e){if(this.isDroppedDown)(r=this._cal)._rngMode()&&r.value&&!r.rangeEnd&&(r.rangeEnd=r.value);else{var i=this._lbx,r=this._cal,o=i.collectionView,s=i.hostElement.style,a=r.hostElement.style;if(r._rngMode()&&Pn(o)){var l=this._updateRangeSelection();s.display="",a.display=!this._showCal&&l&&l.from&&o.items.some(function(u){return!u.to})?"none":""}else s.display="none",a.display="";r._mthMode()||(r.monthView=!0)}return n.prototype.onIsDroppedDownChanging.call(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e);var i=this.containsFocus();this.isDroppedDown?(i&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},t.prototype._updateDropDown=function(){this._commitText();var e=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(e.fontSize)+"px",this._cal.refresh(),n.prototype._updateDropDown.call(this)},t.prototype._keydown=function(e){if(!(e.defaultPrevented||e.altKey||e.ctrlKey||e.metaKey)){if(this._isHiddenEditor())return;switch(e.keyCode){case A.Enter:this.isDroppedDown?this._refreshText():this._commitText();break;case A.Escape:this.text=this._getText(),this.selectAll();break;case A.Tab:if(this._cal._rngMode()){var i=this._tbx,r=this._sep,o=i.value,s=o.indexOf(r);if(s>-1){var a=o.length,l=i.selectionStart,u=i.selectionEnd,c=null;i.selectionEnd<=s&&!e.shiftKey?c=0==l&&0==u:e.shiftKey&&i.selectionStart>=s+r.length&&(c=l<a||u<a),null!=c&&(c?st(i,0,s):st(i,s+r.length,a),e.preventDefault())}}break;case A.Up:case A.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var h=e.keyCode==A.Up?1:-1,d=this.selectionMode==tr.Month?Ce.addMonths(this.value,h):Ce.addDays(this.value,h);this.value=this._fromDateTime(d),this.selectAll(),e.preventDefault()}}}n.prototype._keydown.call(this,e)},t.prototype._expandSelection=function(){if(this._cal._rngMode()){var e=this._tbx,r=e.selectionStart,o=e.selectionEnd,s=this._sep,a=e.value.indexOf(s);a>-1&&r==o&&(o<=a?st(e,0,a):r>=a+s.length&&st(e,a+s.length,e.value.length))}else n.prototype._expandSelection.call(this)},t.prototype._refreshText=function(){var e=this._getText();(e!=this.text||e!==this._oldText)&&(this._tbx.value=this._oldText=e,this.onTextChanged())},t.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},t.prototype._closeOnChange=function(){var e=this;if(this._clsOnSel&&this._clicked){var i=this._cal;(!i._rngMode()||i.value&&i.rangeEnd)&&setTimeout(function(){e.isDroppedDown=!1})}},t.prototype._tryFocus=function(e){var i=e.hostElement;return!(!i||!i.offsetHeight||(i.focus(),0))},t.prototype._clamp=function(e){return this._cal._clamp(e)},t.prototype._getText=function(){var e=Se.format,i=this._fmt,r=e(this.value,i);return this._cal._rngMode()&&r&&(r+=this._sep+e(this.rangeEnd,i)),r},t.prototype._commitText=function(e){var i=this._tbx.value;if(i!=this._getText()){var r=!1,o=this._fmt,s=this._cal,a=Se.parseDate;if(i||this.isRequired)if(s._rngMode()){var l=i.split(this._sep);if(2==l.length&&l[0]&&(c=a(l[0],o,this.value))){var u=a(l[1],o,this.value);s.value=this._fromDateTime(c),s.rangeEnd=u&&u>=c?this._fromDateTime(u):c,r=!0}}else{var c;(c=a(i,o,this.value))&&(this.value=this._fromDateTime(c),r=!0)}else this.value=this.rangeEnd=null,r=!0;(r||!this._containsFocus()&&this.onInvalidInput(new zt))&&(this.text=this._getText())}e||this._selectAll()},t.prototype._fromDateTime=function(e){return Ce.fromDateTime(e,this.value)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=tr.None},t.prototype._isValidDate=function(e){return!(e&&(this._clamp(e)!=e||this.itemValidator&&!this.itemValidator(e)))},t.prototype._getRanges=function(e){var i=[];if(li(e))for(var r in e){var o=e[r];i.push({name:r,from:o?o[0]:null,to:o?o[1]:null})}return new gr(i,{currentItem:null})},t.prototype._updateRangeSelection=function(){var e=this._lbx,i=-1;if(Pn(e.collectionView))for(var r=this._lbx.collectionView.items,o=Ce.sameDate,s=0;s<r.length;s++){var a=r[s];if(a.from){if(o(a.from,this.value)&&o(a.to,this.rangeEnd)){i=s;break}}else i=s}return e.selectedIndex=i,e.selectedItem},t.prototype._copy=function(e,i){if("text"===e){var r=(i||"").toString();return r!==this.text&&(this._tbx.value=r,this._textInitialized=!0),!0}return!1},t}(Gl),zT=function(n){function t(e,i){var r=n.call(this,e,{selectionMode:tr.Range,showMonthPicker:"Outside",monthCount:2})||this;return Me(r.hostElement,"wj-inputdaterange"),r._tbx.value=r._oldText=r._getText(),r.initialize(i),r._tbx.value!==r._oldText&&(r._oldText=r._tbx.value,r._commitText()),r}return Nn(t,n),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(e){ge((e=Ie(e,tr))==tr.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=e},enumerable:!0,configurable:!0}),t}(Tf),WT=function(n){function t(e,i){var r=n.call(this,e)||this;return r._textInitialized=!1,r.valueChanged=new k,Me(r.hostElement,"wj-inputcolor"),r._ePreview=Ct('<div class="wj-inputcolorbox"></div>',r.hostElement.firstElementChild),"INPUT"==r._orgTag&&(r._tbx.type="",r._commitText()),r.value="#ffffff",r.isRequired=!0,r._tbx.value=r._oldText=r.value,r.initialize(i),r._textInitialized&&r._tbx.value!==r._oldText&&(r._oldText=r._tbx.value,r.onTextChanged(),r._commitText(),r._textInitialized=!1),r.addEventListener(r._colorPicker.hostElement,"click",function(o){var s=o.target;s&&"DIV"==s.tagName&&(be(s,'[wj-part="div-pal"]')||be(s,'[wj-part="div-pv"]'))&&s.style.backgroundColor&&(r.isDroppedDown=!1)}),r._colorPicker.tabOrder=-1,r}return Nn(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){(e=U(e))!=this.text&&(e||!this.isRequired)&&(!e||wn.fromString(e.replace(/\s+/g,"")))&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{set:function(e){e.match(/^(tel|text|)$/i)?this._tbx.type=U(e):console.warn("invalid input type '"+e+"', don't use any input types other than 'tel' or 'text'")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&!this.isTouching&&this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._colorPicker=new ay(this._dropDown),ie(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){e.value=e._colorPicker.value})},t.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case A.Enter:this._commitText(),this.selectAll();break;case A.Escape:this.text=this.value,this.selectAll()}n.prototype._keydown.call(this,e)},t.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,this._ePreview.style.backgroundColor="",void this.onValueChanged();if(wn.fromString(this.text.replace(/\s+/g,""))){if(this.text&&this.text!==this.text.replace(/\s+/g,""))return void(this.text=this.text.replace(/\s+/g,""));var e=this._colorPicker;e.value=this.text,this._value=e.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new zt)&&(this.text=this._value?this._value:"")}},t.prototype._copy=function(e,i){if("text"===e){var r=(i||"").toString();return r!==this.text&&(this._tbx.value=r,this._textInitialized=!0),!0}return!1},t}(Gl),Ul=function(n){function t(e,i){var r=n.call(this,e)||this;r._editable=!1,r._trimText=!0,r._handleWheel=!0,r._delKey=0,r._draggingText=!1,r._pathHdr=new At(null),r._bsCollapse=!0,r._fmtItemHandlers=0,r._emptyValueAction=!1,r._oldIndexToBeRestoredOnBlur=null,r._restoreComboboxTbxVal=!1,r._isWheel=!1,r.itemsSourceChanged=new k,r.selectedIndexChanged=new k;var o=r.hostElement;Me(o,"wj-combobox"),r.dropDown.id=dv(o.id+"_dropdown"),r.autoExpandSelection=!1;var s=r._tbx;r.addEventListener(s,"compositionstart",function(){r._composing=!0}),r.addEventListener(s,"compositionend",function(){r._composing=!1,r._setText(r.text,!0)}),r.addEventListener(s,"drag",function(){r._draggingText=!0}),r.addEventListener(o,"wheel",r._wheel.bind(r)),"SELECT"==r._orgTag&&r._lbx._initFromSelect(o);var a=r._lbx;return a.loadedItems.addHandler(function(l){r.selectedIndex>-1&&(r.selectedIndex=a.selectedIndex)}),a.tabOrder=-1,r.isRequired=!0,r.initialize(i),r}return Nn(t,n),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(e){this._pathHdr.path=U(e);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=N(e);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimText",{get:function(){return this._trimText},set:function(e){e!=this._trimText&&(this._trimText=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=Ot(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){e!=this.selectedIndex&&J(e)&&(this._lbx.selectedIndex=e);var i=this._lbx._oldSelectedIndex!=this.selectedIndex,r=this.getDisplayText(e=this.selectedIndex);if(this.text!=r||i){var o=this._internalSettingText;this._internalSettingText=this._lbx._ignoredItemChangedEvents,this._setText(r,!0),""!=this.text&&(this._emptyValueAction=!1),this._internalSettingText=o}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:null!=e&&(this.text=e.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown,i=e?parseInt(e.style.maxWidth):null;return isNaN(i)?null:i},set:function(e){var i=this._dropDown.style;e=F(e,!0),i.maxWidth=null==e?"":e+"px",i.minWidth=""},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(e,i){void 0===e&&(e=this.selectedIndex),void 0===i&&(i=this._trimText);var r,o=this.collectionView;if(this.headerPath&&e>-1&&Pn(o)){var s=o.items[e];r=null!=(r=s?this._pathHdr.getValue(s):null)?r.toString():"",this.isContentHtml&&(r=qi(r))}else r=this._lbx.getDisplayText(e);return i?r.trim():r},t.prototype.indexOf=function(e,i,r){void 0===r&&(r=!1);var o=this.collectionView,s=this.caseSensitiveSearch;if(Pn(o)&&null!=e){e=e.toString(),s||(e=e.toLowerCase()),this._trimText&&!r&&(-1!==this.indexOf(e,!1,!0)||(e=e.trim()));var a=this.selectedIndex,l=this.getDisplayText(a);if(i){if(s||(l=l.toLowerCase()),e==l)return a}else if(!e&&""==l)return a;for(var u=0;u<o.items.length;u++)if(this._lbx.isItemEnabled(u))if(l=this.getDisplayText(u),this.trimText&&(l=l.trim()),s||(l=l.toLowerCase()),i){if(l==e&&!1===this._emptyValueAction)return u}else if(e&&0==l.indexOf(e)||!e&&""==l&&!1===this._emptyValueAction)return u}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&Pn(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(e,i,r){this._trimText&&(this.text=this.text.trim()),this._composing&&(this._composing=!1,this._setText(this.text,!0)),(!this.text&&this.isRequired||r)&&Pn(this.collectionView)&&!(this.isRequired&&!this.isEditable&&this.text&&this.indexOf(this.text,!1)>-1&&this.indexOf(this.text,!0)<0)&&(void 0!==i&&(this.selectedIndex=-1!==i?i:0),null!==this._oldIndexToBeRestoredOnBlur?this.selectedIndex=-1!==this._oldIndexToBeRestoredOnBlur?this._oldIndexToBeRestoredOnBlur:0:null==this.collectionView.currentItem&&(this.selectedIndex=0));var o=this.text,s=this.collectionView?this.collectionView.items.length:0;n.prototype.onLostFocus.call(this,e),this._trySelectionUpdateOnItemsSourceChanged((this.collectionView?this.collectionView.items.length:0)!==s,o)},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDown||this._hasItems()?n.prototype.onIsDroppedDownChanging.call(this,e):(e.cancel=!0,!1)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},t.prototype._trySelectionUpdateOnItemsSourceChanged=function(e,i){if(e&&i){var r=this.indexOf(i,!0);r<0&&(r=this.indexOf(i,!1)),this.selectedIndex=r}},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateBtn()},t.prototype._updateBtn=function(){var e=this.collectionView,i=this._tbx,r=this._hasItems();n.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=e?"":"none",Xi(this._btn,r&&!this.isDisabled),$(i,"role",r?"combobox":null),$(i,"aria-autocomplete",r?"both":null),this._updateAria()},t.prototype._hasItems=function(){return Pn(this.collectionView)},t.prototype._updateAria=function(){var e=this._tbx,i=this.isDroppedDown,r=this.dropDown?this.dropDown.id:null,o=r&&Pn(this.collectionView);$(e,"aria-owns",o&&i?r:null),$(e,"aria-expanded",o?i:null)},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new js(this._dropDown),this._lbx._container=this.hostElement),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){e._updateBtn();var i=e._lbx.selectedIndex,r=e._lbx.hostElement.children,o=i>-1&&i<r.length?r[i].id:null;$(e._tbx,"aria-activedescendant",o&&o.length?o:null),e.selectedIndex=i,e.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){e._updateBtn()})},t.prototype._wheel=function(e){if(this._isWheel=!0,this.handleWheel&&!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var i=this._findNext("",e.deltaY>0?1:-1);i>-1&&(this.selectedIndex=i),e.preventDefault()}this._isWheel=!1},t.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1),this._restoreComboboxTbxVal&&(this._tbx.value=this.getDisplayText(this.selectedIndex)),n.prototype._dropDownClick.call(this,e)},t.prototype._setText=function(e,i){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var r=this.formatItem.handlerCount;this._fmtItemHandlers!=r&&(this._fmtItemHandlers=r,this._lbx.loadList())}e=[null,void 0,NaN].includes(e)?"":e.toString();var o=this.selectedIndex,s=this.collectionView,a=this._getSelStart(),l=-1,u=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<e.length||!this.containsFocus())&&(i=!0,u=!1),o=this.indexOf(e,i),u&&(o<0&&i&&(o=this.indexOf(e,!1)),o<0&&a>0&&(o=this.indexOf(e.substr(0,a),!1)),!i)){var c=this.indexOf(e,!0);c>-1&&o>-1&&c!=o&&(o=c)}if(o<0&&this._delKey&&(o=this.indexOf(e,i)),o<0&&!this.isEditable&&Pn(s)&&(e&&this.isRequired||this.containsFocus()&&(e||this.isRequired))){var h=this._oldText||"";o=Math.max(0,this.indexOf(h,!1)),a=0;for(var d=0;d<e.length&&d<h.length;d++)if(e[d]!=h[d]){a=d;break}}if((!this._delKey||!this.isEditable||this._delKey&&this.isEditable&&e==this.getDisplayText(o))&&(!this._pristine||this._pristine&&!this.isEditable)||this._isWheel||this._delKey&&""==e&&o>-1){o>-1&&(l=a,e=this.getDisplayText(o));var f=this._tbx;e!=f.value&&(f.value=e),l>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(l)}s&&((!e||this.trimText&&""==e.trim()&&!this.containsFocus()&&this.isEditable)&&(o>-1?this._oldIndexToBeRestoredOnBlur=o:(this._oldIndexToBeRestoredOnBlur=this.indexOf(this._oldText,!0),this._oldIndexToBeRestoredOnBlur=this._oldIndexToBeRestoredOnBlur<0?this.indexOf(this._oldText,!1):this._oldIndexToBeRestoredOnBlur)),this._restoreComboboxTbxVal=e&&o>-1,s.moveCurrentToPosition(o)),this.containsFocus()||this.isEditable||this.isRequired||e!=e.trim()||!this.trimText||(this._tbx.value=this.getDisplayText(o,this.trimText)),!this.containsFocus()&&o>-1&&this.isEditable&&(e=this.getDisplayText(o,this.trimText)),!this.containsFocus()&&o<0&&!this.isEditable&&!this.isRequired&&(e="");var p=!1;!e&&o<0&&this.isRequired&&!this.containsFocus()&&(p=!0),this.trimText&&!this.containsFocus()&&this.isEditable&&(this.isRequired&&""==e.trim()?p=!0:e=e.trim()),p&&(this.selectedIndex=this._oldIndexToBeRestoredOnBlur,this.selectedIndex<0&&(this.selectedIndex=0));var g=!this.containsFocus()&&!this.isRequired&&!this.isEditable&&this.trimText;g&&(this._tbx.value=this.getDisplayText(o,!0)),this._delKey=0,this._settingText=!1,n.prototype._setText.call(this,p?this.getDisplayText(this.selectedIndex):e,i,p,g)}},t.prototype._findNext=function(e,i,r){void 0===r&&(r=this.selectedIndex);var o=this.collectionView,s=o?o.items.length:0,a=this._lbx,l=this.caseSensitiveSearch;if(o&&s&&i){l||(e=e.toLowerCase());for(var u=r+i;u>-1&&u<s;u+=i){var c=this.getDisplayText(u);if(l||(c=c.toLowerCase()),0==c.indexOf(e)&&(!this.dropDown.children[u]||a.isItemEnabled(u)))return u}}return r},t.prototype._keydown=function(e){if(n.prototype._keydown.call(this,e),!e.defaultPrevented&&!this.isReadOnly&&!e.altKey&&Pn(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var i=this._getSelStart(),r=this._getSelEnd();switch(e.keyCode){case A.Back:case A.Delete:case 88:if(!e.ctrlKey&&!e.metaKey&&88==e.keyCode)break;this._bsCollapse&&!this.isEditable&&i>0&&r==this._tbx.value.length&&Pn(this.collectionView)&&(this._setSelRange(i-1,r),i-=1),this._delKey=e.keyCode;break;case A.Up:case A.Down:i==this.text.length&&(i=0),this.selectedIndex=this._findNext(this.text.substr(0,i),e.keyCode==A.Up?-1:1),this._setSelRange(i,this.text.length),e.preventDefault();break;case A.PageUp:this._lbx._selectPrevPage(),this.selectAll(),e.preventDefault();break;case A.PageDown:this._lbx._selectNextPage(),this.selectAll(),e.preventDefault()}this.text.length>0&&["Backspace","Delete","x"].includes(e.key)&&0===i&&r===this.text.length||this._delKey&&1===this.text.length?this._emptyValueAction=!0:this._composing||(this._emptyValueAction=!1)}},t.prototype._input=function(e){this._draggingText&&(this._emptyValueAction=""===this.text),this._setText(this.text,!1),""!=this.text&&(this._emptyValueAction=!1),this._draggingText=!1},t.prototype._updateInputSelection=function(e){var i=this._tbx;this._elRef==i&&this._setSelRange(e,i.value.length)},t.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0},t.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0},t.prototype._setSelRange=function(e,i){var r=this._tbx;this._elRef!=r||r.readOnly||st(r,e,i)},t}(Gl);Ts("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var Pf=function(n){function t(e,i){var r=n.call(this,e)||this;return r._maxHdrItems=2,r._readOnly=!1,r._hdrFmt=null,r.checkedItemsChanged=new k,Me(r.hostElement,"wj-multiselect"),r._tbx.readOnly=!0,r.checkedMemberPath=null,r.removeEventListener(r.dropDown,"click"),r._lbx.itemsChanged.addHandler(function(){r._updateHeader(!1)}),r._lbx.checkedItemsChanged.addHandler(function(){r._updateHeader(!1),r.onCheckedItemsChanged()}),r.clickAction=ks.Toggle,r.initialize(i),r}return Nn(t,n),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(e){this._msLbx.showSelectAllCheckbox=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(e){this._msLbx.showFilterInput=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(e){this._msLbx.delay=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(e){this._msLbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(e){this._msLbx.filterInputPlaceholder=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._msLbx.checkOnFilter=N(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(e){this._msLbx.selectAllLabel=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(e){this._msLbx.checkedMemberPath=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=F(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=U(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=Ot(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(e){this._msLbx.checkedItems=null==e?[]:Dn(e),this._updateHeader()},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.dispose=function(){this._lbx.dispose(),n.prototype.dispose.call(this)},t.prototype.onIsDroppedDownChanged=function(e){var i=this;n.prototype.onIsDroppedDownChanged.call(this,e),setTimeout(function(){if(i.isDroppedDown&&i.containsFocus())if(i.showFilterInput&&!i.isTouching)i._msLbx._filter.focus();else{var r=i.listBox;if(r.selectedIndex<0){var o=0,s=r.checkedItems;s.length&&(o=r.collectionView.items.indexOf(s[0])),r.selectedIndex=Math.max(0,o)}r.showSelection(!0),r.focus()}})},t.prototype.onLostFocus=function(){this._msLbx.onLostFocus(),this.isDroppedDown=!1,n.prototype.onLostFocus.call(this)},t.prototype._createDropDown=function(){var e=this,i=Ct("<div></div>",this._dropDown);this._msLbx=new cy(i),this._lbx=this._msLbx.listBox,this._lbx.itemsChanged.addHandler(function(){e.isDroppedDown&&e.refresh()}),n.prototype._createDropDown.call(this)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=N(e),qe(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._updateHeader()},t.prototype._setText=function(e,i){},t.prototype._keydown=function(e){this.isDroppedDown&&e.altKey&&(38===e.keyCode||40===e.keyCode)&&this.showFilterInput?(this.isDroppedDown=!1,e.preventDefault()):(n.prototype._keydown.call(this,e),gt(this._tbx,"wj-grid-ime")||!e.defaultPrevented&&Pn(this.collectionView)&&e.keyCode>32&&123!==e.keyCode&&(this.isDroppedDown=!0))},t.prototype._hasItems=function(){var e=this.collectionView,i=e?e.sourceCollection:null;return Pn(e)||i&&i.length&&this.showFilterInput},t.prototype._updateHeader=function(e,i){void 0===e&&(e=!0),void 0===i&&(i=!0);var r="";if(Ge(this._hdrFormatter))r=this._hdrFormatter(this);else{var o=this.checkedItems,s=[];if(this.displayMemberPath){var a=new At(this.displayMemberPath);s=o.reduce(function(h,d){return h.find(function(f){return a.getValue(f)===a.getValue(d)})||h.push(d),h},[]),o=s}if(o.length>0)if(o.length<=this._maxHdrItems){if(this.headerPath){var l=new At(this.headerPath);o=o.map(function(h){return l.getValue(h)})}else if(this.displayMemberPath){var u=new At(this.displayMemberPath);o=o.map(function(h){return u.getValue(h)})}this.isContentHtml&&(o=o.map(function(h){return qi(h)})),this.trimText&&(o=o.map(function(h){return h?h.toString().trim():""})),r=o.join(", ")}else r=pr(this.headerFormat||ft.MultiSelect.itemsSelected,{count:o.length})}var c=this.inputElement;r!=c.value&&(c.value=r,this.onTextChanged()),e&&this._lbx._updateCheckedList(this.checkedItems),this._updateState()},t._DEF_CHECKED_PATH="$checked",t}(Ul),GT=function(n){function t(e,i){var r=n.call(this,e)||this;r._closing=!1,r._cmd=null,r._cmdPath=null,r._cmdParamPath=null,r._subPath=null,r._owner=null,r._isButton=!1,r._openOnHover=!1,r._closeOnLeave=!0,r._subMenu=null,r._hoverEnterBnd=r._hoverEnter.bind(r),r._hoverLeaveBnd=r._hoverLeave.bind(r),r._hoverOverBnd=r._hoverOver.bind(r),r.itemClicked=new k;var o=r.hostElement,s=r._tbx,a=r._lbx,l=r.dropDown;return Me(o,"wj-menu"),s.style.display="none",r._hdr=r._elRef=Ct('<div wj-part="header" class="wj-form-control"/>'),s.parentElement.insertBefore(r._hdr,r._tbx),o.tabIndex=r.isDisabled?-1:r._orgTabIndex,r.isRequired=!1,$(o,"role","menubar",!0),$(s,"role",null),$(s,"aria-autocomplete",null),$(s,"aria-owns",null),$(l,"role","menu"),a.itemRole="menuitem","SELECT"==r._orgTag&&(r.header=o.getAttribute("header"),r._lbx.itemsSource&&(r.commandParameterPath="cmdParam")),r.isContentHtml=!0,r.maxDropDownHeight=500,r.addEventListener(r._hdr,"click",function(u){u.defaultPrevented||(r._clearHover(u),r._isButton?(r.isDroppedDown=!1,r._raiseCommand()):r.isDroppedDown=!r.isDroppedDown)}),a.lostFocus.addHandler(function(){r.containsFocus()||(r.isDroppedDown=!1)}),Me(l,"wj-menu-items"),a.formatItem.addHandler(r._formatMenuItem.bind(r)),r.initialize(i),r}return Nn(t,n),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){e!=this._subPath&&(this._subPath=e,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(e){this._openOnHover=N(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(e){this._closeOnLeave=N(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=Pe(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(e){if(!this.isDroppedDown){var i=this._lbx._ignoredItemChangedEvents;if(this._lbx._ignoredItemChangedEvents=!0,this.selectedIndex=-1,this._lbx._ignoredItemChangedEvents=i,this.onIsDroppedDownChanging(new zt)){var r=this.dropDown,o=this.owner;!o&&e instanceof MouseEvent&&(o=e.target),o instanceof HTMLElement&&(r[z._OWNR_KEY]=o),e instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(e=new T(e.pageX-pageXOffset-2,e.pageY-pageYOffset-2)),eo(r,e,!1,this.isAnimated),this.onIsDroppedDownChanged(),r.focus()}}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new zt)&&(jr(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._enableDisableItems()},t.prototype.onIsDroppedDownChanged=function(e){if(n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown){this._closing=!0;var i=this._lbx._ignoredItemChangedEvents;this._lbx._ignoredItemChangedEvents=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this._lbx._ignoredItemChangedEvents=i,this.dropDown.focus()}else{if(!this.selectedItem){var r=this._lbx._checking;this._lbx._checking=!0,this.selectedItem=this._defaultItem,this._lbx._checking=r}var o=this._subMenu;o&&(o.isDroppedDown=!1)}},t.prototype._updateHoverEvents=function(){var e=this.hostElement,i=this.dropDown,r=this.addEventListener.bind(this),o=this.removeEventListener.bind(this),s="mouseleave";o(e,"mouseenter",this._hoverEnterBnd),o(e,s,this._hoverLeaveBnd),o(i,"mouseover",this._hoverOverBnd),o(i,s,this._hoverLeaveBnd),this._openOnHover&&(r(e,"mouseenter",this._hoverEnterBnd),r(i,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(r(e,s,this._hoverLeaveBnd),r(i,s,this._hoverLeaveBnd)))},t.prototype._getSubItems=function(e){var i=this.subItemsPath,r=e&&i?e[i]:null;return Rt(r)&&r.length?r:null},t.prototype._formatMenuItem=function(e,i){var r=i.item;this._getSubItems(i.data)?Me(r,"wj-subitems"):"-"==r.innerHTML&&(r.innerHTML="",Me(r,"wj-separator"))},t.prototype._keydown=function(e){if(!e.defaultPrevented){var i=this._getKeyCode(e);if(this.isDroppedDown)switch(i){case A.Enter:case A.Right:if(this._showSubMenu())return void e.preventDefault();break;case A.Left:var r=z.getControl(this.owner);if(r instanceof t){var o=r.dropDown,s=r.selectedIndex;return(s>-1?o.children[s]:o).focus(),void e.preventDefault()}}i==A.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,e.preventDefault()))}n.prototype._keydown.call(this,e)},t.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){if(this._clearHover(e),this._showSubMenu())return void e.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}n.prototype._dropDownClick.call(this,e)},t.prototype._showSubMenu=function(){var e=this,i=this._getSubItems(this.selectedItem);if(!i)return null;var r=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new T(r.right,r.top);if(0==r.height)return null;var s=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");s&&(o.x=r.left);var a=this._subMenu;a&&(a.isDroppedDown=!1),a=new t(document.createElement("div"),{owner:this.hostElement,itemsSource:i,itemClicked:function(h,d){e.itemClicked.raise(h,d)},formatItem:function(h,d){e.formatItem.raise(h,d)}});var l=this.collectionView,u=a.collectionView;l&&l.filter&&u&&!u.filter&&(u.filter=l.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach(function(h){a[h]=e[h]});var c=a.dropDown;return $(c,"dir",s?"rtl":null),a.show(o),c[z._OWNR_KEY]=this.dropDown,c.focus(),a},t.prototype._raiseCommand=function(e){var i=this.selectedItem,r=this._getSubItems(i),o=this._getCommand(i);if(o&&!r){var s=this._getCommandParm(i);if(!this._canExecuteCommand(o,s))return;this._executeCommand(o,s)}var a=this.headerPath;if(a){var l=new At(a).getValue(i);l=null==l?"":l.toString(),this.header=this.isContentHtml?l:Qr(l)}if(this.onItemClicked(e),this.containsFocus()){for(var u=this;u&&u.owner;){var c=z.getControl(u.owner);if(!(c instanceof t))break;u=c}var h=u.owner;if(!h&&u.dropDown&&(h=u.dropDown[z._OWNR_KEY]),u.isDroppedDown=!1,u.focus(),!u.containsFocus()&&h instanceof HTMLElement&&h.offsetHeight)if(pt){var d=document.documentElement,f=d.scrollLeft,p=d.scrollTop;h.focus(),d.scrollLeft=f,d.scrollTop=p}else h.focus()}},t.prototype._getCommand=function(e){return(e&&this._cmdPath?e[this._cmdPath]:null)||this._cmd},t.prototype._getCommandParm=function(e){var i=this._cmdParamPath;return e&&i?e[i]:e},t.prototype._executeCommand=function(e,i){e&&!Ge(e)&&(e=e.executeCommand),Ge(e)&&e(i)},t.prototype._canExecuteCommand=function(e,i){if(e){var r=e.canExecuteCommand;if(Ge(r))return r(i)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var e=this.collectionView.items,i=0;i<e.length;i++){var r=e[i],o=this._getCommand(r);if(o){var s=this._lbx.hostElement.children[i],a=this._getCommandParm(r);qe(s,"wj-state-disabled",!this._canExecuteCommand(o,a))}}},t.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover),this._toHover=null,t._evtHover=e},t.prototype._isTargetDisabled=function(e){return gt(e.target,"wj-state-disabled")},t.prototype._hoverEnter=function(e){var i=this;this._clearHover(e),this._toHover=setTimeout(function(){i._toHover=null,i.isDroppedDown=!0},z._HOVER_DELAY)},t.prototype._hoverOver=function(e){var i=this;this._clearHover(e),this._toHover=setTimeout(function(){i._toHover=null;var r=i.listBox.indexOf(e.target);r>-1&&!gt(e.target,"wj-state-disabled")&&(i.selectedIndex=r,i._subMenu=i._showSubMenu())},z._HOVER_DELAY)},t.prototype._hoverLeave=function(e){var i=this;this._clearHover(e),this.isDroppedDown&&(this._toHover=setTimeout(function(){var r=(e=t._evtHover)?document.elementFromPoint(e.clientX,e.clientY):null,o=be(r,".wj-listbox.wj-menu-items"),s=i._subMenu;!o&&!je(i.hostElement,r,!0)&&(i.isDroppedDown=!1,s&&(s.isDroppedDown=!1))},z._LEAVE_DELAY))},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},t.prototype._setTabOrder=function(e){n.prototype._setTabOrder.call(this,e),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},t}(Ul),fy=function(n){function t(e,i){var r=n.call(this,e)||this;if(r._format="t",r.valueChanged=new k,Me(r.hostElement,"wj-inputtime"),r.isEditable=!0,r._value=Ce.newDate(),r._min=r._max=null,r._msk=new Rl(r._tbx),Zo()||(r._tbx.type="tel"),"INPUT"==r._orgTag){var o=r._tbx.getAttribute("value");o&&(r.value=Se.parseDate(o,"HH:mm:ss"))}return r.step=15,r.autoExpandSelection=!0,r.initialize(i),r._commitText(),r}return Nn(t,n),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=U(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){(e=yi(e,!this.isRequired))&&(e=this._clamp(e)),this._setText(e?Se.format(e,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(e=Ce.fromDateTime(e,this.selectedItem.value)),e!=this._value&&!Ce.equals(e,this._value)&&(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this.text||!this.isRequired)&&(this._setText(e,!0),this._commitText()),!this.text&&this.isRequired&&(this.selectedIndex=this._oldIndexToBeRestoredOnBlur<0?0:this._oldIndexToBeRestoredOnBlur)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=yi(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=yi(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this.step&&(this._step=F(e,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=U(e),this._tbx.value=Se.format(this.value,this.format),Pn(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=U(e)},enumerable:!0,configurable:!0}),t.prototype.onLostFocus=function(){n.prototype.onLostFocus.call(this)},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onItemsSourceChanged=function(e){n.prototype.onItemsSourceChanged.call(this,e),this._hasCustomItems=null!=this.itemsSource},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._msk.refresh(),this._tbx.value=Se.format(this.value,this.format),this._updateItems())},t.prototype.onSelectedIndexChanged=function(e){if(this.selectedIndex>-1&&!this._settingText){var i=this.value?this.value:Ce.newDate(),r=null!=this.selectedItem.value?this.selectedItem.value:Se.parseDate(this.text,this.format,this.value);this.value=Ce.fromDateTime(i,r)}n.prototype.onSelectedIndexChanged.call(this,e)},t.prototype._clamp=function(e){return null!=this._min&&this._getTime(e)<this._getTime(this._min)&&(e=Ce.fromDateTime(e,this._min)),null!=this._max&&this._getTime(e)>this._getTime(this._max)&&(e=Ce.fromDateTime(e,this._max)),e},t.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&J(this.step)&&this.step>0){var i=Ce.addMinutes(this.value,this.step*Ne(e.deltaY,-1,1));this.value=this._clamp(i),this.selectAll(),e.preventDefault()}n.prototype._wheel.call(this,e)},t.prototype._updateInputSelection=function(e){if(this._delKey)n.prototype._updateInputSelection.call(this,e);else{for(var i=this._tbx.value;e<i.length&&!i[e].match(/[a-z0-9]/i);)e++;st(this._tbx,e,this._tbx.value.length)}},t.prototype._updateItems=function(){if(!this._hasCustomItems){var e=[],i=new Date(2020,0),r=new Date(2020,0,1,23,59,59),o=this.step;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),J(o)&&o>=1)for(var s=i;s<=r;s=Ce.addMinutes(s,o))e.push({value:s,text:Se.format(s,this.format)});var a=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=e,this._hasCustomItems=!1,this._settingText=!1,!a&&this.isRequired||(this.value=a)}},t.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},t.prototype._keydown=function(e){if(n.prototype._keydown.call(this,e),!e.defaultPrevented)switch(e.keyCode){case A.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case A.Escape:this.text=Se.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var e=this.value?Se.format(this.value,this.format):"";if(this.text!=e){var i=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:Se.parseDate(this.text,this.format,this.value);i?(Ce.sameTime(i,this._clamp(i))||this.onInvalidInput(new zt))&&(this.value=Ce.fromDateTime(this.value,i)):this.onInvalidInput(new zt)&&(this.text=e)}}else this.value=null},t.prototype._copy=function(e,i){return"text"===e&&((i||"").toString()!==this.text&&this._setText(i,!0),!0)},t}(Ul);Ts("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var UT=function(n){function t(e,i){var r=n.call(this,e)||this;Me(r.hostElement,"wj-inputdatetime");var o=ft.InputDateTime.ariaLabels;An(r._btn,o.tglDate),An(r._btnTm,o.tglTime),r.value=new Date,r.format="g",r._inputTime=new fy(document.createElement("div"),{valueChanged:function(l){var u=r.rangeEnd;r.value=Ce.fromDateTime(r.value,l.value),r.calendar._rngMode()&&u&&(r.rangeEnd=Ce.fromDateTime(u,l.value))},isDroppedDownChanged:function(l){l.listBox.containsFocus()&&r.inputElement.focus(),r._selectAll()}});var s=r.addEventListener.bind(r);r._btnTm=r.hostElement.querySelector('[wj-part="btn-tm"]'),s(r._btnTm,"mousedown",function(l){r._btnclick(l)}),r._ddDate=r._dropDown;var a=r._ddTime=r._inputTime.dropDown;return s(a,"keydown",r._keydown.bind(r),!0),s(a,"blur",function(){r._updateFocusState()},!0),s(a,"click",function(l){l.defaultPrevented||l.target!=a&&r.hostElement.focus()},!0),r.initialize(i),r._commitText(),r}return Nn(t,n),Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(e){this._inputTime.step=e,this._btnTm.style.display=J(e)&&e>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype._fromDateTime=function(e){return e},t.prototype._btnclick=function(e){var i=be(e.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(i),n.prototype._btnclick.call(this,e)},t.prototype.dispose=function(){this._setDropdown(this._ddDate),n.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(e){void 0===e&&(e=!0),this._inputTime.refresh(),n.prototype.refresh.call(this,e)},t.prototype._updateBtn=function(){n.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var i=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=e,this.dropDownCssClass=i,!0},t.prototype._updateDropDown=function(){var e=this._inputTime;this._dropDown==e.dropDown?(this._commitText(),n.prototype._updateDropDown.call(this),e.isRequired=this.isRequired&&null!=this.value,e.value=this.value,this.isDroppedDown&&e.listBox.showSelection()):n.prototype._updateDropDown.call(this)},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(Tf),py=function(n){function t(e,i){var r=n.call(this,e)||this;return r._cssMatch="wj-state-match",r._minLength=2,r._maxItems=6,r._itemCount=0,r._beginsWith=!1,r._delay=z._SEARCH_DELAY,r._query="",r._inCallback=!1,r._srchProps=[],r._oldSelectedIndex=-1,Me(r.hostElement,"wj-autocomplete"),r._bsCollapse=!1,r.isEditable=!0,r.isRequired=!1,r.listBox.formatItem.addHandler(r._formatListItem,r),r._itemsSourceFnCallbackBnd=r._itemSourceFunctionCallback.bind(r),r.initialize(i),r}return Nn(t,n),Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=F(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(e){this._beginsWith=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=F(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=F(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=U(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=Ot(e),Ge(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=U(e)},enumerable:!0,configurable:!0}),t.prototype.onSelectedIndexChanged=function(e){this._settingText||n.prototype.onSelectedIndexChanged.call(this,e)},t.prototype._keydown=function(e){if(!e.defaultPrevented&&this.isDroppedDown)switch(e.keyCode){case A.Up:case A.Down:this.selectAll()}n.prototype._keydown.call(this,e)},t.prototype._setText=function(e){var i=this;if(this.trimText&&!this.containsFocus()&&"string"==typeof e&&(e=e.trim()),this._composing&&e!=this._oldText&&(this._oldText=e,this.onTextChanged()),!this._inCallback&&!this._settingText){if(this._toSearch||(this._oldSelectedIndex=this.selectedIndex),this.selectedIndex>-1&&this.getDisplayText()!=e&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),this._toSearch&&clearTimeout(this._toSearch),e!=this._oldText){"string"!=typeof e&&(e="");var r=this._tbx,o=this._tbx.selectionStart;r.value!=e&&(r.value=e),this._isWheel&&this.containsFocus()&&this._updateInputSelection(o),this._oldText=e,this.onTextChanged();var s=this.collectionView;if(!e&&s){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,s.filter=null;var a=this.itemsSourceFunction;if(Ge(a)&&(this.isDroppedDown=!1,a(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)),this.isRequired&&!this.containsFocus()){var l=this._oldSelectedIndex>-1?this._oldSelectedIndex:0;this.selectedIndex=l}return void(-1==this.selectedIndex&&-1!=this._oldSelectedIndex&&this.onSelectedIndexChanged())}}if(e!=this.getDisplayText()){if(!this.containsFocus()&&this.trimText&&(this.isRequired&&!this.text.trim().length?this.selectedIndex=l=this._oldSelectedIndex>-1?this._oldSelectedIndex:0:this._tbx.value=this._tbx.value.trim()),!this.containsFocus()&&e.length<this.minLength)return;!this.containsFocus()&&(!e||this.trimText&&!this.text.trim().length||this.indexOf(e,!0)<0&&this.indexOf(e,!1)<0)&&this.isRequired&&!this.isEditable?this.selectedIndex=l=this._oldSelectedIndex>-1?this._oldSelectedIndex:0:!this.containsFocus()&&e&&this.indexOf(e,!0)<0&&this.indexOf(e,!1)<0&&!this.isRequired&&!this.isEditable?(this._tbx.value="",this.selectedIndex=-1,this.onSelectedIndexChanged()):this._toSearch=setTimeout(function(){i._toSearch=null;var u=i.text;if(u.trim().length>=i._minLength&&u!=i._query){i._query=u.trim();var c=Qr((u=mv(u)).trim()),h=i.caseSensitiveSearch?"":"i";i._beginsWith||(h+="g"),i._rxSrch=i._beginsWith?new RegExp("^"+u+".*",h):new RegExp("(?=.*"+u.replace(/ /g,")(?=.*")+")",h),i._rxHighlight=i._beginsWith?new RegExp("^"+u,h):new RegExp("("+c.replace(/\s+/g,"|")+")",h);var d=i.itemsSourceFunction;Ge(d)?d(i._query,i.maxItems,i._itemsSourceFnCallbackBnd):i._updateItems()}!e.trim().length&&!i.isEditable&&i.indexOf(e,!0)<0&&(i.selectedIndex=-1),-1==i.selectedIndex&&-1!=i._oldSelectedIndex&&i.onSelectedIndexChanged()},this._delay)}}},t.prototype.onLostFocus=function(e){var i=!1;if(this.isRequired&&!this.isEditable&&this.text&&this.text.length>=this.minLength){i=!0;var r=this.indexOf(this.text,!0);r<0&&(r=this.indexOf(this.text,!1)),r>-1&&(this._oldSelectedIndex=r),r<0&&(this._oldSelectedIndex=0)}if(this._toSearch){clearTimeout(this._toSearch);var o=this._delay;this._delay=0,this._setText(this.text),this.delay=o,i=!1}n.prototype.onLostFocus.call(this,e,this._oldSelectedIndex,i)},t.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var i=Is(e||[]);if(i.moveCurrentToPosition(-1),this.itemsSource=i,this._inCallback=!1,this.containsFocus()){var r=this._tbx,o=r.selectionStart,s=r.selectionEnd,a=this.collectionView;this.isDroppedDown=null!=a&&a.items.length>0,st(r,o,s),this.refresh()}},t.prototype.onIsDroppedDownChanged=function(e){if(n.prototype.onIsDroppedDownChanged.call(this,e),this.containsFocus()&&!this.isTouching){var i=this.collectionView;if(this.selectedIndex<0&&i){var r=i.items,o=this.text;1==r.length&&r[0]==o?this.selectedIndex=0:st(this._tbx,o.length)}}this._query=""},t.prototype._updateItems=function(){var e=this.collectionView;if(e){this._inCallback=!0,e.beginUpdate(),this._itemCount=0,e.filter=this._filter.bind(this),e.moveCurrentToPosition(-1),e.endUpdate(),this._inCallback=!1;var i=e.items.length,r=this._tbx,o=r.selectionStart,s=r.selectionEnd;if(this.text.trim()||(i=0),this.isDroppedDown=i>0&&this.containsFocus(),i||this.isEditable||(this.selectedIndex=-1),1==i&&this.selectedIndex<0){var a=this._getItemText(e.items[0],!1),l=r.value;this.caseSensitiveSearch||(a=a.toLowerCase(),l=l.toLowerCase()),(a==l||this.trimText&&a.trim()==l)&&(this.selectedIndex=0)}this.isDroppedDown&&st(r,o,s),this.refresh()}},t.prototype._filter=function(e){if(this._itemCount>=this._maxItems&&this._query)return!1;var i=[this._getItemText(e,!1)];this._srchProps&&this._srchProps.forEach(function(o){var s=e[o];null!=s&&i.push(s)}),this.isContentHtml&&(i=i.map(function(o){return o.replace(/(<[^>]*>|&[^;]*;)/g,"")}));for(var r=0;r<i.length;r++)if(this._rxSrch.test(i[r]))return this._itemCount++,!0;return!1},t.prototype._getItemText=function(e,i){var r=e?e.toString():"",o=i&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return o&&(r=null!=(r=o.getValue(e))?r.toString():""),r},t.prototype._formatListItem=function(e,i){var r=this;this._cssMatch&&this._rxHighlight&&this._query&&(i.item.innerHTML=i.item.innerHTML.replace(this._rxHighlight,function(o,s,a,l){return r._enclosed(l,a,"<",">")||r._enclosed(l,a,"&",";")?o:'<span class="'+r._cssMatch+'">'+o+"</span>"}))},t.prototype._enclosed=function(e,i,r,o){for(var s=i;s>=0&&e[s]!=o;s--)if(e[s]==r)for(var a=i;a<e.length&&e[a]!=r;a++)if(e[a]==o)return!0;return!1},t.prototype._wheel=function(e){n.prototype._wheel.call(this,e)},t}(Ul),$T=function(n){function t(e,i){var r=n.call(this,e)||this;return r._selItems=[],r._maxSelItems=null,r._lastInputValue="",r._selPath=new At(null),r._notAddItm=!1,r.selectedItemsChanged=new k,Me(r.hostElement,"wj-multi-autocomplete"),r._wjTpl=r.hostElement.querySelector(".wj-template"),r._wjInput=r.hostElement.querySelector(".wj-input"),r.showDropDownButton=!1,r.initialize(i),r.addEventListener(r.hostElement,"keyup",r._keyup.bind(r),!0),r.addEventListener(window,"resize",r._adjustInputWidth.bind(r)),r.addEventListener(r._tbx,"focus",function(){r._itemOff()}),r._addHelperInput(),r._initSeltems(),r.listBox.itemsChanged.addHandler(function(){return r.selectedIndex=-1}),r._refreshHeader(),r._updateTabIndex(),r}return Nn(t,n),Object.defineProperty(t.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(e){this._maxSelItems!=e&&(this._maxSelItems=F(e,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(e){(e=U(e))!==this.selectedMemberPath&&(this._selPath.path=e,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selItems},set:function(e){e=Array.from(new Set(e));var i=this._selItems===e;if(i||null==this._selItems||null==e||this._selItems.length!==e.length||(i=this._selItems.every(function(s,a){return s===e[a]})),this._selItems=Dn(e),!i){if(this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var r=0;r<this._selItems.length;r++)this._setSelItem(this._selItems[r],!1);this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()}},enumerable:!0,configurable:!0}),t.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,n.prototype.onIsDroppedDownChanged.call(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},t.prototype._keydown=function(e){if(!this.isReadOnly){if(!e.defaultPrevented)switch(e.keyCode){case A.Back:this._lastInputValue=this._tbx.value;break;case A.Enter:this._itemOff(),this._addItem(!0),pt()&&st(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case A.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,this.isDroppedDown=!1,this.containsFocus()||this.focus(),e.preventDefault()):this._updateFocus();break;case A.Space:if(""!==this._tbx.value)return;!this.isDroppedDown&&!this._tbx.disabled&&(this.isDroppedDown=!0,this._clearSelIndex());break;case A.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case A.Left:this._itemOn(!this.rightToLeft);break;case A.Right:this._itemOn(!!this.rightToLeft);break;case A.Up:case A.Down:var i=nt();if(e.altKey){if(this._tbx==i)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void e.preventDefault()}else if(this._tbx!==i)return;default:if(e.keyCode===A.Back||e.keyCode===A.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&e.preventDefault()}this._tbx.disabled||n.prototype._keydown.call(this,e)}},t.prototype._updateState=function(){n.prototype._updateState.call(this),this._wjTpl&&(gt(this.hostElement,"wj-state-focused")||this._itemOff())},t.prototype._keyup=function(e){if(!this.isReadOnly&&!e.defaultPrevented)switch(e.keyCode){case A.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case A.Delete:this._delItem(!0)}},t.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},t.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),i=0;i<e.length;i++)this._wjTpl.removeChild(e[i]);var r=this.selectedItems;if(r&&0!==r.length){for(i=0;i<r.length;i++)this._insertToken(r[i]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},t.prototype._insertToken=function(e){var i=this._getItemText(e,!0);this.isContentHtml||(i=Qr(i)),this._wjTpl.insertBefore(this._createItem(i),this._wjInput)},t.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},t.prototype._updateFocus=function(){var e=this,i=this._wjTpl.querySelector("."+t._clsActive);i?(ui(i,t._clsActive),setTimeout(function(){e._tbx.focus()})):this._clearSelIndex()},t.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},t.prototype._delItem=function(e){var i,r,o=this._wjTpl.querySelector("."+t._clsActive),s=!1;(!e||o)&&(o?(r=this._getItemIndex(o))>-1&&(i=this._selItems[r],s=!0):this._selItems.length>0&&(i=this._selItems[this._selItems.length-1],s=!0),s&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},t.prototype._updateSelItems=function(e,i){if(i){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var r=this._selItems.indexOf(e);this._selItems.splice(r,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,i),this.onSelectedItemsChanged()},t.prototype._createItem=function(e){var i=this,r=document.createElement("div"),o=document.createElement("span"),s=document.createElement("a");return r.appendChild(o),r.appendChild(s),r.className="wj-token",o.className="wj-token-label",o.innerHTML=e,s.className="wj-token-close",s.href="#",s.tabIndex=-1,s.text="\xd7",r.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(r,"click",function(a){i._helperInput.focus();var l=i._wjTpl.querySelector("."+t._clsActive);l&&ui(l,t._clsActive),Me(r,t._clsActive),a.stopPropagation(),a.preventDefault()}),this.addEventListener(s,"click",function(a){if(!i.isReadOnly){var l=i._getItemIndex(r);l>-1&&i._updateSelItems(i._selItems[l],!1),i._wjTpl.removeChild(r),i._adjustInputWidth(),i._disableInput(!1),i._tbx.focus(),a.stopPropagation(),a.preventDefault()}}),r},t.prototype._itemOn=function(e){var i,r,o,s=nt();if((this._tbx!=s||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length)if(r=this._wjTpl.querySelector("."+t._clsActive),o=this._getItemIndex(r),e){if(0===o)return;-1===o?(Me(i[i.length-1],t._clsActive),this._helperInput.focus()):(ui(r,t._clsActive),Me(i[o-1],t._clsActive),this._helperInput.focus())}else if(!e){if(-1===o)return;o!==i.length-1?(ui(r,t._clsActive),Me(i[o+1],t._clsActive),this._helperInput.focus()):(ui(r,t._clsActive),this._tbx.focus())}},t.prototype._itemOff=function(){var e=this._wjTpl.querySelector("."+t._clsActive);e&&ui(e,t._clsActive)},t.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var i=0;i<e.sourceCollection.length;i++)this._getSelItem(i)&&this._selItems.push(e.sourceCollection[i])}},t.prototype._getSelItem=function(e){var i=this.collectionView,r=i?i.sourceCollection[e]:null;return!(!li(r)||!this.selectedMemberPath)&&this._selPath.getValue(r)},t.prototype._setSelItem=function(e,i){li(e)&&this._selPath.getValue(e)!=i&&this._selPath.setValue(e,i)},t.prototype._clearSelIndex=function(){this.selectedIndex=-1},t.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},t.prototype._disableInput=function(e){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},t.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var i=Ki(this.hostElement),r=Ki(this._tbx),o=getComputedStyle(this._tbx),s=parseInt(o.paddingLeft,10),a=parseInt(o.paddingRight,10);this._tbx.style.width=(this.rightToLeft?r.left+r.width-i.left-s-a-8:i.left+i.width-r.left-s-a-8)+"px"},t.prototype._getItemIndex=function(e){for(var i=this.hostElement.querySelectorAll(".wj-token"),r=0;r<i.length;r++)if(e===i[r])return r;return-1},t.prototype._setIsDisabled=function(e){n.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.hostElement;this._tbx.tabIndex=this.isDisabled?-1:this._orgTabIndex,e.tabIndex=-1},t._clsActive="wj-token-active",t}(py);Ms("wijmo.input",Xf);var qT,Ci,vr=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YT=null;function XT(){return YT}if(Ko()){var gy=navigator.userAgent.match(/version\/([\d\.]+)/i);if(null!=gy){var KT=gy[1],ZT=(gy=KT.match(/(\d+)/g)).map(function(n){return parseInt(n)});YT={full:KT,major:ZT[0],minor:ZT[1]}}}!function(n){n[n.AutoComplete=0]="AutoComplete",n[n.DropDownList=1]="DropDownList",n[n.RadioButtons=2]="RadioButtons",n[n.Menu=3]="Menu"}(Ci||(Ci={}));var H,my=function(){function n(t,e,i){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this._serK=!0,this._useFilter=!1,this.mapChanged=new k,Rt(t)&&!e&&!i&&(t=t.map(function(r){return{value:r}}),e=i="value"),this._cv=Is(t),this._keyPath=U(e,!1),this._displayPath=U(i,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(n.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(t){this._sortByVal=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serializeKeys",{get:function(){return this._serK},set:function(t){if((t=N(t))!==this._serK){var e=this._map,i=e&&e.size;this._map=null,this._serK=t,i&&this.onMapChanged(Do.empty)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),n.prototype.getDataItem=function(t){var e=this;if(!this._map){var i=this._cv.sourceCollection,r=new _M(this.serializeKeys);Rt(i)&&this._keyPath&&i.forEach(function(o){var s=o[e._keyPath];r.has(s)||r.set(s,o)}),this._map=r}return this._map.get(t)},n.prototype.getDisplayValue=function(t){var e=this._displayPath,i=this.getDataItem(t);return e&&i?i[e]:t},n.prototype.getKeyValue=function(t,e){var i=this._displayPath,r=this._indexOf(t,i,e,!0);return r<0&&(r=this._indexOf(t,i,e,!1)),r>-1?this._cv.sourceCollection[r][this._keyPath]:null},n.prototype.getDisplayValues=function(t){var e=this;return this._cv&&this._displayPath?this._cv.items.map(function(i){return i[e._displayPath]}):[]},n.prototype.getFilteredItems=function(t){return this._cv?this._cv.items:[]},Object.defineProperty(n.prototype,"useFilter",{get:function(){return this._useFilter},set:function(t){this._useFilter=N(t)},enumerable:!0,configurable:!0}),n.prototype.getKeyValues=function(){var t=this;return this._cv&&this._keyPath?this._cv.items.map(function(e){return e[t._keyPath]}):[]},Object.defineProperty(n.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"search",{get:function(){return this._search},set:function(t){t&&(this._search=Ot(t))},enumerable:!0,configurable:!0}),n.prototype.onMapChanged=function(t){this._map=null,this.mapChanged.raise(this,t)},n.prototype._indexOf=function(t,e,i,r){var o=-1,s=-1;if(this._cv&&e){var a=null!=t?t.toString():"";a&&i&&(t=qi(a));for(var l=r?a:a.toLowerCase(),u=this._cv.sourceCollection,c=0;c<u.length;c++){var h=u[c],d=h?h[e]:void 0;if(null!=d&&null!=d||(d=""),i&&xe(d)&&(d=qi(d)),d==t?o=c:r||d.length!=l.length||d.toLowerCase()!=l?null!=d&&d.toString()==a&&(o=c):o=c,o==c){if(!this._cv.filter||this._cv.filter(h))return o;s<0&&(s=o)}}}return s},n}(),ne=function(){function n(t,e,i,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===r&&(r=e),this.setRange(t,e,i,r)}return n.prototype.setRange=function(t,e,i,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===r&&(r=e),this._row=Xt(t),this._col=Xt(e),this._row2=Xt(i),this._col2=Xt(r)},Object.defineProperty(n.prototype,"row",{get:function(){return this._row},set:function(t){this._row=Xt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col",{get:function(){return this._col},set:function(t){this._col=Xt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=Xt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=Xt(t)},enumerable:!0,configurable:!0}),n.prototype.clone=function(){return new n(this._row,this._col,this._row2,this._col2)},n.prototype.copy=function(t){this.setRange(t._row,t._col,t._row2,t._col2)},Object.defineProperty(n.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),n.prototype.contains=function(t,e){var i=Tn(t,n);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(tf(t)&&tf(e))return t>=this.topRow&&t<=this.bottomRow&&e>=this.leftCol&&e<=this.rightCol;throw"contains expects a CellRange or row/column indices."},n.prototype.containsRow=function(t){return Xt(t)>=this.topRow&&t<=this.bottomRow},n.prototype.containsColumn=function(t){return Xt(t)>=this.leftCol&&t<=this.rightCol},n.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},n.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},n.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},n.prototype.getRenderSize=function(t){var e=new Ke(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)t.rows[i]&&(e.height+=t.rows[i].renderSize);for(var r=this.leftCol;r<=this.rightCol;r++)t.columns[r]&&(e.width+=t.columns[r].renderSize)}return e},n.prototype.equals=function(t){return t instanceof n&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},n.prototype.combine=function(t){return t?new n(Math.min(this.topRow,t.topRow),Math.min(this.leftCol,t.leftCol),Math.max(this.bottomRow,t.bottomRow),Math.max(this.rightCol,t.rightCol)):this},n.prototype.toString=function(){return pr("({row}, {col})-({row2}, {col2})",this)},n}();!function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.TopLeft=4]="TopLeft",n[n.ColumnFooter=5]="ColumnFooter",n[n.BottomLeft=6]="BottomLeft"}(H||(H={}));var at,$l,Ao,ki=function(){function n(t,e,i,r,o){this._offsetY=0,this._rng=new ne,this._g=Pe(t,wr),this._ct=Xt(e),this._rows=Pe(i,Hc),this._cols=Pe(r,Of),this._e=Pe(o,HTMLElement),this._vrb=new ne,this._uid=xc()}return Object.defineProperty(n.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),n.prototype.getCellData=function(t,e,i){var r,o=this._g,s=this._rows[F(t,!1,!0)],a=null;if(!s)return null;e=this._toIndex(e),r=this._cols[F(e,!1,!0)];var l=o?o._getBindingColumn(this,t,r):r,u=null,c=s instanceof tn;if(c&&s.dataItem instanceof Nr&&!o.childItemsPath&&(u=s.dataItem),l.binding&&s.dataItem&&!u?a=l._binding.getValue(s.dataItem):s._ubv&&(a=s._ubv[r._hash]),null==a&&(a=this._getSpecialData(t,s,e,r,l,c,u)),i){var h=l.dataMap||s.dataMap;if(this.cellType==H.Cell&&l._edt&&l._edt._ctl instanceof Pf&&a){var d=new At(l._edt._ctl.displayMemberPath),f=d&&Rt(a)?a.map(function(g){return d.getValue(g)}):a;Rt(f)&&f.length>0&&(a=pr(f.join(", ")||ft.MultiSelect.itemsSelected,{count:f.length}))}else this.cellType==H.Cell&&h&&(a=h.getDisplayValue(a));a=null!=a?Se.format(a,l.format||s.format):""}return a},n.prototype.setCellData=function(t,e,i,r,o,s){void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===s&&(s=!1);var a=this._g,l=this._rows[F(t,!1,!0)],u=this._cols[F(this._toIndex(e),!1,!0)],c=ze;if(!l)return!1;var h=a?a._getBindingColumn(this,t,u):u,d=h.dataMap||l.dataMap;if(this._ct==H.Cell){var f=h.getIsRequired(l);if(!s&&d&&null!=i){var g=d.getKeyValue(i,h.isContentHtml||l.isContentHtml);if(null==g&&null==d.getDisplayValue(null)){if(d.getDisplayValue(i)==i&&(!d.isEditable||d.displayMemberPath!=d.selectedValuePath)){if(""!=i||f||!a.commitEmptyEdits)return!1;i=null}}else i=g}var m,_=h.dataType||l.dataType,v=this.getCellData(t,e,!1);if(this.cellType==H.Cell&&h._edt&&h._edt._ctl instanceof Pf&&i&&(_=c.Array),m=_||Es(v),null==i||""===i&&r&&!d){if(f||!a.commitEmptyEdits&&(null==v||""===v))return!1;m!=c.String&&(i=null),r=!1}if("NaN"==i&&Number.isNaN(v)&&!a.commitEmptyEdits)return!1;if(r){var y=h.format||l.format;if(y||m!=c.Date||(y="d"),h.mask&&xe(i)&&m!=c.String&&(i=i.replace(/_/g,"")),i=nf(i,m,y,v),m!=c.Object&&Es(i)!=m)return!1}}if(l.dataItem&&h.binding){var w=h._binding,b=l.dataItem,C=w.getValue(b);if(i!==C&&(d&&!d.serializeKeys||!Ce.equals(i,C))){var I=a.collectionView,M=I instanceof gr&&b!=I.currentEditItem&&I.trackChanges,S=null;if(M&&(S=I._extend({},b)),w.setValue(b,i),M){var R=new Or(yn.Change,b,I.items.indexOf(b));I.onCollectionChanged(R,S)}}}else l._ubv||(l._ubv={}),l._ubv[u._hash]=i;return o&&a&&a.invalidate(),!0},n.prototype._getRowData=function(t){var e,i=this._g,r=this._rows[F(t,!1,!0)],o=null,s=[];if(null!=r){var a=null,l=r instanceof tn;l&&r.dataItem instanceof Nr&&!i.childItemsPath&&(a=r.dataItem);for(var u=!a&&r.dataItem,c=0;c<i.columns.length;c++){var h=e=this._cols[c];u&&i&&(h=i._getBindingColumn(this,t,e)),h.binding?o=h._binding.getValue(r.dataItem):r._ubv&&(o=r._ubv[e._hash]),null==o&&(o=this._getSpecialData(t,r,c,e,h,l,a)),s[c]=o}}return s},n.prototype._getSpecialData=function(t,e,i,r,o,s,a){var l;switch(this._ct){case H.TopLeft:case H.ColumnHeader:t!=this._rows.length-1&&o==r||(l=o.header);break;case H.ColumnFooter:if(s&&o.aggregate!=un.None){var c=this._g.collectionView;if(c){var h=Tn(c,gr);l=h?h.getAggregate(o.aggregate,o.binding):cf(o.aggregate,c.items,o.binding)}}break;case H.Cell:e instanceof tn&&(i==this._cols.firstVisibleIndex?l=e.getGroupHeader():a&&o.aggregate!=un.None&&(l=a.getAggregate(o.aggregate,o.binding,this._g.collectionView,this._g)))}return l},n.prototype.getCellBoundingRect=function(t,e,i){var r=this._g,o=this.rows[t],s=this.columns[this._toIndex(e)],a=new K(s.pos,o.pos,s.renderSize,o.renderSize);if(r.rightToLeft&&(a.left=this.hostElement.clientWidth-a.right,pt()||(a.left-=r._root.offsetWidth-r._root.clientWidth)),!i){var l=this.hostElement.getBoundingClientRect();a.left+=l.left,a.top+=l.top-this._offsetY}return t<this.rows.frozen&&(a.top-=r.scrollPosition.y),Number(e)<Number(this.columns.frozen)&&(a.left-=r.scrollPosition.x*(r.rightToLeft?-1:1)),a},n.prototype.getCellElement=function(t,e){var i=this.hostElement.children,r=Math.min(t+2,i.length);e=this._toIndex(e);for(var o=0;o<r;o++)for(var s=i[o].children,a=Math.min(e+2,s.length),l=0;l<a;l++){var u=s[l],c=u[n._INDEX_KEY];if(c&&(c.row==t&&c.col==e||c.rng&&c.rng.contains(t,e)))return u}return null},n.prototype.getSelectedState=function(t,e,i){var r=this._g,o=r.selectionMode,s=r._selHdl.selection,a=at,l=$l;if(o==a.None)return l.None;switch(e=this._toIndex(e),this._ct){case H.Cell:if(r.activePanelType!=this.cellType){i||(i=r.getMergedRange(this,t,e)||new ne(t,e));for(var u=i.leftCol;u<=i.rightCol;u++)if(r.columns[u]&&r.columns[u].isSelected)return l.Selected;for(var c=i.topRow;c<=i.bottomRow;c++)if(r.rows[c].isSelected)return l.Selected;return l.None}i||(i=r.getMergedRange(this,t,e));var h=r._getAnchorCell();if(i){if(i.contains(s.row,s.col)&&(!r.anchorCursor||null==h||t==h.y&&e==h.x||i.row==h.y&&i.col==h.x)||i.intersects(s)&&r.anchorCursor&&null!=h&&(t==h.y&&e==h.x||i.row==h.y&&i.col==h.x))return r.showMarquee?l.Active:l.Cursor;if(i.intersects(s)&&o!=a.ListBox)return l.Selected;for(u=i.leftCol;u<=i.rightCol;u++)if(r.columns[u]&&r.columns[u].isSelected)return l.Selected;for(c=i.topRow;c<=i.bottomRow;c++)if(r.rows[c].isSelected)return l.Selected}if(r.anchorCursor&&null!=h){if(t==h.y&&e==h.x)return r.showMarquee?l.Active:l.Cursor}else if(s.row==t&&s.col==e)return r.showMarquee?l.Active:l.Cursor;if(r.rows[t].isSelected||r.columns[e].isSelected)return l.Selected;if(o==a.MultiRange)for(var d=r._selHdl.extendedSelection,f=0;f<d.length;f++)if(d[f].contains(t,e)||i&&i.intersects(d[f]))return l.Selected;if(i)switch(o){case a.Row:case a.RowRange:if(i.containsRow(s.row))return l.Selected}return o==a.ListBox?l.None:(s=this._getAdjustedSelection(s)).containsRow(t)&&s.containsColumn(e)?l.Selected:l.None;case H.ColumnHeader:if(r.activePanelType==H.ColumnHeader&&(i||(i=r.getMergedRange(this,t,e,!1)),i&&i.contains(s)||s.row==t&&s.col==e))return l.Cursor;if(r.activePanelType==H.Cell&&r.showSelectedHeaders&It.Column&&(r.columns[e].isSelected||s.containsColumn(e)||s.intersectsColumn(i))&&(i&&(t=i.bottomRow),t==this.rows.length-1))return l.Selected;break;case H.RowHeader:if(r.activePanelType==H.RowHeader&&(i||(i=r.getMergedRange(this,t,e,!1)),i&&i.contains(s)||s.row==t&&s.col==e))return l.Cursor;if(r.activePanelType==H.Cell&&r.showSelectedHeaders&It.Row&&(r.rows[t].isSelected||s.containsRow(t)||s.intersectsRow(i))&&(i&&(e=i.rightCol),e==this.columns.length-1))return l.Selected;break;case H.TopLeft:if(r.activePanelType==H.TopLeft&&(i||(i=r.getMergedRange(this,t,e,!1)),i&&i.contains(s)||s.row==t&&s.col==e))return l.Cursor}return l.None},Object.defineProperty(n.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),n.prototype.isRangeValid=function(t){return t&&t.isValid&&t.bottomRow<this.rows.length&&t.rightCol<this.columns.length},n.prototype.getNextVisibleRow=function(t){void 0===t&&(t=0);for(var e=Math.max(t,0);e<this.rows.length;e++)if(this.rows[e].isVisible)return e;return-1},n.prototype.getLastVisibleRow=function(t){void 0===t&&(t=1/0);for(var e=Math.min(t,this.rows.length-1);e>=0;e--)if(this.rows[e].isVisible)return e;return-1},n.prototype.getNextVisibleColumn=function(t){void 0===t&&(t=0);for(var e=Math.max(t,0);e<this.columns.length;e++)if(this.columns[e].isVisible)return e;return-1},n.prototype.getLastVisibleColumn=function(t){void 0===t&&(t=1/0);for(var e=Math.min(t,this.columns.length-1);e>=0;e--)if(this.columns[e].isVisible)return e;return-1},n.prototype._toIndex=function(t){if(xe(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";return t},n.prototype._getAdjustedSelection=function(t){var e=this._g,i=this._rng;switch(e.selectionMode){case at.Cell:i.setRange(t.row,t.col,t.row,t.col);break;case at.Row:i.setRange(t.row,0,t.row,e.columns.length-1);break;case at.RowRange:case at.ListBox:i.setRange(t.row,0,t.row2,e.columns.length-1);break;default:i.copy(t)}return i},n.prototype._getOffsetY=function(){return this._offsetY},n.prototype._updateContent=function(t,e,i){var r=this._g,s=this._rows,a=this._cols,l=this._ct;if(l==H.ColumnHeader||l==H.ColumnFooter||l==H.RowHeader){var u=r._ptScrl,c=this._e.style;l==H.RowHeader?c.top=u.y+"px":r.rightToLeft?c.right=u.x+"px":c.left=u.x+"px"}switch(l){case H.RowHeader:$(this.hostElement.parentElement,"aria-hidden",!(r.headersFocusability&kn.Row));break;case H.ColumnHeader:$(this.hostElement.parentElement,"aria-hidden",!(r.headersFocusability&kn.Column));break;case H.TopLeft:$(this.hostElement.parentElement,"aria-hidden",!(r.headersFocusability&kn.All))}this._offsetY!=i&&(t=!1,this._offsetY=i);var h=this._getViewRange(),d=h;if(d.isValid){var f=s.length<=r._vtRows?s.length:0,p=a.length<=r._vtCols?a.length:0;d=new ne(Math.max(h.row-f,s.frozen),Math.max(h.col-p,a.frozen),Math.min(h.row2+f,s.length-1),Math.min(h.col2+p,a.length-1))}if(t&&!e&&this._vrb.contains(h)&&!s.frozen&&!a.frozen)return this._activeCell;t&&d.equals(this._vrb)||(e=!1),t&&!e&&this._ct!=H.TopLeft&&this._reorderCells(d,this._vrb),this._activeCell=null,this._vru=h,this._vrb=d,this._recycle=t;var g=0;return this._ct==H.Cell&&(g=this._renderColHdrRow(d,e)),this._updateCells(e,g),this._activeCell},n.prototype._updateCells=function(t,e){for(var i=this._rows,r=0;r<i.frozen&&r<i.length;r++)e=this._renderRow(r,this._vrb,t,e);for(r=this._vrb.topRow;r<=this._vrb.bottomRow&&r>-1;r++)e=this._renderRow(r,this._vrb,t,e);this._scanAndRemoveExtraCells(e)},n.prototype._scanAndRemoveExtraCells=function(t){for(var e=this._e;e.childElementCount>t;){var i=e.lastElementChild;Dt(i),this._removeExtraCells(i,0)}},n.prototype._clearCells=function(){for(var t=this.hostElement,e=this._g.cellFactory,i=t.childElementCount-1;i>=0;i--){var r=t.children[i];Dt(r);for(var o=r.childElementCount-1;o>=0;o--)e.disposeCell(r.children[o])}},n.prototype._reorderCells=function(t,e){var i=this;if(this._g._reorderCells&&e.isValid&&t.isValid&&t.intersects(e)){var c,r=function(p,g,m,_,v,y){ge(m<0,"Scroll delta must be a negative number");var w,b,C=-m,I=g+(_-v+1),M=p.childElementCount-I;if(M<C&&M>0?(w=M,b=C-M):(w=C,b=0),w>0){var S=i._createRange(p,I,I+w);S&&p.insertBefore(S.extractContents(),p.children[g])}if(b>0)for(var R=p.children[g],P=0;P<b;P++){var x=document.createElement("div");x.className=y,p.insertBefore(x,R)}};if(t.row!=e.row){var o=this._e;if(0!=(c=t.row-e.row)){var s=this._ct==H.Cell?1:0,a=o.childElementCount;if(s+=this.rows.frozen,c>0){var l=s,u=Math.min(s+c,a);(f=this._createRange(o,l,u))&&o.appendChild(f.extractContents())}else r(o,s,c,t.row2,e.row,"wj-row")}}if(t.col!=e.col&&(o=this._e,0!=(c=t.col-e.col))){s=this._ct==H.Cell&&this._g.rowHeaderPath?1:0,s+=this.columns.frozen;for(var h=0;h<o.children.length;h++){var d=o.children[h];if(a=d.children.length,gt(d,"wj-row"))if(c>0){var f;l=s,u=Math.min(s+c,a),(f=this._createRange(d,l,u))&&d.appendChild(f.extractContents())}else r(d,s,c,t.col2,e.col,"wj-cell")}}}},n.prototype._createRange=function(t,e,i){if(i>e&&i<=t.children.length&&e>-1){this._docRange||(this._docRange=document.createRange());var r=this._docRange;return r.setStart(t,e),r.setEnd(t,i),r}return null},n.prototype._renderColHdrRow=function(t,e){if(e)return 1;var i=this._e.children[0];i||(i=Ct('<div class="wj-row" role="row"></div>',this._e));var r=this._g;$(i,"aria-label",r?r.columnHeaders.rows.ariaLabel:null),$(i,"aria-selected",null);var s=0,a=this._g._getRowHeaderPath();a&&(s=this._renderRowHdrCell(i,-1,a.path));for(var l=0;l<this.columns.frozen&&l<this.columns.length;l++)s=this._renderColHdrCell(i,l,t,e,s);for(l=t.leftCol;l<=t.rightCol&&l>-1;l++)s=this._renderColHdrCell(i,l,t,e,s);return([It.None,It.Row].includes(r.headersVisibility)||r.headersFocusability&kn.Column)&&$(i.closest(".wj-row"),"aria-hidden","true"),this._removeExtraCells(i,s),1},n.prototype._renderColHdrCell=function(t,e,i,r,o){var s=this.grid,a=this.columns[e];if(a.renderSize<=0)return o;if(r)return o+1;var l=t.children[o];if(l||(l=Ct(n._HTML_CELL,t)),l&&this._recycle&&s._lazyRender){var u=l[n._INDEX_KEY];if(u&&-1==u.row&&u.col==e&&e>=this.columns.frozen)return o+1}return l.textContent=this.columns[e].header,ie(l,{position:"fixed",left:a.pos,top:-32e3,width:a.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),vy(l,a,this,s),l[n._INDEX_KEY]={row:-1,col:e,panel:this},o+1},n.prototype._renderRowHdrCell=function(t,e,i){var r=t.children[0];return r||(r=Ct(n._HTML_CELL,t)),r.setAttribute("role",e<0?"columnheader":"rowheader"),r.textContent=i?i.toString():"",ie(r,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),r[n._INDEX_KEY]={row:e,col:-1,panel:this},1},n.prototype._renderRow=function(t,e,i,r){var o=this._g,s=this.rows[t];if(s.renderSize<=0)return r;var a=this._e.children[r];switch(a||(a=Ct('<div class="wj-row"></div>',this._e)),this._ct){case H.ColumnHeader:case H.TopLeft:$(a,"aria-rowindex",t+1);break;case H.Cell:case H.RowHeader:$(a,"aria-rowindex",t+1+(this._g.headersVisibility&It.Column?this._g.columnHeaders.rows.length:0));break;default:$(a,"aria-rowindex",t+1)}if(this._ct==H.Cell){a.setAttribute("role","row");var u=s.isSelected;switch(o.selectionMode){case at.Row:case at.RowRange:u=u||this._g._selHdl.selection.containsRow(t)}$(a,"aria-selected",!!u||null),$(a,"aria-level",s instanceof tn?s.level+1:null),$(a,"aria-expanded",s instanceof tn?!s.isCollapsed:null),this.rows.ariaLabel&&$(a,"aria-label",this.rows.ariaLabel)}this._ct===H.TopLeft&&a.setAttribute("role","row");var c=0;if(this._ct==H.Cell){var h=this._g._getRowHeaderPath();h&&(c=this._renderRowHdrCell(a,t,h.getValue(s.dataItem)))}var d=e.clone();d.col=0,d.col2=this.columns.frozen-1;for(var f=0;f<this.columns.frozen&&f<this.columns.length;f++)c=this._renderCell(a,t,f,d,i,c);if(e.leftCol>-1){var p=o.getMergedRange(this,t,e.leftCol,!1);p&&p.leftCol!=e.leftCol&&(c=this._renderCell(a,t,p.leftCol,e,i,c))}for(f=e.leftCol;f<=e.rightCol&&f>-1;f++)c=this._renderCell(a,t,f,e,i,c);return this._removeExtraCells(a,c),r+1},n.prototype._renderCell=function(t,e,i,r,o,s){var a=this._g,l=a.getMergedRange(this,e,i,!1);if(l){for(var u=Math.max(r.row,l.row);u<e;u++)if(this.rows[u].renderSize)return s;for(u=Math.max(r.col,l.col);u<i;u++)if(this.columns[u].renderSize)return s;if(e>=l.row&&e<=l.row2&&i>l.col&&i<=l.col2&&this._ct===H.Cell&&l.isSingleCell)return s;var c=this.columns.frozen;if(c&&l.col<c&&l.col2>=c&&i>l.col||!this.columns[i].isVisible)return s;if(l.leftCol!=i){if(this._ct!=H.ColumnHeader&&this._ct!=H.TopLeft)return s;for(var h=l.leftCol;h<i;h++)if(this.columns[h].isVisible)return s}}var d=this.columns[i];if((!d||d.renderSize<=0)&&(!l||l.getRenderSize(this).width<=0))return s;var f=t.children[s];if(f&&!o&&this._recycle&&a._lazyRender&&!a.activeEditor){var p=f[n._INDEX_KEY];p&&p.row==e&&p.col==i&&p.rng==l&&e>=this.rows.frozen&&i>=this.columns.frozen&&(o=!0)}var g=$l,m=this.getSelectedState(e,i,l),_=m==g.Cursor||m==g.Active,v=!1;switch(this.cellType){case H.RowHeader:case H.ColumnHeader:case H.TopLeft:v=!0}if(f&&o){qe(f,"wj-state-active",_),qe(f,v?"wj-focus-header-cell":"wj-state-selected",m==g.Cursor),qe(f,"wj-state-multi-selected",m==g.Selected);var y=f.querySelector(".wj-column-selector");return $(f,"aria-selected",y?_||m!=g.None?!!y.checked:null:!(!_&&m==g.None)||null),_&&(this._activeCell=f),s+1}if(f||(f=Ct(n._HTML_CELL,t)),$(f,"aria-colindex",i+1),_&&(this._activeCell=f),this._ct==H.Cell){$(f,"role","gridcell"),$(f,"aria-selected",!(m==g.None&&!_)||null);var w=!a.canEditCell(e,i)||null;$(f,"aria-readonly",w),$(f,"aria-required",w?null:d.getIsRequired())}return a.cellFactory.updateCell(this,e,i,f,l),f[n._INDEX_KEY]={row:e,col:i,rng:l,panel:this},s+1},n.prototype._removeExtraCells=function(t,e){for(var i=this._g.cellFactory;t.childElementCount>e;){var r=t.lastElementChild;Dt(r),i.disposeCell(r)}},n.prototype._getViewRange=function(){var t=this._g,e=t._ptScrl,i=t._szClientSB,r=this._rows,o=this._cols,s=new ne(0,0,r.length-1,o.length-1);if(this._ct==H.Cell||this._ct==H.RowHeader){var a=-e.y+this._offsetY,l=i.height;(d=Math.min(r.frozen,r.length-1))>0&&(a+=g=r[d-1].pos,l-=g),d>0&&r[d].pos>i.height?s.row=s.row2=-1:(s.row=Math.min(r.length-1,Math.max(d,r.getItemAt(a))),s.row2=Math.max(s.row,r.getItemAt(a+l)));var u=t.hostElement;if(t._clipToScreen&&u){var c=u.getBoundingClientRect(),h=-c.top-t.cells._e.offsetTop;c.top<0&&(s.row=Math.max(s.row,r.getItemAt(h)-1)),c.bottom>innerHeight&&(s.row2=Math.min(s.row2,r.getItemAt(h+innerHeight)+1))}}if(this._ct==H.Cell||this._ct==H.ColumnHeader){var d,g,f=-e.x,p=i.width;(d=Math.min(o.frozen,o.length-1))>0&&(f+=g=o[d-1].pos,p-=g),d>0&&o[d].pos>i.width?s.col=s.col2=-1:(s.col=Math.min(o.length-1,Math.max(d,o.getItemAt(f))),s.col2=Math.max(s.col,o.getItemAt(f+p)))}return r.length<=r.frozen&&(s.row=s.row2=-1),o.length<=o.frozen&&(s.col=s.col2=-1),s},n.prototype._getFrozenPos=function(){var t=this._rows.frozen,e=this._cols.frozen,i=t>0?this._rows[t-1]:null,r=e>0?this._cols[e-1]:null;return new T(r?r.pos+r.renderSize:0,i?i.pos+i.renderSize:0)},n._INDEX_KEY="wj-cell-index",n._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',n}(),Ft=function(n){function t(e,i,r){var o=n.call(this)||this;return o._p=Pe(e,ki,!0),o._rng=Pe(i,ne,!0),o._data=r,o}return vr(t,n),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},t.prototype.getColumn=function(e){var i=this._p,r=i&&this.col>-1?i.columns[this.col]:null;if(r&&e){var o=i.grid;r=i.cellType===H.ColumnHeader&&o._hasColumnGroups()?o._getColumnGroup(this.row,this.col):i.grid._getBindingColumn(i,this.row,r)}return r},t}(zt),QT=function(n){function t(e,i,r,o){void 0===o&&(o=!0);var s=n.call(this,e,i)||this;return s._updateContent=!0,s._cell=Pe(r,HTMLElement),s}return vr(t,n),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateContent",{get:function(){return this._updateContent},enumerable:!0,configurable:!0}),t}(Ft),Af=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._stayInEditMode=!1,e._refresh=!0,e}return vr(t,n),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previousData",{get:function(){return null!=this._previousData?this._previousData:this._data},set:function(e){this._previousData=e},enumerable:!0,configurable:!0}),t}(Ft);!function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.CellRange=2]="CellRange",n[n.Row=3]="Row",n[n.RowRange=4]="RowRange",n[n.ListBox=5]="ListBox",n[n.MultiRange=6]="MultiRange"}(at||(at={})),function(n){n[n.None=0]="None",n[n.Selected=1]="Selected",n[n.Cursor=2]="Cursor",n[n.Active=3]="Active"}($l||($l={})),function(n){n[n.None=0]="None",n[n.Next=1]="Next",n[n.Prev=2]="Prev",n[n.NextPage=3]="NextPage",n[n.PrevPage=4]="PrevPage",n[n.Home=5]="Home",n[n.End=6]="End",n[n.NextCell=7]="NextCell",n[n.PrevCell=8]="PrevCell",n[n.NextEditableCell=9]="NextEditableCell",n[n.PrevEditableCell=10]="PrevEditableCell"}(Ao||(Ao={}));var Qe,JT=function(){function n(t){this._sel=new ne(0,0),this._xSel=new ei,this._mode=at.CellRange,this._g=t,this._e=new Ft(t.cells,new ne(0,0)),this._xSel.collectionChanged.addHandler(function(){t.invalidate()})}return Object.defineProperty(n.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){t!=this._mode&&this._setSelectionMode(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),n.prototype.select=function(t,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!1),r||(r=this._g._gpCells);var o=this._g,s=this._e.range,a=this._sel,l=s,u=!1,c=at,h=o.activePanelType,d=r.cellType==H.RowHeader||r.cellType==H.ColumnHeader;if(J(t)&&xe(e)){var f=r.columns.indexOf(e);if(f<0)throw"Invalid column name or binding.";s.setRange(t,f),e=!0}else J(t)&&J(e)?(s.setRange(t,e),e=!0):t instanceof ne?s.copy(t):ge(!1,"CellRange expected");switch(o.activePanel=r,o.selectionMode){case c.Cell:l.row2=l.row,l.col2=l.col;break;case c.Row:l.row2=l.row;break;case c.ListBox:u=!0}d&&(l.row2=l.row,l.col2=l.col);var p=l.equals(a)&&h==r.cellType;if(p&&u&&!d)for(var g=0;g<o.rows.length;g++)if(o.rows[g].isSelected!==l.containsRow(g)){p=!1;break}if(p)return e&&r.isRangeValid(l)&&this._showSelection(),!0;var m=z.getControl(be(nt(),".wj-flexgrid"));if(m&&m==o&&m.activeEditor&&!m.finishEditing())return!1;var _=this._e;if(_._rng=l,_.cancel=!1,!o.onSelectionChanging(_)&&!i)return!1;!d&&u&&o.rows.forEach(function(b,C){b._setFlag(Qe.Selected,l.containsRow(C),!0)}),l.row=Math.min(l.row,r.rows.length-1),l.row2=Math.min(l.row2,r.rows.length-1),this._sel.copy(l),o.refreshCells(!1,!0,!0),e&&this._showSelection();var v=o.collectionView;if(v&&!d){var y=o._getCvIndex(l.row);v.moveCurrentToPosition(y)}var w=nt();return w.classList.contains("wj-state-invalid")?this._g.errorTip._showAutoTip(void 0,w):this._g.errorTip.hide(),o.onSelectionChanged(_),!0},n.prototype.moveSelectionWithinSelectedPanel=function(t,e){var i=this._g,r=this._sel.clone(),o=i.activePanel,s=i.getMergedRange(o,r.row,r.col,!1);if(s||(s=new ne(r.row,r.col)),t>0){var a=o.getNextVisibleRow(s.bottomRow+t);if(a>=0&&(r.row=r.row2=a),!o.columns[r.col].isVisible){var l=o.getNextVisibleColumn(s.leftCol);l>=0&&(r.col=r.col2=l)}}else if(t<0){var u=o.getLastVisibleRow(s.topRow+t);u>=0&&(r.row=r.row2=u)}if(e>0){var c=o.getNextVisibleColumn(s.rightCol+e);c>=0&&(r.col=r.col2=c)}else if(e<0){var h=o.getLastVisibleColumn(s.leftCol+e);h>=0&&(r.col=r.col2=h)}r.equals(this._sel)||i.select(r,!0,o)},n.prototype.moveSelection=function(t,e,i){var r=this._g,o=this._sel,s=i&&r.anchorCursor?new ne(o.row2,o.col2):new ne(o.row,o.col),a=s.row,l=s.col,u=r.columns,c=Math.max(0,r._szClient.height-r.columnHeaders.height),h=Ao,d=-1,f=r.getMergedRange(r.cells,a,l);switch(f&&(e==h.NextCell||e==h.NextEditableCell?l=f.rightCol:e!=h.PrevCell&&e!=h.PrevEditableCell||(l=f.leftCol)),e){case h.NextCell:case h.NextEditableCell:if((l=this._getNextColumnCell(a,d=l,e))!=d&&(f=r.getMergedRange(r.cells,a,l))&&l<f.col2&&(l=f.col2),l==d)for(;;){if(a==r.rows.length-1){l=s.col,a=s.row;break}var p=!1;if((a=this._getNextRowCell(a,l,e))>s.row){for(d=-1;d<u.length;){if((l=this._getNextColumnCell(a,d,e))==d){p=!0;break}(f=r.getMergedRange(r.cells,a,l))&&l<f.col2&&(l=f.col2);break}if(p)continue}break}r.select(a,l);break;case h.PrevCell:case h.PrevEditableCell:if((l=this._getNextColumnCell(a,d=l,e))!=d&&(f=r.getMergedRange(r.cells,a,l))&&l>f.col&&(l=f.col),l==d)for(;;){if(0==a){l=s.col,a=s.row;break}if(p=!1,(a=this._getNextRowCell(a,l,e))<s.row){for(d=u.length;d>-1;){(l=this._getNextColumnCell(a,d,e))!=d?(f=r.getMergedRange(r.cells,a,l))&&l>f.col&&(l=f.col):p=!0;break}if(p)continue}break}r.select(a,l);break;default:a=this._getNextRowCell(a,l,t,c),l=this._getNextColumnCell(a,l,e,c),i?r.selection=r.anchorCursor?new ne(o.row,o.col,a,l):new ne(a,l,o.row2,o.col2):r.select(a,l)}},n.prototype._getNextColumnCell=function(t,e,i,r){return void 0===r&&(r=0),this._g.columns.getNextCell(e,i,r)},n.prototype._getNextRowCell=function(t,e,i,r){return void 0===r&&(r=0),this._g.rows.getNextCell(t,i,r)},n.prototype._setSelectionMode=function(t){var e=this._g,i=e.rows;this._mode=t,this._xSel.clear(),i.length&&(this._adjustSelection(this._sel,t,!0),e.invalidate())},n.prototype._adjustSelection=function(t,e,i){void 0===i&&(i=!1);var r=this._g.rows,o=at,s=this._g.hostElement.querySelector("input.wj-column-selector")instanceof HTMLInputElement;if(!s)for(var a=0;a<r.length;a++)r[a]._setFlag(Qe.Selected,!1,!0);var l=t.clone();switch(e){case o.None:l=new ne;break;case o.Cell:l=new ne(t.row,t.col);break;case o.ListBox:if(s)return;for(a=0;a<r.length;a++)r[a]._setFlag(Qe.Selected,l.containsRow(a),!0)}this.select(l,!1,i)},n.prototype._expandSelection=function(){var t=this._g,e=t.selectionMode;if(t.expandSelectionOnCopyPaste&&e){var i=this.selection;switch(e){case at.Cell:case at.Row:break;case at.ListBox:this._expandSelectedRows();break;case at.RowRange:i=new ne(i.topRow,0,i.bottomRow,t.columns.length-1);default:var o=this._expandSelectionRange(i);o&&this.select(o,!1)}}},n.prototype._deselectRange=function(t){var i=this.extendedSelection;if(this.selection.contains(t)){var r=i.length;return this._sel=r?i[r-1]:new ne,r&&i.removeAt(r-1),!0}for(var o=0;o<i.length;o++)if(i[o].contains(t))return i.removeAt(o),!0;return!1},n.prototype._expandSelectedRows=function(){ge(this.selectionMode==at.ListBox,"ListBox mode expected");for(var t=this._g,e=t.selectedRows.map(function(l){return l.index}),i=[],r=0;r<e.length;r++)for(var o=new ne(e[r],0,e[r],t.columns.length-1),s=this._expandSelectionRange(o)||o,a=s.topRow;a<=s.bottomRow;a++)-1===i.indexOf(a)&&i.push(a);i.sort(),this._selectRows(i)},n.prototype._expandSelectionRange=function(t){var e=this._g,i=e.cells,r=e.getMergedRange(i,t.topRow,t.leftCol,!1),o=e.getMergedRange(i,t.bottomRow,t.leftCol,!1),s=e.getMergedRange(i,t.topRow,t.rightCol,!1),a=e.getMergedRange(i,t.bottomRow,t.rightCol,!1);return r||o||s||a?(r=r||new ne(t.topRow,t.leftCol),o=o||new ne(t.bottomRow,t.leftCol),s=s||new ne(t.topRow,t.rightCol),a=a||new ne(t.bottomRow,t.rightCol),new ne(Math.min(r.topRow,o.topRow,s.topRow,a.topRow),Math.min(r.leftCol,o.leftCol,s.leftCol,a.leftCol),Math.max(r.bottomRow,o.bottomRow,s.bottomRow,a.bottomRow),Math.max(r.rightCol,o.rightCol,s.rightCol,a.rightCol))):null},n.prototype._selectRows=function(t){ge(this.selectionMode==at.ListBox,"ListBox mode expected");for(var e=this._g,i=0,r=!0;i<e.rows.length;i++){var o=e.rows[i],s=t&&t.indexOf(o.index)>-1;s&&r&&(r=!1,this.select(i,this.selection.col)),o.isSelected=s}},n.prototype._showSelection=function(){var t=this._g,e=this._sel.clone();t.activePanelType===H.ColumnHeader?e.row=-1:t.activePanelType===H.RowHeader&&(e.col=-1),t.activePanelType!==H.TopLeft&&(t.anchorCursor?t.scrollIntoView(e.row2,e.col2):t.scrollIntoView(e.row,e.col)),t.activePanelType!==H.Cell&&this._showHeaderSelection()},n.prototype._showHeaderSelection=function(){var t=this._g.activePanel.activeCell;if(t){var e=t.getBoundingClientRect(),i=0,r=0,o=document.documentElement.clientWidth,s=document.documentElement.clientHeight;e.y<0?i=e.y:e.y>s-2&&(i=e.y-s+e.height),e.x<0?r=e.x:e.x>o-2&&(r=e.x-o+e.width),0==i&&0==r||window.scrollBy(r,i)}},n.prototype._adjustReferenceCell=function(t,e,i){var r=this._g,o=r.getMergedRange(r.cells,t.row,t.col);if(o&&!o.isSingleCell){var s=Ao;switch(e){case s.Next:case s.NextCell:case s.NextEditableCell:t.row=o.bottomRow;break;case s.Prev:case s.PrevCell:case s.PrevEditableCell:t.row=o.topRow}switch(i){case s.Next:case s.NextCell:case s.NextEditableCell:t.col=o.rightCol;break;case s.Prev:case s.PrevCell:case s.PrevEditableCell:t.col=o.leftCol}}},n}();!function(n){n[n.Visible=1]="Visible",n[n.AllowResizing=2]="AllowResizing",n[n.AllowDragging=4]="AllowDragging",n[n.AllowMerging=8]="AllowMerging",n[n.AllowSorting=16]="AllowSorting",n[n.AutoGenerated=32]="AutoGenerated",n[n.Collapsed=64]="Collapsed",n[n.ParentCollapsed=128]="ParentCollapsed",n[n.Selected=256]="Selected",n[n.ReadOnly=512]="ReadOnly",n[n.HtmlContent=1024]="HtmlContent",n[n.WordWrap=2048]="WordWrap",n[n.MultiLine=4096]="MultiLine",n[n.HasTemplate=8192]="HasTemplate",n[n.RowDefault=3]="RowDefault",n[n.ColumnDefault=23]="ColumnDefault"}(Qe||(Qe={}));var is,Fr,It,oo,kn,Nf,Lr,Rf=function(){function n(){this._type=null,this._align=null,this._inpType=null,this._mask=null,this._maxLen=null,this._required=null,this._fmt=null,this._map=null,this._ddCssClass=null,this._cssClass=null,this._cssClassAll=null,this._szMin=null,this._szMax=null,this._sz=null,this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new k}return Object.defineProperty(n.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var e=U(t);if(this._binding=e?new At(e):null,!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;i&&i.sourceCollection&&i.sourceCollection.length&&(this._type=Es(this._binding.getValue(i.sourceCollection[0])))}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var e=U(t);this._bindingSort=e?new At(e):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataType",{get:function(){return this._type},set:function(t){t=Ie(t,ze,!0),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=U(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=U(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=F(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),Rt(t)&&(t=new my(t,null,null)),this._map=Pe(t,my,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMapEditor",{get:function(){return null!=this._mapEditor?this._mapEditor:Ci.DropDownList},set:function(t){t!=this._mapEditor&&(this._mapEditor=Ie(t,Ci),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDropDown",{get:function(){return this.dataMapEditor==Ci.DropDownList},set:function(t){Dc("showDropDown","dataMapEditor"),this.dataMapEditor=t?Ci.DropDownList:Ci.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=U(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._getFlag(Qe.Visible)},set:function(t){this._setFlag(Qe.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return!!this._getFlag(Qe.Visible)&&(!this._getFlag(Qe.ParentCollapsed)||this instanceof nn)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=F(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderSize",{get:function(){var t=0,e=this._list;return this.isVisible&&((null==(t=this._sz)||t<0)&&(t=e?e.defaultSize:0),e&&null!=e.minSize&&t<e.minSize&&(t=e.minSize),e&&null!=e.maxSize&&t>e.maxSize&&(t=e.maxSize),null!=this._szMin&&t<this._szMin&&(t=this._szMin),null!=this._szMax&&t>this._szMax&&(t=this._szMax)),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowResizing",{get:function(){return this._getFlag(Qe.AllowResizing)},set:function(t){this._setFlag(Qe.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowDragging",{get:function(){return this._getFlag(Qe.AllowDragging)},set:function(t){this._setFlag(Qe.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowMerging",{get:function(){return this._getFlag(Qe.AllowMerging)},set:function(t){this._setFlag(Qe.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelected",{get:function(){return this._getFlag(Qe.Selected)},set:function(t){if(!!t!=this.isSelected){var e=this.grid;if(e){var i=new Ft(e?e.cells:null,e.selection);e.onSelectionChanging(i)&&this._setFlag(Qe.Selected,t,!0)&&(e.refreshCells(!1,!0,!0),e.onSelectionChanged(i))}else this._setFlag(Qe.Selected,t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReadOnly",{get:function(){return this._getFlag(Qe.ReadOnly)},set:function(t){this._setFlag(Qe.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=N(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._getFlag(Qe.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag(Qe.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._getFlag(Qe.WordWrap)},set:function(t){this._setFlag(Qe.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiLine",{get:function(){return this._getFlag(Qe.MultiLine)},set:function(t){this._setFlag(Qe.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=U(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(t){t!=this._cssClassAll&&(this._cssClassAll=U(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),n.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},n.prototype.onGridChanged=function(t){this.gridChanged.raise(this,t)},n.prototype._setList=function(t){t!=this._list&&(this._list=t,this.onGridChanged())},n.prototype._getFlag=function(t){return 0!=(this._f&t)},n.prototype._setFlag=function(t,e,i){return!!e!=this._getFlag(t)&&(this._f=e?this._f|t:this._f&~t,i||this.onPropertyChanged(),!0)},n}(),Qn=function(n){function t(e){var i=n.call(this)||this;return i._hdr=null,i._name=null,i._agg=null,i._quickSize=null,i._descById=null,i._tpl=null,i._f=Qe.ColumnDefault,i._hash=t._ctr.toString(36),t._ctr++,vi(i,e),i._uid=xc(),i}return vr(t,n),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=t._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=F(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=F(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=F(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=N(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(Zn(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(Qe.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(e){e!=this._tpl&&(ge(null==e||xe(e)||Ge(e),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=e,this._setFlag(Qe.HasTemplate,null!=e&&""!=e),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){e!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),null!=e&&(e=Pe(e,z),this._edt=new sP(this,e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag(Qe.AllowSorting)},set:function(e){this._setFlag(Qe.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.currentSortIndex;return e>-1?this.grid.collectionView.sortDescriptions[e].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSortIndex",{get:function(){var e=this.grid?this.grid.collectionView:null,i=e?e.sortDescriptions:null,r=i&&i.length?this._getBindingSort():null;if(r)for(var o=0;o<i.length;o++)if(i[o].property==r)return o;return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:un.None},set:function(e){(e=Ie(e,un))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=U(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==ze.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=ze.String||null!=e.dataMap||null!=e.mask&&e.mask.length>0},t.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case ze.Boolean:return"center";case ze.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case ze.Boolean:return"center";case ze.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(xe(e)){var i=e.length;if(i>0&&"*"==e[i-1]){var r=1==i?1:parseFloat(e);if(r>0&&!isNaN(r))return r}}return null},t._ctr=0,t}(Rf),yr=function(n){function t(e){var i=n.call(this)||this;return i.resizedManually=!1,i._f=Qe.ColumnDefault,i._data=e||null,i}return vr(t,n),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(Rf),tn=function(n){function t(e){var i=n.call(this,e)||this;return i._level=-1,i._isSummary=!1,i.level=e instanceof Nr?e.level:-1,i.isReadOnly=!0,i}return vr(t,n),Object.defineProperty(t.prototype,"isSummary",{get:function(){return this._isSummary},set:function(e){e!=this._isSummary&&(this._isSummary=N(e),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){Xt(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(this.isSummary)return!1;if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,i=Tn(e,t),r=Tn(e,nn);return null!=e&&null==r&&(null==i||i.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag(Qe.Collapsed)},set:function(e){!!e==this.isCollapsed||null==this._list||this.isSummary||this._setCollapsed(N(e))},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){if(this.isSummary)return"";var e=this.grid,i=e.groupHeaderFormat||ft.FlexGrid.groupHeaderFormat,r=this.dataItem;if(r instanceof Nr&&i&&e.showGroups&&!e.childItemsPath){var o=r.groupDescription.propertyName,s=r.name,a=e.getColumn(o),l=this.isContentHtml;if(a){l=l||a.isContentHtml,a.header&&(o=a.header);var u=a.dataMap;u&&(s=u.getDisplayValue(s)),a.dataType==Es(s)&&(s=Se.format(s,a.format))}else o=rf(o);var c=r.getAggregate(un.CntAll,null,e.collectionView);return pr(i,{name:Qr(o),value:l?s:Qr(s),level:r.level,count:c})}return""},t.prototype._setCollapsed=function(e){var i=this,r=this.grid,o=r.rows,s=this.getCellRange(),a=new Ft(r.cells,new ne(this.index,-1));r.onGroupCollapsedChanging(a)&&(r.deferUpdate(function(){o.deferUpdate(function(){i._setFlag(Qe.Collapsed,e,!0);for(var l=s.topRow+1;l<=s.bottomRow&&l>-1&&l<o.length;l++){o[l]._setFlag(Qe.ParentCollapsed,e,!0);var u=o[l];u instanceof t&&u.isCollapsed&&(l=u.getCellRange().bottomRow)}})}),r.onGroupCollapsedChanged(a))},t.prototype.getCellRange=function(){for(var e=this._list,i=this.index,r=e.length-1,o=i+1;o<=r;o++){var s=e[o];if(s instanceof t&&s.level<=this.level){r=o-1;break}}if(this.grid.groupSummaryPosition===Lr.Auto&&e.length>r&&e[r+1]instanceof t&&e[r+1].isSummary)do{r++}while(e[r+1]instanceof t&&e[r+1].isSummary&&e[r+1].dataItem==e[r].dataItem);return new ne(i,0,r,this.grid.columns.length-1)},t}(yr),_y=function(n){function t(e,i){var r=n.call(this)||this;return r.frozenDetailChildren=0,r._frozen=0,r._lastFrozen=-1,r._firstVisible=-1,r._vlen=0,r._szDef=28,r._szTot=0,r._szCustom=!1,r._dirty=!1,r._g=Pe(e,wr),r._szDef=F(i,!1,!0),r._uid=xc(),r}return vr(t,n),Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=F(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=F(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=F(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=F(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var i,r,o=this.length,s=0,a=o-1;s<=a;)if((r=this[i=s+a>>>1])._pos>=e&&i>0)a=i-1;else{if(!(r._pos+r.renderSize<=e&&i<o-1)){for(;i>0&&!this[i].renderSize;)i--;for(;i<o-1&&!this[i].renderSize;)i++;return i}s=i+1}return a},t.prototype.getNextCell=function(e,i,r){var o;switch(void 0===r&&(r=0),i){case Ao.Next:case Ao.NextCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0)return o;break;case Ao.NextEditableCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case Ao.Prev:case Ao.PrevCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case Ao.PrevEditableCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case Ao.End:for(o=this.length-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case Ao.Home:for(o=0;o<this.length;o++)if(this[o].renderSize>0)return o;break;case Ao.NextPage:return(o=this.getItemAt(this[e].pos+this[e].renderSize+r))<0?this.getNextCell(e,Ao.End,r):o==e&&o<this.length-1&&this[o+1].renderSize?o+1:o;case Ao.PrevPage:return(o=this.getItemAt(this[e].pos-r))<0?this.getNextCell(e,Ao.Home,r):o==e&&o>0&&this[o-1].renderSize?o-1:o}return e},t.prototype.canMoveElement=function(e,i,r){if(void 0===r&&(r=!0),i==e||e<0||e>=this.length||i>=this.length)return!1;if(r){i<0&&(i=this.length-1);for(var o=Math.min(e,i),s=Math.max(e,i),a=o;a<=s;a++)if(!this[a].allowDragging)return!1}return!(this[i]instanceof nn)},t.prototype.moveElement=function(e,i,r){if(void 0===r&&(r=!0),this.canMoveElement(e,i,r)){var o=this[e];if(this.removeAt(e),i<0&&(i=this.length),this.insert(i,o),r){var s=this.frozen;e<s&&i>=s?this.frozen--:e>=s&&i<s&&this.frozen++}return!0}return!1},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=Or.reset),this._dirty=!0,this._g.invalidate(),n.prototype.onCollectionChanged.call(this,e)},t.prototype.push=function(e){return e._setList(this),n.prototype.push.call(this,e)},t.prototype.splice=function(e,i){for(var r=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];for(var a=e;a<e+i&&a<this.length;a++){var l=this[a];l instanceof Rf&&l._setList(null)}return o.forEach(function(u){return u._setList(r)}),n.prototype.splice.apply(this,[e,i].concat(o))},t.prototype.beginUpdate=function(){this._update(),n.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,i=0,r=void 0,o=void 0,s=0;s<this.length;s++)(o=this[s])._idx=s,o._idxVis=e,o._pos=i,o._setList(this),(r=o.renderSize)>0&&(i+=r,e++,s<this._frozen&&(this._lastFrozen=s)),this._firstVisible<0&&o.visible&&(this._firstVisible=s);return this._vlen=e,this._szTot=i,!0}return!1},t}(ei),Of=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return vr(t,n),t.prototype.getColumn=function(e){var i=J(e)?e:this.indexOf(e);return i>-1?this[i]:null},t.prototype.indexOf=function(e){if(e instanceof Qn)return n.prototype.indexOf.call(this,e);for(var i=0;i<this.length;i++)if(this[i].name==e)return i;for(i=0;i<this.length;i++)if(this[i].binding==e)return i;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=U(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){var i,r=!1,o=0;e-=.5;for(var s=0;s<this.length;s++)(l=this[s]).isVisible&&(l._szStar?(o+=Qn._parseStarSize(l._szStar),i=l):e-=l.renderWidth);if(i){var a=e;for(s=0;s<this.length;s++){var l;if((l=this[s]).isVisible&&l._szStar){var u=l._sz;l==i&&a>0?u=a:a-=u=Math.max(0,Math.round(Qn._parseStarSize(l._szStar)/o*e)),u!=l._sz&&(l._sz=u,r=!0)}}return r&&(this._dirty=!0,this._update()),r}return!1},t}(_y),Hc=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._maxLevel=-1,e}return vr(t,n),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=U(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this;if(n.prototype._update.call(this)){var i=this.grid?this.grid.collectionView:null,r=i?i.items:null,o=0;return this._maxLevel=-1,this.forEach(function(s){s instanceof tn&&s.level>e._maxLevel&&(e._maxLevel=s.level);var a=s.dataItem;a&&r?a===r[o]?s._idxData=o:a===r[o+1]?s._idxData=++o:a!==r[s._idxData]&&(s._idxData=-1):s._idxData=-1}),!0}return!1},t}(_y),vy=function(n,t,e,i,r){if(void 0===r&&(r=!1),$(n,"role",r?"rowheader":"columnheader"),(t.describedById||e.columns.describedById)&&$(n,"aria-describedby",[t.describedById,e.columns.describedById].join(" ").trim()||null),i.allowSorting){var s="none";switch(i._getBindingColumn(e,0,t).currentSort){case"+":s="ascending";break;case"-":s="descending"}$(n,"aria-sort",s)}i.isReadOnly||($(n,"aria-readonly",t.isReadOnly),$(n,"aria-required",t.isReadOnly?null:t.getIsRequired()&&!r)),$(n.closest(".wj-row"),"role","row")},eP=function(){function n(t){this._updatingCollection=0,this._initialized=!1,this._grid=t,this._initializeColumnGroups(),this._initialized=!0}return Object.defineProperty(n.prototype,"columnGroups",{get:function(){return this._colGroups},enumerable:!0,configurable:!0}),n.prototype.createColumnGroups=function(t){this._initialized=!1,this._createColumnGroups(t),this._initialized=!0},n.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0},n.prototype.getGroupDefinitions=function(){return this._groupDefs},n.prototype.getColumnGroup=function(t,e){return this._getColumnGroup(t,e)},n.prototype.canMoveColumnGroup=function(t,e,i,r){if(t==i&&e==r)return!1;var o=this._grid,s=o.columnHeaders.rows,a=o.columns;if(t<0||t>=s.length||e<0||e>=a.length||i<0||i>=s.length||r<0||r>=a.length)return!1;var l=this._getColumnGroup(t,e),u=this._getColumnGroup(i,r);if(!l||!u||l==u||l.level<u.level&&l._containsGroup(u))return!1;var c=l.parentGroup;return!c||c===u.parentGroup||!c._isCollapseTo(l)},n.prototype.moveColumnGroup=function(t,e,i,r,o){if(this.canMoveColumnGroup(t,e,i,r)){var s=this._getColumnGroup(t,e),a=this._getColumnGroup(i,r);if(!s||!a||s==a||o&&!a.isEmpty)return!1;var l=this._getCollection(s),u=o?a.columns:this._getCollection(a);if(!l||!u)return!1;var c=o?0:u.indexOf(a);return!(c<0||(!o&&l!=u&&r>e&&c++,this._deferCollectionUpdate(function(){if(!l.remove(s))return!1;u.insert(c,s)}),0))}return!1},n.prototype.handleCollectionChange=function(){this._initialized&&!this._updatingCollection&&(this._initialized=!1,this._buildColumnGroups(),this._initialized=!0)},n.prototype.handlePropertyChange=function(t){if(t&&this._initialized){var e=this._grid,i=t._rng,r=t.header;if(r!=t._curr_header)for(var o=i.topRow;o<=i.bottomRow;o++)for(var s=i.leftCol;s<=i.rightCol;s++)e.columnHeaders.setCellData(o,s,r),t._curr_header=r;t.columns.length>0&&e.invalidate()}},n.prototype._initializeColumnGroups=function(){var t=this._grid,e=new fa;this._groupDefs=e,this._colGroups=e,this._colGroups._setOwner(t),this._colGroups._setChangeHandler(this)},n.prototype._createColumnGroups=function(t){this._groupDefs=Dn(t),this._colGroups&&this._colGroups._setOwner(null),this._colGroups=fa._parse(t),this._buildColumnGroups()},n.prototype._buildColumnGroups=function(){var t=this,e=this._grid;this._colGroups._removeChangeHandler(),this._assertColumnGroups(this._colGroups),e.autoGenerateColumns=!1,e.columns.clear(),this._colGroups._setOwner(e),this._colGroups.forEach(function(h){h._beginBuild()});var i=0;this._colGroups.forEach(function(h){t._addColumnGroup(h),i=Math.max(i,h._getMaxLevel())}),this._colGroups.forEach(function(h){h._expandRange(i)});var r=e.columnHeaders.rows;r.clear();for(var o=0;o<=i;o++){var s=new yr;r.splice(o,0,s),o<i&&(s.cssClassAll="wj-colgroup")}for(o=0;o<r.length;o++)for(var a=0;a<e.columns.length;a++){var l=this._getColumnGroup(o,a);if(l){var u=l.header||rf(l.binding);if(e.columnHeaders.setCellData(o,a,u),l.height){var c=e.columnHeaders.rows[o].height;e.columnHeaders.rows[o].height=c<=l.height?l.height:c}l._curr_header=l.header}}this._colGroups._setChangeHandler(this),this._colGroups.forEach(function(h){h._checkIfCollapsed()})},n.prototype._getColumnGroup=function(t,e){var i=this._grid;if(t<i.columnHeaders.rows.length&&e<i.columns.length)for(var r=this._colGroups;r;){for(var o=r,s=0;s<r.length;s++){var a=r[s],l=a._rng;if(l.containsColumn(e)){if(l.containsRow(t)||0==a.columns.length)return a;r=a.columns;break}}if(r==o)break}return null},n.prototype._getCollection=function(t){var e=t.parentGroup;return e?e.columns:this._colGroups},n.prototype._assertColumnGroups=function(t){var e=this;ge(t instanceof fa,"column groups contain items of invalid collection type"),t.forEach(function(i){ge(i instanceof da,"column groups contain items of invalid type"),e._assertColumnGroups(i.columns)})},n.prototype._addColumnGroup=function(t){var e=this,i=this._grid;t._rng.col=i.columns.length,0==t.columns.length?i.columns.push(t):t.columns.forEach(function(r){e._addColumnGroup(r)}),t._rng.col2=i.columns.length-1},n.prototype._beginCollectionUpdate=function(){this._updatingCollection++},n.prototype._endCollectionUpdate=function(){this._updatingCollection--,this._updatingCollection<=0&&this.handleCollectionChange()},n.prototype._deferCollectionUpdate=function(t){try{this._beginCollectionUpdate(),t()}finally{this._endCollectionUpdate()}},n}(),da=function(n){function t(e,i){var r=n.call(this)||this;r._rng=new ne(0,-1),r._lvl=0,r._collapsed=!1,r._cols=new fa,vi(r,e);var o=i&&i.columns;return o&&o.indexOf(r)<0&&o.push(r),r}return vr(t,n),t.prototype._copy=function(e,i){if("columns"==e){var r=Dn(i);return this._cols=fa._parse(r),!0}return!1},Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._cgHeight},set:function(e){this._cgHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._cols.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroup",{get:function(){var e=this._ownerList,i=e&&e.owner;return i instanceof t?i:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this,i=0;e.parentGroup;)e=e.parentGroup,i++;return i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseTo",{get:function(){return this._collTo},set:function(e){ge(Rt(e)||xe(e),"collapseTo should be an array or a string."),this._collTo!=e&&(this._collTo=e,this._updateCollapsedState())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(e){var i=this.grid,r=null;e!=this._collapsed&&(i?(r=new Ft(i.columnHeaders,this._rng,this),i.onColumnGroupCollapsedChanging(r)?this._collapsed=N(e):r=null):this._collapsed=N(e)),this._updateCollapsedState(),i&&r&&i.onColumnGroupCollapsedChanged(r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this._ownerList,i=e&&e.owner;return i instanceof t?i.grid:i instanceof wr?i:null},enumerable:!0,configurable:!0}),t.prototype._beginBuild=function(){var e=this;this._lvl=0;for(var i=this.parentGroup;i;i=i.parentGroup)this._lvl++;setTimeout(function(){if(e.parentGroup&&0!==e._lvl&&e.parentGroup.width&&null==e.width){var r=0,o=0;e.parentGroup._cols.forEach(function(s){r+=s.width,null!=s.width||o++}),e.width=(e.parentGroup.width-r)/o}},0),this._rng=new ne(0,-1),this._rng.row=this._rng.row2=this._lvl,this._cols.forEach(function(r){r._beginBuild()})},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this._cols._setChangeHandler(e)},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this._cols._removeChangeHandler()},t.prototype._setOwnerList=function(e){e!=this._ownerList&&(this._ownerList=e)},t.prototype._checkIfCollapsed=function(){var e=this.grid;e&&e.columns&&(this._collapsed?this._updateCollapsedState():this._cols.forEach(function(i){i._checkIfCollapsed()}))},t.prototype._updateCollapsedState=function(){var e=this.grid,i=e?e.columns:null,r=this._rng,o=this._collapsed;if(i){this._cols.forEach(function(u){u instanceof t&&(u._collapsed=o,u._updateCollapsedState())});for(var s=this._getCollapseToIndices(),a=r.leftCol;a<=r.rightCol;a++){var l=!o||s.indexOf(a)>-1;i[a]._setFlag(Qe.ParentCollapsed,!l)}}},t.prototype._getMaxLevel=function(){var e=this._lvl;return this.columns.forEach(function(i){e=Math.max(e,i._getMaxLevel())}),e},t.prototype._expandRange=function(e){var i=e-this._getMaxLevel();i>0&&(this._rng.row2+=i,this._cols.forEach(function(a){a._shiftRange(i)}));for(var r=this.grid.columns,o=this._rng,s=o.col;s<=o.col2;s++)r[s]._rng.row2=e},t.prototype._shiftRange=function(e){this._rng.row+=e,this._rng.row2+=e,this._cols.forEach(function(i){i._shiftRange(e)})},t.prototype._containsGroup=function(e){for(var i=0;i<this._cols.length;i++){var r=this._cols[i];if(r==e||r._containsGroup(e))return!0}return!1},t.prototype._isCollapseTo=function(e){var i=this.grid,r=i?i.columns:null;if(!e||!r)return!1;var o=this._getCollapseToBindings();if(o&&o.length)for(var s=0;s<o.length;s++)switch(o[s]){case"$first":case"$last":continue;default:if(e===r.getColumn(o[s]))return!0}return!1},t.prototype._getCollapseToBindings=function(){var e=this.collapseTo;return xe(e)?[e]:e},t.prototype._getCollapseToIndices=function(){var e=this.grid,i=this._rng,r=this._getCollapseToBindings();if(r&&r.length){for(var o=[],s=e.columns,a=0;a<r.length;a++)switch(r[a]){case"$first":o.push(i.leftCol);break;case"$last":o.push(i.rightCol);break;default:var l=s.getColumn(r[a]),u=s.indexOf(l);l&&i.containsColumn(u)&&o.push(u)}if(o.length)return o}return[i.rightCol]},t.prototype.onPropertyChanged=function(){var e=this._changeHdl;e&&e.handlePropertyChange(this),n.prototype.onPropertyChanged.call(this)},t}(Qn),fa=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return vr(t,n),t.prototype.getColumn=function(e){return J(e)?this._getColByIdx(e):this._findColByProp("name",e)||this._findColByProp("binding",e)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),t.prototype.push=function(e){return e._setOwnerList(this),n.prototype.push.call(this,e)},t.prototype.splice=function(e,i){for(var r=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];for(var a=e;a<e+i&&a<this.length;a++){var l=this[a];l instanceof da&&l._setOwnerList(null)}return o.forEach(function(u){return u._setOwnerList(r)}),n.prototype.splice.apply(this,[e,i].concat(o))},t._parse=function(e){var i=null;return e?e instanceof t?i=e:(i=new t,e.forEach(function(r){var o=r instanceof da?r:new da(r);i.indexOf(o)<0&&i.push(o)})):i=new t,i},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this.forEach(function(i){return i._setChangeHandler(e)})},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this.forEach(function(e){return e._removeChangeHandler()})},t.prototype._setOwner=function(e){this._owner=e,this.forEach(function(i){return i.columns._setOwner(i)})},t.prototype._getColByIdx=function(e){return e>-1&&e<this.length?this[e]:null},t.prototype._findColByProp=function(e,i){for(var r=0;r<this.length;r++){var o=this[r];if(o[e]===i||null!==(o=o.columns._findColByProp(e,i)))return o}return null},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=Or.reset);var i=this._changeHdl;i&&i.handleCollectionChange(),n.prototype.onCollectionChanged.call(this,e)},t}(ei);Ts("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),function(n){n[n.None=0]="None",n[n.SingleColumn=1]="SingleColumn",n[n.MultiColumn=2]="MultiColumn"}(is||(is={})),function(n){n[n.None=0]="None",n[n.SingleColumn=1]="SingleColumn",n[n.ColumnRange=2]="ColumnRange",n[n.Both=3]="Both"}(Fr||(Fr={})),function(n){n[n.None=0]="None",n[n.Column=1]="Column",n[n.Row=2]="Row",n[n.All=3]="All"}(It||(It={})),function(n){n[n.Default=0]="Default",n[n.CSV=1]="CSV",n[n.QuoteAll=2]="QuoteAll",n[n.SkipMerged=4]="SkipMerged",n[n.Unformatted=8]="Unformatted",n[n.InvisibleRows=16]="InvisibleRows",n[n.InvisibleColumns=32]="InvisibleColumns",n[n.InvisibleCells=48]="InvisibleCells"}(oo||(oo={})),function(n){n[n.None=0]="None",n[n.Column=1]="Column",n[n.Row=2]="Row",n[n.All=3]="All"}(kn||(kn={})),function(n){n[n.Column=0]="Column",n[n.Row=1]="Row"}(Nf||(Nf={})),function(n){n[n.Top=0]="Top",n[n.Bottom=1]="Bottom",n[n.Auto=2]="Auto"}(Lr||(Lr={}));var ql,wr=function(n){function t(e,i){var r=n.call(this,e,null,!0)||this;r._activeCell=null,r._szClient=new Ke(0,0),r._szClientSB=new Ke(0,0),r._offsetY=0,r._cssPage=0,r._ptScrl=new T(0,0),r._cellPadLeft=3,r._cellPadHorz=3,r._cellPadVert=0,r._clipToScreen=!1,r._anchorCell=null,r._autoGenCols=!0,r._autoClipboard=!0,r._xOnCopyPaste=!0,r._autoScroll=!0,r._autoSearch=!1,r._caseSensitive=!1,r._readOnly=!1,r._indent=14,r._autoSizeMode=rs.Both,r._autoHeights=!1,r._quickSize=null,r._hdrVis=It.All,r._hdrFoc=kn.None,r._alSorting=is.SingleColumn,r._alPinning=Fr.None,r._alAddNew=!1,r._alDelete=!1,r._alResizing=so.Columns,r._alDragging=Ro.Columns,r._alMerging=ql.None,r._ssHdr=It.None,r._shSort=!0,r._shGroups=!0,r._shMarquee=!1,r._shPlcHld=!1,r._altStep=1,r._shErr=!0,r._shDropDown=!0,r._valEdt=!0,r._gHdrFmt=null,r._childItemsPath=null,r._sortRowIndex=null,r._editColIndex=null,r._deferResizing=!1,r._pSel=!0,r._pOutline=!0,r._stickyHdr=!1,r._anchorCursor=!1,r._copyHeaders=It.None,r._bigChecks=!1,r._skipMerged=!1,r._commitEmptyEdits=!0,r._maxContent=!1,r._pasteEmptyCells=!0,r._groupSummaryPosition=Lr.Top,r._fzClone=null,r._vt=0,r._vtRows=0,r._vtCols=0,r._lazyRender=!0,r._refreshOnEdit=!0,r._reorderCells=!0,r._lastStickyScroll=0,r._scrollStickyThrottleTimeout=14,r._scrollEndTimer=null,r._contentEstimationLimit=100,r.isScrollingSilent=!1,r._isISChanging=!1,r._isScrollingByWheel=!1,r.cachedDefaultHeight=-1,r.cachedHeights={},r._touchEdit=!1,r.itemsSourceChanging=new k,r.itemsSourceChanged=new k,r.scrollPositionChanged=new k,r.selectionChanging=new k,r.selectionChanged=new k,r.loadingRows=new k,r.loadedRows=new k,r.updatingLayout=new k,r.updatedLayout=new k,r.resizingColumn=new k,r.resizedColumn=new k,r.autoSizingColumn=new k,r.autoSizedColumn=new k,r.starSizedColumns=new k,r.draggingColumn=new k,r.draggingColumnOver=new k,r.draggedColumn=new k,r.pinningColumn=new k,r.pinnedColumn=new k,r.resizingRow=new k,r.resizedRow=new k,r.autoSizingRow=new k,r.autoSizedRow=new k,r.draggingRow=new k,r.draggingRowOver=new k,r.draggedRow=new k,r.groupCollapsedChanging=new k,r.groupCollapsedChanged=new k,r.columnGroupCollapsedChanging=new k,r.columnGroupCollapsedChanged=new k,r.sortingColumn=new k,r.sortedColumn=new k,r.beginningEdit=new k,r.prepareCellForEdit=new k,r.cellEditEnding=new k,r.cellEditEnded=new k,r.rowEditStarting=new k,r.rowEditStarted=new k,r.rowEditEnding=new k,r.rowEditEnded=new k,r.rowAdded=new k,r.deletingRow=new k,r.deletedRow=new k,r.copying=new k,r.copied=new k,r.pasting=new k,r.pasted=new k,r.pastingCell=new k,r.pastedCell=new k,r.formatItem=new k(function(){r._clearCells()}),r.updatingView=new k,r.updatedView=new k,r._mappedColumns=null;var o=r.hostElement;pt()&&(o.style.borderRadius="0");var s=r.getTemplate();if(r.applyTemplate("wj-control wj-content wj-flexgrid",s,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),ie(r._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit"}),ie(r._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit",overflow:"auto",webkitOverflowScrolling:"touch"}),ie(r._eCt,{position:"absolute"}),ie(r._eMarquee,{display:"none"}),ie(r._eMarquee.firstChild,{width:"100%",height:"100%"}),ie(r._fCt,{position:"absolute",top:0,left:0,overflow:"hidden",pointerEvents:"none"}),ie(r._eFocus,{position:"fixed",left:"-32000px"}),ie(r._eSz,{position:"relative",visibility:"hidden"}),[r._eRHdr,r._eCFtr,r._eCHdr,r._eBL,r._eTL].forEach(function(l){$(l,"aria-hidden",!0),ie(l,{position:"absolute",overflow:"hidden",outline:"none"}),ie(l.firstElementChild,{position:"relative"})}),[r._eFocus,r._eMarquee,r._fCt,r._eSz].forEach(function(l){$(l,"aria-hidden",!0)}),Zo()||nM()){var a=r._eMarquee;["click","dblclick","mousedown","mouseup"].forEach(function(l){r.addEventListener(a,l,function(u){var c=a.style.display;a.style.display="none";var h=document.elementFromPoint(u.clientX,u.clientY);a.style.display=c;var d=document.createEvent("Event");for(var f in d.initEvent(l,!0,!0),u)try{d[f]=u[f]}catch{}h.dispatchEvent(d)})})}return o.tabIndex=-1,r._uid=xc(),r.deferUpdate(function(){var l=r._getDefaultRowHeight();r._rows=new Hc(r,l),r._cols=new Of(r,4*l),r._hdrRows=new Hc(r,l),r._hdrCols=new Of(r,Math.round(1.25*l)),r._ftrRows=new Hc(r,l);var u=H;r._gpTL=new ki(r,u.TopLeft,r._hdrRows,r._hdrCols,r._eTLCt),r._gpCHdr=new ki(r,u.ColumnHeader,r._hdrRows,r._cols,r._eCHdrCt),r._gpRHdr=new ki(r,u.RowHeader,r._rows,r._hdrCols,r._eRHdrCt),r._gpCells=new ki(r,u.Cell,r._rows,r._cols,r._eCt),r._gpBL=new ki(r,u.BottomLeft,r._ftrRows,r._hdrCols,r._eBLCt),r._gpCFtr=new ki(r,u.ColumnFooter,r._ftrRows,r._cols,r._eCFtrCt),r.activePanel=r._gpCells,r._hdrRows.push(new yr),r._hdrCols.push(new Qn({align:"center"})),r._cf=new rn,r._keyHdl=new aP(r),r._mouseHdl=new uP(r),r._edtHdl=new oP(r),r._selHdl=r._createSelHdl(),r._addHdl=new tP(r),r._grpHdl=new eP(r),r._mrgMgr=new yy,r._bndSortConverter=r._sortConverter.bind(r),r._errorTip=new Ol({isContentHtml:!1,showDelay:50,cssClass:"wj-error-tip"}),r._errorTip._tooltipVisibleOnHover=!1,r.selectionMode=at.CellRange,r._root.tabIndex=-1,r.initialize(i)}),r.addEventListener(r._root,"scroll",function(l){if(r._updateScrollPosition()||r._forceScrollUpdate){var u=r.activeEditor,c=r.activeCell,h=c?c.className:null;if((gt(c,"wj-detail")||gt(u,"wj-numeric"))&&z.sharedState.InvalidScroll)return void setTimeout(function(){z.sharedState.InvalidScroll=!1},0);r._forceScrollUpdate||z.sharedState.InvalidScroll||r.finishEditing(),r._forceScrollUpdate=!1;var d=r._edtHdl.validate,f=r._edtHdl._getCustomEditor(r);if(!(u&&f&&f.isOpen&&d)){"React"===r.workingAs?requestAnimationFrame(function(){r._updateContent(!0),setTimeout(function(){z.sharedState.InvalidScroll=!1},0)}):(r._updateContent(!0),setTimeout(function(){z.sharedState.InvalidScroll=!1},0));var p=r.activeEditor,g=r.activeCell;p&&g&&u&&h?(p.value=u.value,g.className=h,r._setFocusNoScroll(p)):!p||g||z.sharedState.InvalidScroll||r.finishEditing(!0)}r.columns.frozen&&setTimeout(function(){var _=parseInt(r.columnHeaders.hostElement.style.left);Math.abs(_-r._ptScrl.x)>1&&r.invalidate()}),setTimeout(function(){r._isScrollingByWheel=!1,z.sharedState.InvalidScroll=!1},0)}}),r.addEventListener(o,"focus",function(l){if(o.tabIndex>-1){var u=l.target;u instanceof HTMLElement&&u.tabIndex<0&&r._setFocus(!0)}},!0),r}return vr(t,n),Object.defineProperty(t.prototype,"activePanel",{get:function(){return this._activePanel},set:function(e){this._activePanel=Pe(e,ki,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activePanelType",{get:function(){return this._activePanel?this._activePanel.cellType:H.Cell},enumerable:!0,configurable:!0}),t.prototype._handleResize=function(){var e=this;this._rcBounds=null,this.activeEditor&&this.isTouching||this._touchEdit?setTimeout(function(){e.activeEditor||(e._touchEdit=!0,e.startEditing(!0))},50):n.prototype._handleResize.call(this),this._touchEdit=!1},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=Ie(e,It))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headersFocusability",{get:function(){return this._hdrFoc},set:function(e){(e=Ie(e,kn))!=this._hdrFoc&&(this._hdrFoc=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=N(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxContent",{get:function(){return this._maxContent},set:function(e){e!=this._maxContent&&(this._maxContent=N(e),this._adjustMaxContentWidth(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=Ie(e,It)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,J(e)?this._vtRows=this._vtCols=F(e):e?Rt(e)&&2==e.length?(this._vtRows=F(e[0]),this._vtCols=F(e[1])):ge(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e,i=this._hasColumnGroups(),r=i?da:Qn,o=i?"columnGroups":"columns",s=t._getSerializableProperties(r),a=i?["collapseTo"]:[],l=["size"],u=new r,c=i?this.getColumnGroups():this.columns,h=function(f){var p=[];return f.forEach(function(g){var m={};if(s.forEach(function(v){var w,b,y=g[v];(b=y)!=u[w=v]&&l.indexOf(w)<0&&(Cc(b)||a.indexOf(w)>-1)&&(m[v]=y)}),i){var _=g.columns;_.length&&(m.columns=h(_))}p.push(m)}),p},d=h(c);return JSON.stringify(((e={})[o]=d,e))},set:function(e){var i=this,r=JSON.parse(U(e));ge(r,"Invalid columnLayout data."),this.columns.deferUpdate(function(){i.columns.clear(),i._hasColumnGroups()&&(i.columnGroups=new fa),i.initialize(r)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear(),this._grpHdl.createColumnGroups(Dn(e))},enumerable:!0,configurable:!0}),t.prototype.getColumnGroups=function(){return this._grpHdl.columnGroups},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=N(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),qe(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipMerged",{get:function(){return this._skipMerged},set:function(e){this._skipMerged=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pasteEmptyCells",{get:function(){return this._pasteEmptyCells},set:function(e){this._pasteEmptyCells=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=N(e,!0))!=this.isDisabled){var i=this._e;i&&(Xi(i,!e),this._updateTabIndex(),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(e){if(N(e)!=this.imeEnabled&&this.finishEditing()){var i=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new jf(this)),i&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=Ie(e,so)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=Ie(e,rs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=N(e),this._autoRowHeights()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=N(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return Zn(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){Zn(e)&&(e=e?is.SingleColumn:is.None),this._alSorting=Ie(e,is)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(e){e!=this._alPinning&&(Zn(e)&&(e=e?Fr.SingleColumn:Fr.None),this._alPinning=Ie(e,Fr),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=N(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=N(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=Ie(e,ql))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=Ie(e,It))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(e){e!=this._shMarquee&&(this._shMarquee=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPlaceholders",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=N(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=Xt(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){Dc("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=N(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=Pe(e,Ol,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=Ot(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._setvalidateEdits(e)},enumerable:!0,configurable:!0}),t.prototype._setvalidateEdits=function(e){this._valEdt=N(e)},Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=U(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=Ie(e,Ro))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){this._ariaLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){var i=this;if(e!=this._items){var o,r=new zt;if(this.onItemsSourceChanging(r))this._cv&&((o=this._cv).currentChanged.removeHandler(null,this),o.collectionChanged.removeHandler(null,this),o instanceof gr&&o.sortConverter==this._bndSortConverter&&(o.sortConverter=null),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv&&((o=this._cv).currentChanged.addHandler(function(s,a){return i._cvCurrentChanged(s,a)},this),o.collectionChanged.addHandler(function(s,a){return i._cvCollectionChanged(s,a)},this),o instanceof gr&&(e&&(o.trackChanges=!!e.trackChanges),o.sortConverter||(o.sortConverter=this._bndSortConverter))),this._isISChanging=!0,this._bindGrid(!0),this._isISChanging=!1,this.onItemsSourceChanged(r)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return Tn(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(ge(null==e||Rt(e)||xe(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=U(e),this._rowHdrPath=e?new At(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e,i){if(this._hasColumnGroups()&&i){var r=this.getColumnGroups();return null!==r?r.getColumn(e):null}return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen-this.rows.frozenDetailChildren},set:function(e){this.rows.frozen=e+this.rows.frozenDetailChildren},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this._fzClone&&(Jr(this._fCt,null),this._fzClone=N(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var i=this._root,r=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":r=i.scrollWidth-i.clientWidth+e.x;break;case"neg":r=e.x;break;default:r=-e.x}i.scrollLeft=r,i.scrollTop=-e.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commitEmptyEdits",{get:function(){return this._commitEmptyEdits},set:function(e){e!=this._commitEmptyEdits&&(this._commitEmptyEdits=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=Ki(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new Ke(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=Pe(e,rn,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=Ot(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupSummaryPosition",{get:function(){return this.childItemsPath?Lr.Top:this._groupSummaryPosition},set:function(e){e!==this._groupSummaryPosition&&(this._groupSummaryPosition=Ie(e,Lr,!1),this._bindGrid(!1))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,i){return this._edtHdl._allowEdit(e,i)},t.prototype.getCellData=function(e,i,r){return this.cells.getCellData(e,i,r)},t.prototype.getRowDataItem=function(e,i){return this.rows[F(e,!1,!0)].dataItem},t.prototype._getRowData=function(e){return this.cells._getRowData(e)},t.prototype.getCellBoundingRect=function(e,i,r){return this.cells.getCellBoundingRect(e,i,r)},t.prototype.setCellData=function(e,i,r,o,s){return void 0===o&&(o=!0),void 0===s&&(s=!0),this.cells.setCellData(e,i,r,o,s)},t.prototype.hitTest=function(e,i){return J(e)&&J(i)&&(e=new T(e,i)),Zn(i)&&i&&(this._rcBounds=null),new Bc(this,e)},t.prototype.getClipString=function(e,i,r,o){var s;return ge(J(s=this.skipMerged?oo.SkipMerged:null==i||Zn(i)?i?oo.CSV:oo.Default:i),"Unexpected value for ClipStringOptions parameter."),this._edtHdl.getClipString(e,s,r,o)},t.prototype.setClipString=function(e,i){this._edtHdl.setClipString(e,i)},t.prototype.focus=function(e){this.isDisabled||this._setFocus(e)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.finishEditing(),e&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl,this._updateDefaultSizes(),clearTimeout(this._toInv),this._toInv=null),this.refreshCells(e);var i=this._e;i&&(this._szCtl=new Ke(i.offsetWidth,i.offsetHeight))},t.prototype.refreshCells=function(e,i,r){this.isUpdating||(e?this._updateLayout():this._updateContent(i,r))},t.prototype.refreshRange=function(e){for(var i=e.topRow;i<=e.bottomRow;i++)for(var r=e.leftCol;r<=e.rightCol;r++){var o=this.cells.getCellElement(i,r);o&&this.cellFactory.updateCell(this.cells,i,r,o,o[ki._INDEX_KEY].rng)}this._useFrozenDiv()&&this._updateFrozenCells(!0,!0)},t.prototype.autoSizeColumn=function(e,i,r){void 0===i&&(i=!1),void 0===r&&(r=4),this.autoSizeColumns(e,e,i,r)},t.prototype.autoSizeColumns=function(e,i,r,o){var s=this;void 0===r&&(r=!1),void 0===o&&(o=4);var a=0,l=r?this.topLeftCells:this.columnHeaders,u=r?this.bottomLeftCells:this.columnFooters,c=r?this.rowHeaders:this.cells,h=this.viewRange;e=null==e?0:Xt(e),i=null==i?c.columns.length-1:Xt(i),h.row=Math.max(0,h.row-1e3),h.row2=Math.min(h.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){ie(s._eCt,{width:s._gpCells.width});for(var d=Ct("<div "+t._WJS_MEASURE+'="true"/>',c.hostElement,{visibility:"hidden"}),f=s._getCanvasContext(),p=e;p<=i&&p>-1&&p<c.columns.length;p++){var g=c.columns[p];if(g.isVisible){if(a=0,s.autoSizeMode&rs.Headers){for(var m=0;m<l.rows.length;m++)l.rows[m].isVisible&&(a=Math.max(s._getDesiredWidth(l,m,p,d),a));for(m=0;m<u.rows.length;m++)u.rows[m].isVisible&&(a=Math.max(s._getDesiredWidth(u,m,p,d),a))}if(s.autoSizeMode&rs.Cells&&h.row>-1&&h.row2>-1)if(g._getQuickAutoSize())m=s._getWidestRow(c,h,p,f),a=Math.max(s._getDesiredWidth(c,m,p,d),a);else for(m=h.row;m<=h.row2&&m<c.rows.length;m++)c.rows[m].isVisible&&(a=Math.max(s._getDesiredWidth(c,m,p,d),a));a>0&&(g.width=a+o+2)}}s.cellFactory.disposeCell(d),Dt(d)})},t.prototype.autoSizeRow=function(e,i,r){void 0===i&&(i=!1),void 0===r&&(r=0),this.autoSizeRows(e,e,i,r)},t.prototype.autoSizeRows=function(e,i,r,o){var s=this;void 0===r&&(r=!1),void 0===o&&(o=0);var a=0,l=1==r?this.topLeftCells:null==r?this.bottomLeftCells:this.rowHeaders,u=1==r?this.columnHeaders:null==r?this.columnFooters:this.cells;if(o=F(o),e=null==e?0:Xt(e),(i=null==i?u.rows.length-1:Xt(i))>=e&&this.finishEditing()){ie(this._eCt,{width:this._gpCells.width}),this.cachedHeights={};var c=Ct("<div "+t._WJS_MEASURE+'="true"/>',u.hostElement,{visibility:"hidden"});this.rows.deferUpdate(function(){for(var h={},d=s._autoSizeMode,f=rs,p=e;p<=i&&p>-1&&p<u.rows.length;p++)u.rows[p].isVisible&&(a=0,d&f.Headers&&(a=s._getDesiredRowHeight(l,p,c,h)),d&f.Cells&&(a=Math.max(s._getDesiredRowHeight(u,p,c,h),a)),a>0&&(u.rows[p].height=a+o))}),this.cellFactory.disposeCell(c),Dt(c)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=F(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var i=this;this.finishEditing()&&this.deferUpdate(function(){var r=i.rows;r.deferUpdate(function(){for(var o=0;o<r.length;o++){var s=r[o];s instanceof tn&&!s.isSummary&&(s.isCollapsed=s.level>=e)}})})},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=Ie(e,at))!=this.selectionMode&&(this._selHdl.selectionMode=e,this._updateTabIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,i,r){return void 0===i&&(i=!0),this._selHdl.select(e,i,!1,r)},t.prototype.selectAll=function(){var e=this.rows.length,i=this.columns.length;return!(!e||!i)&&this.select(new ne(0,0,e-1,i-1),!1)},t.prototype.getSelectedState=function(e,i){return this.cells.getSelectedState(e,i)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=this,i=this.selectionMode,r=this.rows.filter(function(s){return s.isSelected});if(0==r.length&&i!=at.None){var o=[];this.selectedRanges.forEach(function(s){for(var a=s.topRow;a<=s.bottomRow&&a>-1&&a<e.rows.length;a++)o.indexOf(a)<0&&o.push(a)}),o.sort(),r=o.map(function(s){return e.rows[s]})}return r},set:function(e){var i=this;ge(this.selectionMode==at.ListBox,"This property can be set only in ListBox mode."),e=Dn(e),this.deferUpdate(function(){for(var r=0,o=!0;r<i.rows.length;r++){var s=i.rows[r],a=e&&e.indexOf(s)>-1;a&&o&&(o=!1,i.select(r,i.selection.col)),s.isSelected=a}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){var e=[];return this.selectedRows.forEach(function(i){var r=i?i.dataItem:null;r&&e.indexOf(r)<0&&e.push(r)}),e},set:function(e){var i=this;ge(this.selectionMode==at.ListBox,"This property can be set only in ListBox mode."),e=Dn(e),this.deferUpdate(function(){for(var r=0,o=!0;r<i.rows.length;r++){var s=i.rows[r],a=e&&e.indexOf(s.dataItem)>-1;a&&o&&(o=!1,i.select(r,i.selection.col)),s.isSelected=a}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach(function(i){e.push(i)}),e},set:function(e){if((e=Dn(e))&&e.length>0&&(this.select(e[0]),this.selectionMode==at.MultiRange)){var i=this._selHdl.extendedSelection;i.deferUpdate(function(){i.clear();for(var r=1;r<e.length;r++)i.push(e[r])})}},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,i,r){var o=this;(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var s=this.scrollPosition,a=this._szClient,l=a.width,u=a.height-this._gpCFtr.rows.getTotalSize(),c=this.cells._getFrozenPos();e=Xt(e),xe(i)&&(i=this.columns.indexOf(i)),i=Xt(i);try{var h=this.getMergedRange(this.cells,e,i,!1),d=this.cells._getFrozenPos();h&&h.rowSpan>1&&this._rows[e].pos>d.y+-this.scrollPosition.y&&(e=h.bottomRow)}catch{}var f=this._rows[e];if(e>-1&&e<this._rows.length&&e>=this._rows.frozen){var p=this._getCssPage(f.pos);if(p!=this._cssPage){for(var g=this._maxOffsetY,m=Math.round(g*p);m>f.pos;p-=.1)m=Math.round(g*p);this._offsetY=m}var _=f.pos-this._offsetY,v=_+f.renderSize;v>u-s.y&&(s.y=Math.max(-_,u-v)),_-c.y<-s.y&&(s.y=-(_-c.y)),p!=this._cssPage&&(this._cssPage=this._getCssPage(-s.y))}if(i>-1&&i<this._cols.length&&i>=this._cols.frozen){var y=this._cols[i],w=y.pos+y.renderSize;w>-s.x+l&&(s.x=Math.max(-y.pos,l-w)),y.pos-c.x<-s.x&&(s.x=-(y.pos-c.x))}if(!s.equals(this._ptScrl))return s.x<this._ptScrl.x&&(0!==s.x?s.x-=1:this.rightToLeft&&(s.x+=1)),0!==s.y&&s.y<this._ptScrl.y&&(s.y-=1),this.scrollPosition=s,r&&(this._updateScrollPosition(),this._forceScrollUpdate=!1,this.refresh()),setTimeout(function(){var Q=nt();Q.classList.contains("wj-state-invalid")&&o.errorTip._showAutoTip(void 0,Q)},50),!0;if(f&&this.hostElement.clientHeight>document.scrollingElement.clientHeight){var b=document.scrollingElement.scrollTop,C=b+document.scrollingElement.clientHeight,I=this.hostElement.offsetTop+this.cells.hostElement.offsetTop+f.pos,M=I+f.renderSize;this._stickyHdr&&(I-=this._eCHdr.offsetHeight);var S=void 0;I<b?S=b-(b-I):M>C&&(S=b+(M-C)),void 0!==S&&this.scrollToSilently({top:S})}if(this._activeCell&&e>-1&&i>-1){var R=this._root,P=R.scrollWidth==R.clientWidth,x=R.scrollHeight==R.clientHeight;if(P||x){var E=this._activeCell.getBoundingClientRect(),j=innerWidth,ee=innerHeight,L=E.right<0||E.left>j,B=E.bottom<0||E.top>ee;s.x=pageXOffset+(E.left<0?E.left:E.right>j?E.right-j:0),s.y=pageYOffset+(E.top<0?E.top:E.bottom>ee?E.bottom-ee:0),L&&P&&B&&x?scrollTo(s.x,s.y):L&&P?scrollTo(s.x,document.documentElement.scrollLeft):B&&x&&scrollTo(document.documentElement.scrollTop,s.y)}}return!1},t.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,i,r,o,s){return void 0===e&&(e=!0),this._edtHdl.startEditing(e,i,r,o,s)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){var e=this._edtHdl;return e?e.activeEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=Pe(e,yy,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,i,r,o){return void 0===o&&(o=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,i,r,o):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=Ie(e,Fs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=Ie(e,Fs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveWhiteSpace",{get:function(){return gt(this.hostElement,t._WJS_WSPRE)},set:function(e){qe(this.hostElement,t._WJS_WSPRE,N(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=N(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),null!=this._edtHdl._lbx},Object.defineProperty(t,"defaultTypeWidth",{get:function(){return t._defTypeWidth},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onPinningColumn=function(e){return this.pinningColumn.raise(this,e),!e.cancel},t.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onColumnGroupCollapsedChanging=function(e){return this.columnGroupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this._addHdl._beginningEdit(this,e),e.cancel||this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this.rows[e.row].resizedManually||(this.rows[e.row].size=null),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){return this._addHdl._rowEditStarting(this,e),e.cancel||this.rowEditStarting.raise(this,e),!e.cancel},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this._addHdl._rowEditEnding(this,e),this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._addHdl._rowEditEnded(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e),this.rows[e.row].resizedManually||(this.rows[e.row].size=null)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._createSelHdl=function(){return new JT(this)},t.prototype._getTabIndex=function(){return this._orgTabIndex},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.isDisabled?-1:this._orgTabIndex,i=this._imeHdl;i&&i._updateImeFocus();var r=this._activeCell,o=this._root,s=this._eFocus;r?(r.tabIndex=e,s.tabIndex=-1,o.tabIndex=-1):this.selectionMode!=at.None?(s.tabIndex=e,o.tabIndex=-1):(o.tabIndex=e,s.tabIndex=-1)},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach(function(i){i._updateContent(!0,!1,i._getOffsetY())}),clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout(function(){e._toAutoHeights=null,e.editRange||e._autoSizeRows()},z._REFRESH_INTERVAL))},t.prototype._autoSizeRows=function(){var e=this.autoSizeMode,i=rs;e&i.Headers&&(this._autoSizeMode=i.Both,this.autoSizeRows(0,this.columnHeaders.rows.length-1,!0),this._autoSizeMode=e),e&i.Cells&&this.autoSizeRows()},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,i,r,o){if(Ge(this.itemValidator)){if(e==this.cells)return this.itemValidator(i,r,o);if(e==this.rowHeaders){var s=e.rows,a=this.columns,l=s[i].dataItem,u=null,c=[],h=i;if(_=this.getMergedRange(e,i,r,!1))for(i=h=_.row;i<s.length&&(s[i].dataItem==l||_&&_.rowSpan>1&&_.row2>=i);i++)for(var d=0;d<a.length;d++)(u=this.itemValidator(i,d,!1))&&((b=this.getMergedRange(this.cells,i,d))&&(b.columnSpan>1&&b.col<d||b.rowSpan>1&&b.row<i)||c.push(u));else for(d=0;d<this.columns.length;d++){var f=this.itemValidator(i,d,!1);f&&c.push(f)}if(c.length){var p=!!(C=this.errorTip)&&C.isContentHtml;u=c.join(p?"<br/>":"\n")}return u}}var g=this._cv,m=g?g.getError:null;if(Ge(m)&&(a=this.columns,(l=(s=e.rows)[i].dataItem)&&!(l instanceof Nr)))if(e==this.cells)for(;i<s.length&&s[i].dataItem==l;i++)return m(l,(v=this._getBindingColumn(this.cells,i,a[r])).binding,o);else if(e==this.rowHeaders){if(!(u=m(l,null,!1))){var _,C;for(c=[],h=i,(_=this.getMergedRange(e,i,r,!1))&&(h=_.row),i=h;i<s.length&&(s[i].dataItem==l||_&&_.rowSpan>1&&_.row2>=i);i++)for(d=0;d<a.length;d++){var b,v=this._getBindingColumn(this.cells,i,a[d]),y=s[i].dataItem,w=y&&v&&v.binding?v._binding.getValue(y):null;(u=v.binding&&y&&v.getIsRequired(s[i])&&(null==w||""===w)?this._edtHdl._getRequiredMsg():m(y,v.binding,!1))&&((b=this.getMergedRange(this.cells,i,d))&&(b.columnSpan>1&&b.col<d||b.rowSpan>1&&b.row<i)||c.push(u))}c.length&&(p=!!(C=this.errorTip)&&C.isContentHtml,u=c.join(p?"<br/>":"\n"))}return u}return null},t.prototype._setAria=function(e,i){$(this.cells.hostElement,"aria-"+e,i)},t.prototype._setFocus=function(e){if(this.hostElement){var i=nt(),r=this.activeEditor,o=this._activeCell,s=this._eFocus,a=this._root,l=this._getTabIndex(),u=this.containsFocus();if(!e&&u&&this.selectionMode!=at.None){if(this.rows.length>0&&this.selection.row>=0&&this.selection.col>=0){var c=this._getBindingColumn(this.cells,this.selection.row,this.columns[this.selection.col]),h=c&&c._edt;!o||je(o,i)||this.imeEnabled||h||this._correctFocusOfActiveCell(o)}}else(e||!u)&&(r?je(r,i)||(r.focus(),s.tabIndex=-1,a.tabIndex=-1):o?je(o,i)||this._correctFocusOfActiveCell(o):!je(s,i)&&i!=a&&(this.selectionMode!=at.None?(s.tabIndex=l,this._setFocusNoScroll(s)):(a.tabIndex=l,this._setFocusNoScroll(a))),this.containsFocus()||(this.selectionMode!=at.None?(s.tabIndex=l,this._setFocusNoScroll(s)):(a.tabIndex=l,this._setFocusNoScroll(a))))}},t.prototype._correctFocusOfActiveCell=function(e){var i=this._getTabIndex();nt()!=this._root?(pt()&&gt(e,"wj-group")&&(e=e.querySelector("."+rn._WJC_COLLAPSE)||e),e.tabIndex=i,this._setFocusNoScroll(e)):e.tabIndex=i,this._eFocus.tabIndex=-1},t.prototype._setFocusNoScroll=function(e){if(nt()!=e){if(oM())e.focus({preventScroll:!0});else{var i=this.scrollPosition,r=e.style,o=r.position;r.position="fixed",e.focus(),r.position=o,this.scrollPosition=i}this._fixScroll()}},t.prototype._clearAnchorCell=function(){this._anchorCell=null},t.prototype._setAnchorCell=function(e,i){var r=this.getMergedRange(this.cells,e,i);this._anchorCell=r?new T(r.col,r.row):new T(i,e)},t.prototype._getAnchorCell=function(){return this._anchorCell},t.prototype._updateDefaultSizes=function(){var e=this._getDefaultRowHeight();return this._rows._setDefaultSize(e),this._cols._setDefaultSize(4*e),this._hdrRows._setDefaultSize(e),this._hdrCols._setDefaultSize(Math.round(1.25*e)),this._ftrRows._setDefaultSize(e),e},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,i=this._eFocus,r=null;i.offsetHeight||(r=Ct('<div><div class="wj-cell">0</div></div>',document.body),e&&r.setAttribute("class",e.getAttribute("class")),i=r.children[0]);var o=i.offsetHeight;return(isNaN(o)||o<=6)&&(o=28),Dt(r),o},t.prototype._getCollectionView=function(e){return Is(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),i=getComputedStyle(this.hostElement);return e.font=i.fontSize+" "+i.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,i,r,o){for(var s=0,a=0,l=1===this._getRowsPerItem()&&e.columns[r].dataType==ze.Boolean,u=i.row;u<=i.row2;u++)if(e.rows[u].isVisible){var c=e.getCellData(u,r,!0),h=o.measureText(c).width,d=this.getMergedRange(e,u,r,!1);if(d&&d.columnSpan>1&&(h/=d.columnSpan),h>a&&(a=h,s=u),l)break;u+=d?d.rowSpan-1:0}return s},t.prototype._getDesiredWidth=function(e,i,r,o){var s=this.getMergedRange(e,i,r,!1),a=o.style;return this.cellFactory.updateCell(e,i,r,o,s),a.width=a.top=a.left="",o.offsetWidth/(s&&s.columnSpan>1?s.columnSpan:1)},t.prototype._getDesiredHeight=function(e,i,r,o){var s=o.style,a=this.getMergedRange(e,i,r,!1),l=a?a.rowSpan:1;this.cellFactory.updateCell(e,i,r,o,a);var u=o.innerHTML,c=this.cachedHeights[u];return u.trim()||(null==(c=this.cachedHeights[u="&nbsp;"])&&(o.innerHTML=u),e.rows[i].wordWrap||e.columns[r].wordWrap)?((null==c||c<o.scrollHeight)&&(s.height=s.top=s.left="",this.cachedHeights[u]=o.offsetHeight),this.cachedHeights[u]/l):(-1==this.cachedDefaultHeight&&(s.height=s.top=s.left="",this.cachedDefaultHeight=o.offsetHeight),this.cachedHeights[u]=this.cachedDefaultHeight,this.cachedDefaultHeight/l)},t.prototype._getDesiredRowHeight=function(e,i,r,o){for(var s=0,a=this._getQuickAutoSize(),l=0;l<e.columns.length;l++)if(e.columns[l].isVisible){var u=this.getMergedRange(e,i,l,!1),c=void 0;if(a){var h={ct:e.cellType,col:l,spr:u&&u.rowSpan>1?u.rowSpan:1,spc:u&&u.columnSpan>1?u.columnSpan:1,data:e.getCellData(i,l,!0)||"1"},d=JSON.stringify(h);null==(c=o[d])&&(c=this._getDesiredHeight(e,i,l,r),o[d]=c)}else c=this._getDesiredHeight(e,i,l,r);s=Math.max(c,s),l+=u?u.columnSpan-1:0}return s},t.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getDeleteColumnIndex=function(){return 0},t.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,i,r,o){var s,a=this;if(o&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach(function(u){(s=a.getColumn(u.property))&&s.dataMap&&(a._mappedColumns||(a._mappedColumns={}),a._mappedColumns[s.binding]=s.dataMap)}),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(s=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&s.dataMap&&(this._mappedColumns[s.binding]=s.dataMap))),this._mappedColumns){var l=this._mappedColumns[e.property];l&&l.sortByDisplayValues&&(r=l.getDisplayValue(r))}return r},t.prototype._bindGrid=function(e){var i=this;if(this.finishEditing(),this.deferUpdate(function(){var a;i.autoGenerateColumns&&0==i._lastCount&&Pn(i._cv)&&(e=!0),i.preserveSelectedState&&(a=i._getMap())&&i.rows.forEach(function(w){w.isSelected&&w.dataItem&&a.set(w.dataItem,!0)});var l=null;if(i.preserveSelectedState&&i._cv&&i.selection){var u=i.selection;!i._cv.currentItem&&u.row>-1&&i.rows[u.row]&&(l=i.rows[u.row].dataItem)}var c,h=i._getMap();if(h&&i.rows.forEach(function(w){w.isReadOnly&&w.dataItem&&h.set(w.dataItem,!0)}),i.preserveOutlineState&&i.rows.maxGroupLevel>-1&&(c=i._getMap()))for(var d=0;d<i.rows.length;d++){var f=i.rows[d];if(f instanceof tn&&f.isCollapsed&&f.dataItem){var p=f.dataItem;p instanceof Nr&&(p=p._path),c.set(p,!0)}}e&&i.columns.deferUpdate(function(){i._bindColumns()});var g=new zt;i.onLoadingRows(g)&&(i.rows.deferUpdate(function(){i._bindRows()}),i.onLoadedRows(g)),i._selHdl.extendedSelection.clear();var m=0;if(a&&a.size&&i.rows.forEach(function(w){var b=w.dataItem;b&&a.has(b)&&(w.isSelected=!0,m++)}),h&&h.size&&i.rows.forEach(function(w){var b=w.dataItem;b&&h.has(b)&&(w.isReadOnly=!0)}),0==m&&i.selectionMode==at.ListBox)for(d=(u=i.selection).topRow;d<=u.bottomRow&&d>-1&&d<i.rows.length;d++)i.rows[d]._setFlag(Qe.Selected,!0,!0);if(i._cv&&!i._cv.currentItem&&l){for(var _=!1,v=0;v<i.rows.length;v++)if(i.rows[v].dataItem===l){i._selHdl.selection.row=i._selHdl.selection.row2=v,_=!0;break}_||(i._selHdl.selection.row=-1,i._selHdl.selection.row2=-1)}if(c&&c.size&&i.rows.deferUpdate(function(){i.rows.forEach(function(w){if(w instanceof tn){var b=w.dataItem;b instanceof Nr&&(b=b._path),c.has(b)&&(w.isCollapsed=!0)}})}),!i._lastCount){var y=i._cv;y&&y.items&&(i._lastCount=y.items.length)}}),this._cv)this.activePanelType===H.Cell&&this._syncSelection(e&&!this._toInv);else{var o=this.selection,s=new ne(-1,o.col,-1,o.col2);this.activePanelType===H.Cell&&this._selHdl._adjustSelection(s,this.selectionMode)}},t.prototype._getMap=function(){return window.Map?new Map:null},t.prototype._cvCollectionChanged=function(e,i){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var r=yn;if(this.childItemsPath&&i.action!=r.Change)this._bindGrid(!1);else{switch(i.action){case r.Change:return void this.invalidate();case r.Add:if(i.index==this._cv.items.length-1){var o=this.rows.length;return this.rows[o-1]instanceof nn&&o--,void this.rows.insert(o,new yr(i.item))}ge(!1,"added item should be the last one.");break;case r.Remove:var s=this._findRow(i.item);if(s>-1)return this.rows.removeAt(s),void this._syncSelection(!1);ge(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,i){this._syncSelection(!1)},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=at.None){var i=this._selHdl,r=i.selection,o=r.row>-1&&r.row<this.rows.length?this.rows[r.row]:null,s=o?o.dataItem:null,a=this._cv;if(a instanceof gr&&a.isUpdating||this.newRowAtTop&&o instanceof nn)return;s instanceof Nr&&(s=null);var l=this._isISChanging;if(e||s!=a.currentItem||r.row>=this.rows.length||r.row2>=this.rows.length||l&&r.row!==r.row2){var u=this.editableCollectionView;if(!this.childItemsPath||!u||!u.currentAddItem){var c=this._getRowIndex(a.currentPosition);c==r.row&&this.childItemsPath||(r=new ne(c,r.col,c,l?r.col:r.col2),i._adjustSelection(r,this.selectionMode),this.selectionMode&&!this._updating&&this.scrollIntoView(r.row,-1))}}}},t.prototype._getRowIndex=function(e){if(this._cv){var i=this.rows;if(e>-1){for(var r=this._cv.items[e];e<i.length;e++)if(i[e].dataItem===r)return e;return-1}if(1==i.length&&i[0]instanceof nn)return 0;var o=this.selection.row,s=o>-1?i[o]:null;return s&&(s instanceof tn||null==s.dataItem)?o:-1}return this.selection.row},t.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1},t.prototype._findRow=function(e){for(var i=0;i<this.rows.length;i++)if(this.rows[i].dataItem==e)return i;return-1},t.prototype._preWidth=function(){var e=this._root,i=this._hdrVis&It.Row?this._hdrCols.getTotalSize():0;return e.clientWidth-i},t.prototype._updateLayout=function(){var e=this,i=new zt;if(this.onUpdatingLayout(i)){var r=this._hdrVis&It.Row?this._hdrCols.getTotalSize():0,o=this._hdrVis&It.Column?this._hdrRows.getTotalSize():0,s=this._ftrRows.getTotalSize(),a=this._rows.getTotalSize()+s;a<1&&(a=1),this._heightReal=a,this._heightBrowser=Math.min(a,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,a-this._heightBrowser);var l=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(l.paddingTop)+parseInt(l.paddingBottom),this._cellPadHorz=parseInt(l.paddingLeft)+parseInt(l.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?l.paddingRight:l.paddingLeft);var u=this._heightBrowser+o-s,c=this._gpCells.width,h=this._heightBrowser;!c&&this.rows.length&&(c=.1),!h&&this.columns.length&&(h=.1),this.rightToLeft?(ie(this._eTL,{right:0,top:0,width:r,height:o}),ie(this._eCHdr,{right:r,top:0,height:o}),ie(this._eRHdr,{right:0,top:o,width:r}),ie(this._eCt,{right:r,top:o,width:c,height:h}),ie(this._fCt,{right:r,top:o}),ie(this._eBL,{right:0,top:u,width:r,height:s}),ie(this._eCFtr,{right:r,top:u,height:s})):(ie(this._eTL,{left:0,top:0,width:r,height:o}),ie(this._eCHdr,{left:r,top:0,height:o}),ie(this._eRHdr,{left:0,top:o,width:r}),ie(this._eCt,{left:r,top:o,width:c,height:h}),ie(this._fCt,{left:r,top:o}),ie(this._eBL,{left:0,top:u,width:r,height:s}),ie(this._eCFtr,{left:r,top:u,height:s})),this._stickyHdr&&this._updateStickyHeaders();var d=this.rows.frozen||this.columns.frozen;ie([this._eTL,this._eBL,this._eCFtr,this._eRHdr],{zIndex:d?"4":"3"}),ie(this._eCHdr,{zIndex:d?"5":"3"}),ie(this._eMarquee,{zIndex:d?"4":"1"}),this._eCHdr.closest(".wj-cell")&&ie(this._eCHdr,{zIndex:d?"4":"2"}),pt()&&(this._fCt.style.zIndex=d?"3":"");var f=this._root,p=f.offsetWidth-f.clientWidth,g=f.offsetHeight-f.clientHeight;ie(this._eSz,{width:r+p+this._gpCells.width,height:o+g+this._heightBrowser});var m=null;this.columns._updateStarSizes(f.clientWidth-r)&&(m=f.clientWidth,ie(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new Ke(f.clientWidth-r,f.clientHeight-o),this._szClientSB=new Ke(f.offsetWidth-r,f.offsetHeight-o),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),ie(this._eSz,{width:r+(p=f.offsetWidth-f.clientWidth)+this._gpCells.width,height:o+(g=f.offsetHeight-f.clientHeight)+this._heightBrowser}),this._szClient=new Ke(f.clientWidth-r,f.clientHeight-o),m&&m!=f.clientWidth&&this.columns._updateStarSizes(f.clientWidth-r)&&(ie(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),ie([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),ie([this._eRHdr,this._fCt],{height:this._szClient.height}),s&&(u=Math.min(u,this._szClient.height+o-s),ie([this._eBL,this._eCFtr],{top:u})),window.addEventListener("load",function(){ie(e._root,{"overflow-y":e._root.scrollHeight===e._root.parentElement.clientHeight?"hidden":"auto","overflow-x":e._root.scrollWidth===e._root.parentElement.clientWidth?"hidden":"auto"})}),this.onUpdatedLayout(i)}},t.prototype._updateStickyHeaders=function(){var e=!1,i=0;if(this._stickyHdr){for(var r=0,o=null,s=this.hostElement;s;s=s.parentElement)if("inline"!=getComputedStyle(s).display){var a=s.getBoundingClientRect();null==o&&(o=a.top),r=Math.max(r,a.top)}i=-(o=Math.max(0,r-o-1)),e=o>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-i+"px":"",qe(this._eTL,t._WJS_STICKY,e),qe(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS||this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if("auto"==getComputedStyle(e).overflow)return!1;return!0},t.prototype._scroll=function(e){var i=this;if(je(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame(function(){i._afClip=null,i.isScrollingSilent||i.finishEditing(),i._updateContent(!0)})),this._stickyHdr)){var r=Date.now();r-this._lastStickyScroll>this._scrollStickyThrottleTimeout&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){i._afSticky=null;var o=new zt;i.onUpdatingLayout(o)&&(i._updateStickyHeaders(),i.onUpdatedLayout(o))}),this._lastStickyScroll=r),this._handleScrollEnd()}},t.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var i=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>i)return Ne(Math.round(e/(this._heightBrowser-i)*10)/10,0,1)}return 0},t.prototype._updateScrollPosition=function(){var e=this._root,i=e.scrollTop,r=e.scrollLeft;this.rightToLeft&&"rev"==t._getRtlMode()&&(r=e.scrollWidth-e.clientWidth-r);var o=new T(-Math.abs(r),-i);return!this._ptScrl.equals(o)&&(this._ptScrl=o,this._updateMarquee(),this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,i){var r=this,o=this._root,s=this.hostElement,a=this.cells.hostElement,l=this._activeCell,u=nt(),c=je(s,u),h=be(u,".wj-flexgrid")==s?u:null,d=new zt;if(this.onUpdatingView(d)){[kn.All,kn.Column].includes(this.headersFocusability)?($(this.hostElement,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),$(this.hostElement,"aria-label",this.ariaLabel)):($(a,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),$(a,"aria-label",this.ariaLabel)),this._hasValidation=Ge(this._itemValidator)||this._cv&&Ge(this._cv.getError);var f=!i&&this._errorTip&&this._errorTip._tips.length,p=this._getCssPage(-this._ptScrl.y);p!=this._cssPage&&(this._cssPage=p,this._offsetY=Math.round(this._maxOffsetY*p)),this._updateScrollPosition(),this._updateMarquee();var g=this._gpCells._updateContent(e,i,this._offsetY),m=this._hdrVis;switch(m&It.Column&&(!i||this._ssHdr&m||this.headersFocusability&kn.Column)&&(this._gpCHdr._updateContent(e,i,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),m&It.Row&&(!i||this._ssHdr&m||this.headersFocusability&kn.Row)&&(this._gpRHdr._updateContent(e,i,this._offsetY),this._eRHdr.scrollTop=0),!m||this.headersFocusability!==kn.All&&i||this._gpTL._updateContent(e,i,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,i,0),this._gpCFtr._updateContent(e,i,0)),this.activePanelType){case H.ColumnHeader:g=this._gpCHdr.activeCell;break;case H.RowHeader:g=this._gpRHdr.activeCell;break;case H.TopLeft:g=this._gpTL.activeCell}f&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout(function(){var w=r._errorTip;if(w){w.hide();for(var b=w._tips,C=0;C<b.length;C++){var I=b[C].element;(!I.offsetHeight||!gt(I,"wj-state-invalid"))&&(w.setTooltip(I,null),C--)}}},40)),this._useFrozenDiv()&&(this._updateFrozenCells(i),g&&gt(g,"wj-frozen")&&(g=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=g,h&&(h!=o&&h!=this._eFocus&&je(s,h)&&!je(a,h)?(nt()!==h&&h.focus(),pt()&&h instanceof HTMLInputElement&&!h.type.match(/checkbox|radio|range/i)&&h.setSelectionRange(h.selectionStart,h.selectionEnd)):this._setFocus(g!==l)),!h&&g&&(g.tabIndex=this.isDisabled?-1:this._orgTabIndex),l&&l!=g&&(l.tabIndex=-1),this.selectionMode!=at.None?this._eFocus.tabIndex=null!=g||this.isDisabled?-1:this._orgTabIndex:(this._eFocus.tabIndex=-1,this._root.tabIndex=null!=g||this.isDisabled?-1:this._orgTabIndex),c&&this.focus(),this._fixScroll(),this._rcBounds=null,this._updateMarquee(),this.onUpdatedView(d)}},t.prototype._fixScroll=function(){var e=this._root;if(!this._updating){var i=this.hostElement,r=e?e.parentElement:null,o=this.rightToLeft;i&&(i.scrollTop&&(i.scrollTop=0),i.scrollLeft&&!o&&(i.scrollLeft=0)),r&&(r.scrollTop&&(r.scrollTop=0),r.scrollLeft&&!o&&(r.scrollLeft=0))}var s=XT();e&&s&&14==s.major&&s.minor>=1&&(e.style.transform="",e.style.transform="translateZ(0)")},t.prototype._clearCells=function(){for(var e in this)if("_"==e[0]){var i=this[e];i instanceof ki&&i._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return Zn(this._fzClone)?this._fzClone:pt()||xs()||Ko()||JI()},t.prototype._updateFrozenCells=function(e,i){void 0===i&&(i=!1);var r=this._fCt;if((i||0===this.rows.frozen&&0===this.columns.frozen)&&Jr(r,null),this.rows.frozen||this.columns.frozen){var o=this._eCt.querySelectorAll(".wj-frozen");if(e&&r.children.length==o.length){for(var s=0;s<o.length;s++)r.children[s].className=o[s].className;return}if(Jr(r,null),!this.activeEditor){var a=this._errorTip,l=navigator.userAgent.indexOf("MSIE")>=0;for(s=0;s<o.length;s++){var u=o[s];if(be(u,".wj-flexgrid")==this.hostElement){var c=u[ki._INDEX_KEY],h=u.firstElementChild,d=null;if(c&&h){var f=c.panel;d=Ge(this._getBindingColumn(f,c.row,f.columns[c.col]).cellTemplate)?h.onclick:null}if(l){var g="input[type=checkbox]",m=u.querySelector(g);u=u.cloneNode(!0),m&&(u.querySelector(g).checked=m.checked)}else u=u.cloneNode(!0);if(h=u.firstElementChild,d&&h&&(h.onclick=d),u[ki._INDEX_KEY]=c,a){var _=a.getTooltip(o[s]);_&&a.setTooltip(u,_)}r.appendChild(u)}}}}},t.prototype._updateMarquee=function(){if(this.activePanelType==H.Cell){var e=this._eMarquee,i=this._getMarqueeRect();if(i&&i.width&&i.height){var r=this.cells.hostElement,o=e.firstChild,s=e.offsetWidth-o.offsetWidth,a=e.offsetHeight-o.offsetHeight;ie(e,{width:i.width+s,height:i.height+a,top:i.top+r.offsetTop-a/2,left:i.left+r.offsetLeft-s/2,display:""})}else e.style.display="none"}else this._hideMarquee()},t.prototype._hideMarquee=function(){ie(this._eMarquee,{display:"none"})},t.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol,!1))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol,!1));var i=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),r=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var o=Math.min(this.rows.length,this.rows.frozen),s=this.cells.getCellBoundingRect(o-1,0,!0);e.topRow>=o&&i.top<s.bottom&&(i.top=s.bottom),e.bottomRow>=o&&r.bottom<s.bottom&&(r.height=s.bottom-r.top)}if(this.columns.frozen){var a=Math.min(this.columns.length,this.columns.frozen);s=this.cells.getCellBoundingRect(0,a-1,!0),this.rightToLeft?(e.leftCol>=a&&i.right>s.left&&(i.left=s.left-i.width),e.rightCol>=a&&r.left>s.left&&(r.left=s.left)):(e.leftCol>=a&&i.left<s.right&&(i.left=s.right),e.rightCol>=a&&r.right<s.right&&(r.width=s.right-r.left))}return this.rightToLeft?new K(r.left,i.top,i.right-r.left,r.bottom-i.top):new K(i.left,i.top,r.right-i.left,r.bottom-i.top)},t.prototype._bindColumns=function(){for(var e=this.columns,i=0;i<e.length;i++)e[i]._getFlag(Qe.AutoGenerated)&&(e.removeAt(i),i--);var r=this._cv,o=r?r.items:null;o&&o.length&&this.autoGenerateColumns&&this._getColumnTypes(o).forEach(function(s){var a=new Qn(s);a._setFlag(Qe.AutoGenerated,!0),a.name=a.binding,a.header=rf(a.binding);var l=t._defTypeWidth[a.dataType];if(null!=l){if(xe(l)){var u=Math.round(parseFloat(l));l=l.indexOf("*")>-1?u*e.defaultSize:u}J(l)&&l>0&&(a.width=l)}e.push(a)}),this._updateColumnTypes()},t.prototype._getColumnTypes=function(e){return dM(e)},t.prototype._updateColumnTypes=function(){var e=this._cv;if(Pn(e)){var i=e.items[0];this.columns.forEach(function(r){null==r.dataType&&r._binding&&(r.dataType=Es(r._binding.getValue(i)))})}},t.prototype._getMapEditor=function(e,i){return i.editor?null!=i.editor.isDroppedDown?i.dataMapEditor:null:!e.dataMap||e instanceof tn?i.dataMap?i.dataMapEditor:null:e.dataMapEditor},t.prototype._getBindingColumn=function(e,i,r){return r},t.prototype._getBindingColumns=function(){return this.columns},t.prototype._getRowsPerItem=function(){return 1},t.prototype._isTransposed=function(){return!1},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var i=e.items,r=e.groups;if(this.childItemsPath)for(var o=0;o<i.length;o++)this._addNode(i,o,0);else if(null!=r&&r.length>0&&this.showGroups)for(o=0;o<r.length;o++)this._addGroup(r[o]);else for(o=0;o<i.length;o++)this._addBoundRow(i,o)}},t.prototype._addBoundRow=function(e,i){var r=new yr(e[i]),o=this.rows;r._list=o,o[o.length++]=r},t.prototype._addGroupRow=function(e){this.rows.push(new tn(e))},t.prototype._addNode=function(e,i,r){var o=e[i],s=this.childItemsPath,a=o[Rt(s)?s[r]:s],l=new tn(o);if(l.level=r,this.rows.push(l),Rt(a))for(var u=0;u<a.length;u++)this._addNode(a,u,r+1)},t.prototype._addGroup=function(e){if(this._addGroupRow(e),e.isBottomLevel)for(var i=e.items,r=0;r<i.length;r++)this._addBoundRow(i,r);else for(r=0;r<e.groups.length;r++)this._addGroup(e.groups[r]);if(this.groupSummaryPosition!=Lr.Top){var o=e._clone();this._addGroupSummaryRow(o)}},t.prototype._addGroupSummaryRow=function(e){var i=new tn(e);i.isSummary=!0,this.rows.push(i)},t._getSerializableProperties=function(e){var i=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var s=r[o],a=Object.getOwnPropertyDescriptor(e,s);a&&a.set&&a.get&&"_"!=s[0]&&!s.match(/^(disabled|required|showDropDown)$/)&&i.push(s)}return i},t.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},t.prototype._getColumnGroup=function(e,i){return this._grpHdl.getColumnGroup(e,i)},t.prototype._canMoveColumnGroup=function(e,i,r,o){return this._grpHdl.canMoveColumnGroup(e,i,r,o)},t.prototype._moveColumnGroup=function(e,i,r,o,s){return this._grpHdl.moveColumnGroup(e,i,r,o,s)},t.prototype._copy=function(e,i){var r=this;if("columns"==e){var o=Dn(i);return o.some(function(s){return null!=s.columns})?this.columnGroups=o:(this.columns.clear(),o.forEach(function(s){var a=new Qn(s);r.columns.push(a)})),!0}return!1},t.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!gt(e,"wj-btn-glyph")&&("true"==e.contentEditable||null!=e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i))},t.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&gt(e,rn._WJC_CHECKBOX)&&be(e,".wj-flexgrid")==this.hostElement},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!gt(e,"wj-grid-ime")&&je(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=265e5;pt()?e=15e5:xs()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=Ct('<div dir="rtl"><div></div></div>');ie(e,{visibility:"hidden",width:100,height:100,overflow:"auto"}),ie(e.firstChild,{width:2e3,height:2e3}),document.body.appendChild(e);var i=e.scrollLeft;e.scrollLeft=-1e3;var r=e.scrollLeft;Dt(e),t._rtlMode=r<0?"neg":i>0?"rev":"std"}return t._rtlMode},t.prototype.getEmptyRequiredCell=function(e){return this._getEmptyRequiredCell(e)},t.prototype._getEmptyRequiredCell=function(e){if(e>=0)for(var i=0;i<this.columns.length;i++){var r=this.getCellData(e,i,!1);if(this.columns[i].getIsRequired(this.rows[e])&&(""===r||null==r)){if(!this.columns[i].isReadOnly)return i;console.warn("Incorrect data. Column "+i+" is  at the same time  required, empty and read-only")}}return null},t.prototype.adjustFrozenRowColSize=function(e,i,r){var o=i===Nf.Column,s=o?this.columns:this.rows,a=o?this.columns.frozen:this.rows.frozen,l=o?this._szClient.width:this._szClient.height;if(!(e<0||e>=s.length||e>=a)){for(var u=0,c=0;c<a;c++)c!==e&&(u+=s[c].size||s[c].renderSize);var h=l-u-5,d=(s[e].size||s[e].renderSize)+r;d>h&&(d=h),s[e].size=d}},t.prototype._adjustMaxContentWidth=function(){if(0!==this.rows.length&&0!==this.columns.length&&this._maxContent){var e=document.createElement("div");e.style.visibility="hidden",this.hostElement.appendChild(e);for(var i,r=new Array(this.columns.length).fill(0),o=Math.min(this._contentEstimationLimit,this.rows.length),s=0;s<this.columns.length;s++)for(var a=0;a<o;a++){var l=Math.round(a*this.rows.length/o),u=this._getDesiredWidth(this.cells,l,s,e);r[s]=Math.max(r[s],u)}i=r.reduce(function(d,f){return d+f},0),this.hostElement.removeChild(e);var c=this.hostElement.getBoundingClientRect(),h=window.innerHeight-(c.top+window.pageYOffset);this.hostElement.style.maxWidth=i>c.width?"100%":"",this.hostElement.style.maxHeight=h+"px"}},t.prototype.scrollToSilently=function(e,i){var r=this;void 0===i&&(i=document.scrollingElement),i&&(this.isScrollingSilent=!0,i.scrollTo(e),setTimeout(function(){r.isScrollingSilent=!1},27))},t.prototype._finishResizing=function(e,i,r){var o=this,s=void 0,a=void 0,l=void 0;if(i){var u=this.hitTest(e);a=u.range,l=(s=u.edgeBottom)?u.row:u.col}else{var c=this._mouseHdl._szRowCol;a=(s=c instanceof yr)?new ne(c.index,0,c.index,0):new ne(0,c.index,0,c.index),l=c.index}r||(5===this.selectionMode?s?(r=[],this.selectedRows.forEach(function(h){r.push(new ne(h.index,0,h.index,o.columns.length-1))})):r=[this.selection]:r=this.selectedRanges),!s&&!r.find(function(h){return h.containsColumn(l)})||s&&!r.find(function(h){return h.containsRow(l)})?i?this._mouseHdl._prepareAutoSize(e,[a]):this._mouseHdl._finishResizing(e,[a]):i?this._mouseHdl._prepareAutoSize(e,r):this._mouseHdl._finishResizing(e,r)},t.prototype._handleScrollEnd=function(){var e=this;null!==this._scrollEndTimer&&clearTimeout(this._scrollEndTimer),this._scrollEndTimer=window.setTimeout(function(){e._updateStickyHeaders()},75)},t.prototype._updateLayoutOnPin=function(){var e=this._root,i=this._hdrVis&It.Row?this._hdrCols.getTotalSize():0,r=this._hdrVis&It.Column?this._hdrRows.getTotalSize():0,a=e.offsetWidth-i-(e.offsetWidth-e.clientWidth),l=e.offsetHeight-r-(e.offsetHeight-e.clientHeight),u=e.scrollTop,c=Math.abs(e.scrollLeft),h=this.cells.height-l,d=this.cells.width-a;u>h&&e.scrollTo({top:h,left:c}),c>d&&e.scrollTo({top:u,left:this.rightToLeft?-d:d})},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._WJS_WSPRE="wj-whitespace-pre",t._MIN_VIRT_ROWS=200,t._defTypeWidth=((qT={})[ze.Number]="0.714285714*",qT),t.controlTemplate='<div>  <div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',t}(z),jf=function(){function n(t){var e=this;this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._suspended=!1,this._g=t;var i=Ct('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');ie(i,n._cssHidden),af(i),i.tabIndex=-1,this._tbx=i,this._suspended=!1,this._maskProvider=new Rl(i),t._root.appendChild(i),this._updateImeFocus();var r=t.hostElement,o=t.addEventListener.bind(t),s=this._updateImeFocusAsyncBnd;o(r,"blur",s,!0),o(r,"focus",s,!0),o(i,"compositionstart",this._cmpstartBnd),sv()&&o(r,"keypress",this._keypressBnd),t.selectionChanged.addHandler(s,this),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),o(r,"mousedown",function(a){var l=be(nt(),".wj-flexgrid")==t.hostElement,u=t.hitTest(a);l&&u.panel==t.cells&&gt(u.target,"wj-cell")&&(t.isReadOnly||a.preventDefault())}),t.gotFocus.addHandler(function(){return e._updateImeFocus()})}return n.prototype.dispose=function(){var t=this._g,e=t.hostElement,i=this._tbx,r=t.removeEventListener.bind(t),o=this._updateImeFocusAsyncBnd;r(e,"blur",o),r(e,"focus",o),r(e,"keypress",this._keypressBnd),r(i,"compositionstart",this._cmpstartBnd),t.selectionChanged.removeHandler(o),t.cellEditEnded.removeHandler(this._cellEditEnded),t.cellEditEnding.removeHandler(this._cellEditEnding),Dt(i),this._suspended=!1},n.prototype._compositionstart=function(t){var e=this,i=this._g;if(!i.activeEditor){var r=i._selHdl.selection;if(i.startEditing(!1,r.row,r.col,!1,t)){if(i.activeEditor&&"checkbox"!=i.activeEditor.type){var o=i._getBindingColumn(i.cells,(r=i.editRange).row,i.columns[r.col]),s=o&&o._edt,a=i.activeEditor,l=this._tbx,u=i.cells.hostElement,c=i.columns[r.col].pos+u.offsetLeft,h=i.rows[r.row].pos+u.offsetTop,d=i.getCellBoundingRect(r.row,r.col),f=i.cells.getCellElement(r.row,r.col);d.width=f.offsetWidth,d.height=f.offsetHeight,r.row<i.rows.frozen&&(h+=i._root.scrollTop),r.col<i.columns.frozen&&(c+=i._root.scrollLeft);var p=f.querySelector(".wj-btn.wj-right");p&&(d.width-=p.offsetWidth),"minLength,maxLength,pattern".split(",").forEach(function(P){$(l,P,a.getAttribute(P))});var g=a instanceof HTMLTextAreaElement;$(l,"wrap",g?"soft":"off");var m=getComputedStyle(f),_=m.paddingTop;if(r.rowSpan>1&&!g){var v=parseFloat(m.lineHeight);isNaN(v)&&(v=1.2*parseFloat(m.fontSize)),_=Math.max(0,(d.height-v)/2)+"px"}var y={position:"absolute",left:c,top:h,width:d.width-1,height:d.height-1,paddingTop:_,paddingLeft:m.paddingLeft,paddingRight:m.paddingRight,textAlign:m.textAlign,zIndex:f.style.zIndex};if(i.rightToLeft&&(y.right=parseInt(f.style.right)+parseInt(i.cells.hostElement.style.right),y.left=""),ie(l,y),s){var w=s._tbx.getBoundingClientRect(),b=l.getBoundingClientRect(),C=window.getComputedStyle(l),I=parseFloat(C.left),M=parseFloat(C.right),S=parseFloat(C.top);ie(l,i.rightToLeft?{right:M+b.right-w.right+"px",top:S+w.top-b.top+"px",width:w.width+"px",height:w.height+"px"}:{left:I+w.left-b.left+"px",top:S+w.top-b.top+"px",width:w.width+"px",height:w.height+"px"})}i._edtHdl._edt=l,l.select();var R=a.value;Ko()?("\u3000"!=l.value&&" "!=l.value||(l.value=R),st(l,l.value.length)):setTimeout(function(){"\u3000"!=l.value&&" "!=l.value||(l.value=R),st(l,l.value.length)},20),z.sharedState.InvalidScroll=Ds(),l.placeholder=a.placeholder,a.placeholder="",a.value=""}}else this._tbx.blur(),setTimeout(function(){e._tbx.focus(),i._setFocusNoScroll(i.hostElement)},20)}},n.prototype._cellEditEnding=function(){var t=this._maskProvider;t&&t.mask&&t._valueChanged()},n.prototype._cellEditEnded=function(){var t=this._tbx,e=this._g;if(this._enableIme()){var i=nt();i.blur(),e._isScrollingByWheel?setTimeout(function(){i.focus(),e._setFocusNoScroll(e.hostElement),t.value="",i.focus()},20):(i.focus(),e._setFocusNoScroll(e.hostElement),i.focus()),t.value="",ie(t,n._cssHidden),this._updateImeFocus()}},n.prototype._keypress=function(t){!t.defaultPrevented&&t.target==this._tbx&&!(t.ctrlKey||t.altKey||t.metaKey||27==t.keyCode||this._g.activeEditor)&&(this._tbx.value="",this._compositionstart(t),t.stopPropagation())},n.prototype._updateImeFocus=function(){var t=this._g,e=this._tbx,i=nt(),r=t._getTabIndex();if(t.activeEditor||be(i,".wj-flexgrid")!=t.hostElement)(t.isDisabled||r<0)&&e.tabIndex>=0&&(e.tabIndex=-1);else if(this._enableIme()&&!t._wantsInput(i)){i!=e&&(t.activeCell&&(t.activeCell.tabIndex=-1),e.tabIndex=r,e.disabled=!1,e.value="",t.isTouching||(window&&window.top!=window.self?(st(e,0,0,!1),t._setFocusNoScroll(e)):(st(e,0),e.focus())));var o=t._selHdl.selection,s=o.isValid?t._getBindingColumn(t.cells,o.row,t.columns[o.col]):null;this._maskProvider.mask=s?s.mask:null}else if(e.tabIndex=-1,e.disabled=!0,e.value="",i==e){e.blur();var a=t.activeCell;a?(a.tabIndex=r,a.focus()):t.focus()}},n.prototype._updateImeFocusAsync=function(){var t=this;this._toFocus&&clearTimeout(this._toFocus),this._toFocus=setTimeout(function(){t._toFocus=null,t._updateImeFocus()},100)},n.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1},n.prototype._suspendIME=function(){this._suspended=!0},n.prototype._resumeIME=function(){this._suspended=!1},n.prototype._enableIme=function(){var t=this._g,e=t._selHdl.selection;if(this._suspended||!t.canEditCell(e.row,e.col))return!1;var i=e.isValid?t._getBindingColumn(t.cells,e.row,t.columns[e.col]):null;return!(!i||i.dataType==ze.Boolean||i&&i.dataMap&&i.dataMapEditor==Ci.RadioButtons)},n._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},n}(),tP=function(){function n(t){this._nrt=new nn,this._top=!1,this._keydownBnd=this._keydown.bind(this),this._committing=!1,this._pasting=!1,this._g=t,this._attach()}return Object.defineProperty(n.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){if(t!=this.newRowAtTop){this._top=N(t),this.updateNewRowTemplate();var e=this._g;this._top&&e.selectionMode==at.ListBox&&(e.rows.forEach(function(i,r){i._setFlag(Qe.Selected,0==r,!0)}),e.select(0,e.selection.col))}},enumerable:!0,configurable:!0}),n.prototype.updateNewRowTemplate=function(){var t=this._g,e=t.editableCollectionView,i=t.rows,r=this._nrt,o=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,s=i.indexOf(r),a=this._top?0:i.length-1,l=!1;if(!o&&s>-1){var u=t.selection;u.row==s&&t.select(u.row-1,u.col),i.removeAt(s)}else o&&(s<0?l=!0:s!=a&&(i.removeAt(s),l=!0),l&&(this._top?i.insert(0,r):i.push(r)),r&&(r._ubv=null,r._setFlag(Qe.ParentCollapsed,!1),this._top&&t.selectionMode==at.ListBox||r._setFlag(Qe.Selected,!1)))},n.prototype._attach=function(){var t=this._g;t&&(t.pasting.addHandler(this._pastingData,this),t.pasted.addHandler(this._pastedData,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},n.prototype._detach=function(){var t=this._g;t&&(t.pasting.removeHandler(this._pastingData,this),t.pasted.removeHandler(this._pastedData,this),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},n.prototype._keydown=function(t){!t.defaultPrevented&&t.keyCode==A.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},n.prototype._beginningEdit=function(t,e){if(!e.cancel){var i=t.rows[e.row];i instanceof nn&&this._handleEditStarting(t,e,i)}},n.prototype._pastingData=function(t,e){e.cancel||(this._pasting=!0)},n.prototype._pastedData=function(t,e){this._pasting=!1},n.prototype._rowEditStarting=function(t,e){if(this._pasting){var i=t.rows[e.row];i instanceof nn&&this._handleEditStarting(t,e,i)}},n.prototype._rowEditEnding=function(t,e){var i=t.editableCollectionView,r=this._nrt.dataItem;if(i&&this._top&&r&&!e.cancel){var o=i.currentAddItem;if(!o||o!=r)for(var s in o=i.addNew(),r)o[s]=r[s]}},n.prototype._rowEditEnded=function(t,e){var i=this,r=t.editableCollectionView;if(r&&!this._committing)if(this._top){if(e.cancel)return;var o=this._nrt.dataItem;if(o){this._committing=!0,this._nrt.dataItem=null;var s=this._g.rows,a=r.items.indexOf(o)+1;a<s.length&&e._rng.setRange(a,-1),t.onRowAdded(e)?r.commitNew():r.cancelNew(),this._committing=!1}var l=t.rows[e.row];setTimeout(function(){l instanceof nn&&t.select(0,t.columns.firstVisibleIndex),i.updateNewRowTemplate()},20)}else r.isAddingNew&&r.commitNew()},n.prototype._handleEditStarting=function(t,e,i){var r=t.editableCollectionView;if(r&&r.canAddNew)if(this._top)if(null==this._nrt.dataItem){var o=null,s=r.sourceCollection,a=r.newItemCreator;o=Ge(a)?a():s&&s.length?new s[0].constructor:{},this._nrt.dataItem=o}else r.currentAddItem&&(t.onRowAdded(e)||r.cancelNew());else{o=r.currentAddItem&&r.currentAddItem==i.dataItem?r.currentAddItem:r.addNew(),r.moveCurrentTo(o);var l=this._nrt.isSelected;this.updateNewRowTemplate(),l&&e.row>-1&&(t.rows[e.row].isSelected=!0),t.isUpdating||t.refresh(!0),t.onRowAdded(e)||r.cancelNew()}},n}(),nn=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return vr(t,n),t}(yr);!function(n){n[n.None=0]="None",n[n.Cells=1]="Cells",n[n.ColumnHeaders=2]="ColumnHeaders",n[n.RowHeaders=4]="RowHeaders",n[n.AllHeaders=6]="AllHeaders",n[n.All=7]="All"}(ql||(ql={}));var yy=function(){function n(t){null!=t&&console.error('** WARNING: the "grid" parameter has been deprecated. Please remove it.')}return n.prototype.getMergedRange=function(t,e,i,r){void 0===r&&(r=!0);var o=t.grid,s=t.cellType,a=t.columns,l=t.rows,u=l[e],c=a[i];if(u instanceof nn||!(u instanceof yr&&c instanceof Qn))return null;if(t==o.columnHeaders){var h=o._getColumnGroup(e,i);if(h){var d=h._rng,f=t.columns;return f.isFrozen(d.col)!=f.isFrozen(d.col2)&&(d=d.clone(),f.isFrozen(i)?d.col2=f.frozen-1:d.col=f.frozen),d}}if(o.showGroups&&!o.childItemsPath&&u instanceof tn&&u.dataItem instanceof Nr&&s==H.Cell){if(d=new ne(e,i),c.aggregate==un.None){for(;d.col>0&&a[d.col-1].aggregate==un.None&&d.col!=a.frozen;)d.col--;for(;d.col2<a.length-1&&a[d.col2+1].aggregate==un.None&&d.col2+1!=a.frozen;)d.col2++}for(;d.col<i&&!a[d.col].visible;)d.col++;return d.isSingleCell?null:d}var p=!1,m=H;switch(o.allowMerging){case ql.None:p=!0;break;case ql.Cells:p=s!=m.Cell;break;case ql.ColumnHeaders:p=s!=m.ColumnHeader&&s!=m.TopLeft;break;case ql.RowHeaders:p=s!=m.RowHeader&&s!=m.TopLeft;break;case ql.AllHeaders:p=s==m.Cell}if(p)return null;if(s==m.Cell){var _=o.editableCollectionView,v=_?_.currentAddItem:null;if(v&&u.dataItem==v)return null}if(a[i].allowMerging){d=new ne(e,i);var y=t._vrb,w=0,b=l.length-1;e>=l.frozen?r&&(s==H.Cell||s==H.RowHeader)&&o._vtRows<l.length&&y&&(w=y.topRow,b=y.bottomRow):l.length>l.frozen&&(b=l.frozen-1);for(var C=e-1;C>=w&&this._mergeCell(t,C,i,e,i);C--)d.row=C;for(var I=e+1;I<=b&&this._mergeCell(t,e,i,I,i);I++)d.row2=I;for(;d.row<e&&!l[d.row].visible;)d.row++;if(!d.isSingleCell)return d}if(l[e].allowMerging){d=new ne(e,i),y=t._vrb;var M=0,S=a.length-1;i>=a.frozen?r&&(s==H.Cell||s==H.ColumnHeader)&&o._vtCols<a.length&&y&&(M=y.leftCol,S=y.rightCol):S=a.frozen-1;for(var R=i-1;R>=M&&this._mergeCell(t,e,R,e,i);R--)d.col=R;for(var P=i+1;P<=S&&this._mergeCell(t,e,i,e,P);P++)d.col2=P;for(;d.col<i&&!a[d.col].visible;)d.col++;if(!d.isSingleCell)return d}return null},n.prototype._mergeCell=function(t,e,i,r,o){var s=t.rows[e],a=t.rows[r];if(!s||!a||s instanceof tn||s instanceof nn||a instanceof tn||a instanceof nn)return!1;var l=t.grid.editableCollectionView,u=l?l.currentAddItem:null;return!(u&&(s.dataItem==u||a.dataItem==u)||e!=r&&t.rows.isFrozen(e)!=t.rows.isFrozen(r)||i!=o&&t.columns.isFrozen(i)!=t.columns.isFrozen(o)||e!=r&&(i>0&&(s.allowMerging&&this._mergeCell(t,e,i-1,e,i)||a.allowMerging&&this._mergeCell(t,r,i-1,r,i))||o<t.columns.length-1&&(s.allowMerging&&this._mergeCell(t,e,o,e,o+1)||a.allowMerging&&this._mergeCell(t,r,o,r,o+1))))&&t.getCellData(e,i,!0)==t.getCellData(r,o,!0)},n}(),Bc=function(){function n(t,e){var i;if(this._row=-1,this._col=-1,this._edge=0,this._clickChildGrid=!1,e instanceof Element){if(be(e,".wj-flexgrid")!=t.hostElement)return;t=e,this._target=e}if(!(t instanceof Element)||t instanceof wr){if(t instanceof wr)this._target=t.hostElement,i=this._g=t;else{if(!(t instanceof ki))throw"First parameter should be a FlexGrid or GridPanel.";this._target=t.hostElement,this._p=t,i=this._g=this._p.grid}if(e instanceof MouseEvent){this._target=e.target;var r=be(this._target,".wj-flexgrid");"mousedown"==e.type&&null!=r&&t instanceof wr&&r!=t.hostElement&&(this._clickChildGrid=!0),"mousedown"==e.type&&(i._rcBounds=null)}e=Ss(e),this._pt=e.clone();var o=i.controlRect,s=i._szClient,a=i.topLeftCells,l=i._eTL,u=i.headersVisibility,c=It,h=u&c.Row?a.columns.getTotalSize():0,d=u&c.Column?a.rows.getTotalSize():0,f=u&c.Column?d+l.offsetTop:0,p=i._eBL,g=p.offsetHeight,m=getComputedStyle(i.hostElement),_=m&&m.borderLeftWidth?parseFloat(m.borderLeftWidth):0,v=m&&m.borderTopWidth?parseFloat(m.borderTopWidth):0;if(e.x-=o.left-_,e.y-=o.top-v,i.rightToLeft&&(e.x=o.width-e.x),this._p||e.x>=0&&e.y>=l.offsetTop&&s&&e.x<=s.width+h&&e.y<=s.height+d&&(this._p=e.y<f?e.x<h?i.topLeftCells:i.columnHeaders:e.y<p.offsetTop?e.x<h?i.rowHeaders:i.cells:e.x<h?i.bottomLeftCells:i.columnFooters),null!=this._p){var y=this._p.rows,w=this._p.columns,b=this._p.cellType,C=H,I=this._p._getFrozenPos(),M=b==C.TopLeft||b==C.ColumnHeader?d:b==C.BottomLeft||b==C.ColumnFooter?g:y.getTotalSize(),S=b==C.TopLeft||b==C.BottomLeft||b==C.RowHeader?h:w.getTotalSize();b==C.RowHeader||b==C.Cell?(e.y-=d,(e.y>I.y||I.y<=0)&&(e.y-=i._ptScrl.y,e.y+=this._p._getOffsetY())):b!=C.BottomLeft&&b!=C.ColumnFooter||(e.y-=p.offsetTop),(b==C.ColumnHeader||b==C.Cell||b==C.ColumnFooter)&&(e.x-=h,(e.x>I.x||I.x<=0)&&(e.x-=i._ptScrl.x)),b!=C.ColumnHeader&&b!=C.TopLeft||(e.y-=f-d),this._edge=0;var R=n._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(e.x-=(R=n._SZEDGE[1])/2),this._row=e.y>M?-1:y.getItemAt(e.y),this._col=e.x>S?-1:w.getItemAt(e.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var P=w[this._col];e.x-P.pos<=R&&(this._edge|=1);var x=P.pos+P.renderSize-e.x;x<=R&&(this._edge|=4,x<=R/2&&(this._edge|=16))}if(this._row>-1){var E=y[this._row];e.y-E.pos<=R&&(this._edge|=2);var j=E.pos+E.renderSize-e.y;j<=R&&(this._edge|=8,j<=R/2&&(this._edge|=32))}}}else{var ee=be(t,".wj-cell"),L=ee?ee[ki._INDEX_KEY]:null;L&&(this._target=t,this._row=L.row,this._col=L.col,this._rng=L.rng,this._p=L.panel,this._g=L.panel.grid)}}return Object.defineProperty(n.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._p?this._p.cellType:H.None},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),n.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(n.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),n.prototype.getColumn=function(t){var e=this._p,i=e&&this._col>-1?e.columns[this._col]:null;if(i&&t){var r=e.grid;i=e.cellType===H.ColumnHeader&&r._hasColumnGroups()?r._getColumnGroup(this._row,this._col):r._getBindingColumn(e,this._row,i)}return i},Object.defineProperty(n.prototype,"range",{get:function(){return this._rng||(this._rng=new ne(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeFarRight",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeFarBottom",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),n._SZEDGE=[6,30],n}();function zc(){return uf("wijmo.input")}var nP="$WJ-MSKP",rn=function(){function n(){}return n.prototype.updateCell=function(t,e,i,r,o,s){var a=t.grid,l=a.rightToLeft,u=t.rows,c=t.columns,h=u[e],d=c[i],f=e,p=i,g=h instanceof tn?h:null,m=!!g&&g.isSummary,_=g&&(a.groupSummaryPosition===Lr.Bottom||a.groupSummaryPosition===Lr.Auto&&!g.isCollapsed),v=h instanceof nn?h:null,y=d.renderWidth,w=h.renderHeight,b=t.cellType,C="wj-cell",I="",M={display:""},S=H,R=!0;g&&i!=c.firstVisibleIndex?!m&&_&&(R=!1):m&&i==c.firstVisibleIndex&&(R=!1),0!=s&&r.firstElementChild&&(1==r.childNodes.length&&"checkbox"==r.firstElementChild.type||(r.textContent="")),o&&!o.isSingleCell&&(f=o.row2,p=o.col2,d=c[i=o.col],g=(h=u[e=o.row])instanceof tn?h:null,w=(we=o.getRenderSize(t)).height,y=we.width);var P,x,E,j,ee,L,B=a._getBindingColumn(t,e,d),Q=B?B.dataType:h?h.dataType:void 0;E=b==S.RowHeader||b==S.Cell&&(!g||a.childItemsPath),L=B&&B.isContentHtml||h&&h.isContentHtml,P=B.dataMap||h.dataMap,x=b==S.Cell?a._getMapEditor(h,B):null,j=E&&x==Ci.RadioButtons,ee=Q==ze.Boolean&&!P;var re=E&&x==Ci.Menu,oe=d.pos,te=h.pos,fe=a._ptScrl;if(a._useFrozenDiv()&&b==S.Cell&&!a.editRange)i<c.frozen&&f>=u.frozen?te+=fe.y:e<u.frozen&&p>=c.frozen&&(oe+=fe.x);else{var we=a._szClient;if(f<u.frozen&&(te=Math.min(te,we.height),w=Math.min(w,Math.max(0,we.height-te)),te-=fe.y),p<c.frozen){var Ue=0!=we.width?we.width:a._preWidth();oe=Math.min(oe,Ue),y=Math.min(y,Math.max(0,Ue-oe)),oe-=fe.x}}l?M.right=oe+"px":M.left=oe+"px",f>=u.frozen&&(te-=t._getOffsetY()),M.top=te+"px",M.width=y+"px",M.height=w+"px",M.zIndex=0,i<c.frozen&&(M.zIndex+=1),e<u.frozen&&(M.zIndex+=2,0===w&&(M.zIndex=-1));var pe=!1,de=a.alternatingRowStep;if(de&&(!o||o.row==o.row2)&&(pe=h.visibleIndex%(de+1)==0,1==de&&(pe=!pe)),b==S.Cell)g&&(C+=" wj-group"),g&&m&&(C+=" wj-group-summary"),pe&&(C+=" wj-alt"),(e<u.frozen||i<c.frozen)&&(C+=" wj-frozen"),v&&(C+=" wj-new"),h&&h.cssClass&&(C+=" "+h.cssClass),B&&B.cssClass&&(C+=" "+B.cssClass);else{C+=" wj-header",pe&&(C+=" wj-header-alt"),h&&h.cssClass&&b==S.ColumnHeader&&(C+=" "+h.cssClass),B&&B.cssClass&&b==S.RowHeader&&(C+=" "+B.cssClass);var De=!1;b!=S.ColumnHeader&&b!=S.TopLeft||a.allowResizing&so.Columns&&(De=null!=a._mouseHdl._getResizeCol(t,p)),De||b!=S.RowHeader||a.allowResizing&so.Rows&&(De=null!=a._mouseHdl._getResizeRow(t,f)),De&&(C+=" wj-big-header")}h&&h.cssClassAll&&(C+=" "+h.cssClassAll),B&&B.cssClassAll&&(C+=" "+B.cssClassAll);var rt=$l,_t=t.getSelectedState(e,i,o);_t!=rt.None&&b==S.Cell&&!ee&&a.editRange&&a.editRange.contains(e,i)&&(_t=rt.None);var Mt=!1;switch(b){case S.RowHeader:case S.ColumnHeader:case S.TopLeft:Mt=!0}switch(_t){case rt.Active:C+=" wj-state-active";break;case rt.Cursor:C+=Mt?" wj-focus-header-cell":" wj-state-selected wj-state-active";break;case rt.Selected:C+=" wj-state-multi-selected"}f<=u._lastFrozen&&(C+=" wj-frozen-row",f===u._lastFrozen&&(C+=" wj-last-frozen-row")),p==c._lastFrozen&&(C+=" wj-frozen-col"),(B&&B.wordWrap||h&&h.wordWrap)&&(C+=" wj-wrap"),(B&&B.multiLine||h&&h.multiLine)&&(C+=" wj-multiline");var Fn=B?B.getAlignment(h):void 0;Fn&&(I=" wj-align-"+Fn);var _e=b,Sn=a._isTransposed(),Re=(_e==S.ColumnHeader&&!Sn||_e==S.RowHeader&&Sn)&&a._hasColumnGroups()?a._getColumnGroup(e,i):null;if(Re&&Re.align&&(I=" wj-align-"+Re.align),Re&&Re.cssClass&&(C+=" "+Re.cssClass),M.paddingLeft=M.paddingRight=M.paddingTop=M.paddingBottom="",b==S.Cell&&a.rows.maxGroupLevel>-1&&i==c.firstVisibleIndex&&a.treeIndent){var Nt=g?Math.max(0,g.level):u.maxGroupLevel+1,Vr=Math.min(a.treeIndent*Nt+a._cellPadLeft,y-a._cellPadHorz)+"px";l?M.paddingRight=Vr:M.paddingLeft=Vr}y<=a._cellPadHorz&&null==r.getAttribute(wr._WJS_MEASURE)&&(M.paddingLeft=M.paddingRight=0);var Gt=b==S.Cell&&i==c.firstVisibleIndex&&g&&g.hasChildren&&!kf(a,e,i);Gt&&(I=""),Gt&&$(r,"aria-expanded",!g.isCollapsed);var Ut=null,et=null;if(0!=s&&B){if(Ut=t.getCellData(e,i,!1),et=t.getCellData(e,i,!0),g&&_&&!g.isSummary&&_e==S.Cell&&(et=""),Gt&&!g.isSummary){var pn=function Y8(n,t){var r=Ct('<button class="wj-btn wj-btn-glyph '+rn._WJC_COLLAPSE+'" type="button" tabindex="-1">'+Yl((n.isCollapsed?"":"down-")+(n.grid.rightToLeft?"left":"right"))+"</button>");return An(r,ft.FlexGrid.ariaLabels.toggleGroup),$(r,"aria-expanded",!n.isCollapsed),$(t,"aria-expanded",!n.isCollapsed),r}(g,r);et=g.getGroupHeader()||Qr(et),r.innerHTML=pn.outerHTML+" "+et}else if(b!=S.ColumnHeader||f!=a._getSortRowIndex()&&B==d){if(b!=S.RowHeader||et||!function(){var Jl=!1;if(i==a._getEditColumnIndex()){var Gf=a.editableCollectionView,Uf=Gf?Gf.currentEditItem:null;et=r.innerHTML=Uf&&h.dataItem==Uf?Yl("pencil"):h instanceof nn?Yl("asterisk"):"",Jl=!0}var Gc=B._tpl;return Gc&&(iP(Gc,r,Ut,et,h,B),Jl=!0),Jl}())if(b!=S.Cell||Q!=ze.Boolean||P||g&&!Zn(Ut))if(b==S.Cell&&re&&kf(a,e,i))L&&P&&!P.isEditable&&(et=qi(et)),r.innerHTML="<span style='flex-grow:1'></span>",r.children[0].textContent=et,(Ln=document.createElement("input")).type="menu",Ln.value=et,a._edtHdl._edt=Ln;else if(b==S.Cell&&!j&&kf(a,e,i)){var sn=B.inputType||h.inputType;if(sn||(sn=Q!=ze.Number||P?"text":"tel"),!P&&!B.mask&&!h.mask){var an=t.getCellData(e,i,!1);J(an)&&(et=function G8(n,t){var e=Se._parseNumericFormat(t=t||"n");switch(e.spec){case"d":case"x":break;case"e":t=t.replace(/[0-9]/g,"");break;default:t="p"==e.spec?"P15":"r",e.scale&&(t+=Array(e.scale/3+1).join(","))}return Se.formatNumber(n,t,!0)}(an,B.format||h.format))}r.innerHTML=(B.multiLine||h.multiLine)&&"checkbox"!=sn?'<textarea wrap="soft"></textarea>':'<input type="'+sn+'"/>';var Ln=r.children[0];Me(Ln,"wj-grid-editor wj-form-control"),af(Ln),L&&P&&!P.isEditable&&(et=qi(et)),Ln.value=et,Ln.tabIndex=-1,Ln.required=B.getIsRequired(h),$(Ln,"aria-required",Ln.required);var ir=B.maxLength||h.maxLength;ir&&(Ln.maxLength=ir),Ln.style.textAlign=B.getAlignment(h);var Ql=B.mask||h.mask;Ql&&(Ln[nP]=new Rl(Ln,Ql)),a.showPlaceholders&&(Ln.placeholder=B.header),(Ko()||z.sharedState.InvalidScroll)&&a._edtHdl&&a._edtHdl._edt&&(Ln.value=a._edtHdl._edt.value),a._edtHdl._edt=Ln}else{if(j){var bn=[],ma=t.getCellData(e,i,!1);P.getDisplayValues(h.dataItem).forEach(function(Jl){var Gf=P.getKeyValue(Jl)==ma?" checked":"",Uf=a.isReadOnly||h.isReadOnly||d.isReadOnly?" disabled":"",Gc=Qr(Jl);bn.push('<label><input type="radio" tabindex="-1"'+Gf+Uf+' value="'+Gc+'"><span>'+Gc+"</span></label>")}),r.innerHTML=bn.join(" "),C+=" "+n._WJC_RADIOMAP}var Hr=E?B._tpl:null;if(Hr&&R?iP(Hr,r,Ut,et,h,B):j||(b==S.Cell&&L?r.innerHTML=et:r.textContent=et||""),Re&&Re.collapseTo){var Ls=Re._rng;if(Ls&&(b==S.ColumnHeader&&Ls.columnSpan>1||b==S.RowHeader&&Ls.rowSpan>1)){var Li=Re.isCollapsed;r.innerHTML='<div role="button" class="'+n._WJC_COLLAPSE+'">'+Yl(Li?"plus":"minus")+"</div>&nbsp;"+r.innerHTML,Li&&Me(r,"wj-state-collapsed")}}}else{var _a=r.firstChild;!g||R?(a._isNativeCheckbox(_a)||(r.innerHTML='<label><input type="checkbox" class="'+n._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',_a=r.querySelector("input")),Al(_a,Ut),_a.disabled=!a.canEditCell(e,i),_a.disabled&&(_a.style.cursor="default")):g&&(r.innerHTML=""),a.editRange&&a.editRange.contains(e,i)&&(a._edtHdl._edt=_a)}}else{r.innerHTML=Qr(et);var UP=B.currentSort;UP&&a.showSort&&(C+=" wj-sort-"+("+"==UP?"asc":"desc"),r.innerHTML+="&nbsp;"+function q8(n){var t=Yl("+"==n.currentSort?"up":"down"),e=n.grid.collectionView;if(e&&e.sortDescriptions.length>1){var i=n.currentSortIndex;i>-1&&(t+='<span class="wj-sort-index">'+(i+1)+"</span>")}return t}(B)),a.allowPinning&&je(a.hostElement,r)&&function $8(n,t){var i=Ct(rP(rn._WJC_PIN,"pin"));qe(i,"wj-state-pinned",t),$(i,"aria-pressed",t),n.insertBefore(i,n.firstChild)}(r,i<a.columns.frozen)}if((x==Ci.DropDownList||x==Ci.Menu)&&a.showDropDown&&a.canEditCell(e,i)&&zc()){var k4=function U8(){var n=rn._ddBtn;return n||(An(n=rn._ddBtn=Ct(rn._tplDdBtn),ft.FlexGrid.ariaLabels.toggleDropDown),$(n,"aria-expanded",!1)),n.cloneNode(!0)}();r.insertBefore(k4,r.firstChild),kf(a,e,i)&&(C+=" wj-hasdropdown")}}b!=S.RowHeader&&b!=S.ColumnHeader||$(r,"draggable",(b==S.RowHeader?!g&&!v&&h.allowDragging&&0!=(a.allowDragging&Ro.Rows):(Re||d).allowDragging&&0!=(a.allowDragging&Ro.Columns))?"true":null),(a.headersFocusability&kn.Column&&S.ColumnHeader===b||a.headersFocusability&kn.Row&&S.RowHeader===b)&&vy(r,d,t,a,S.RowHeader===b),a.headersFocusability&kn.All&&S.TopLeft===b&&$(r,"role","rowheader"),r.className!=(C+=I)&&(r.className=C);var KP,$P=r.style;for(var zf in M)$P[zf]!==M[zf]&&($P[zf]=M[zf]);if(a._edtHdl._edt&&a._edtHdl._edt.parentElement==r){var Iy=a._root,qP=Iy.getBoundingClientRect(),Wf=r.getBoundingClientRect(),YP=qP.top+Iy.clientHeight-Wf.top,XP=qP.left+Iy.clientWidth-Wf.left;Wf.height>YP&&(r.style.height=YP+"px"),Wf.width>XP&&(r.style.width=XP+"px")}b!=S.Cell&&b!=S.RowHeader||g||!a._getShowErrors()||(!1===s&&B&&(Ut=t.getCellData(e,i,!1)),KP=B.binding&&u[e].dataItem&&B.getIsRequired(h)&&(null==Ut||""===Ut)?a._edtHdl._getRequiredMsg():a._getError(t,e,i,!1),a._edtHdl._setCellError(r,KP));if(a.itemFormatter&&a.itemFormatter(t,e,i,r),a.formatItem.hasHandlers){var va=n._fmtItemArgs;va?(va._p=t,va._rng.setRange(e,i,f,p),va._cell=r):va=n._fmtItemArgs=new QT(t,new ne(e,i,f,p),r),va._updateContent=!1!==s,a.onFormatItem(va)}},n.prototype.disposeCell=function(t){},n.prototype.getEditorValue=function(t){var e=t._edtHdl._edt;if(e instanceof HTMLInputElement)switch(e.type){case"checkbox":return e.checked;case"radio":return e.value}if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){var i=e[nP],r=i?i._applyMask():e.value,o=e.maxLength;if(J(o)&&o>-1&&r.length>o){var s=ft.Globalize.numberFormat["%"]||"%",a=r.length&&r[r.length-1]==s;r=r.substr(0,o),a&&r.indexOf(s)<0&&(r+=s)}return r}return null},n._WJC_RADIOMAP="wj-radio-map",n._WJC_CHECKBOX="wj-cell-check",n._WJC_COLLAPSE="wj-elem-collapse",n._WJC_DROPDOWN="wj-elem-dropdown",n._WJC_PIN="wj-elem-pin",n._tplDdBtn=rP(n._WJC_DROPDOWN,"down"),n._tplCtx={row:null,col:null,value:null,text:null,item:null},n}();function iP(n,t,e,i,r,o){var s=rn._tplCtx;s.value=e,s.text=i,s.item=r.dataItem,s.row=r,s.col=o;var a=xe(n)?fM(n,s):n(s,t);null!=a&&(t.innerHTML=a)}function kf(n,t,e){return n.editRange&&n.editRange.contains(t,e)}function Yl(n){return'<span class="wj-glyph-'+n+'"></span>'}function rP(n,t){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",n).replace("{glyph}",Yl(t))}var Fs,oP=function(){function n(t){var e=this;this._rng=null,this._edt=null,this._edItem=null,this._edtCanceled=!1,this._list=null,this._mapSearch=null,this._fullEdit=!1,this._evtInput=null,this._evtChange=null,this._cstEdtValue=null,this._validating=!1,this._composing=!1,this._g=t,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),t.selectionChanging.addHandler(function(r,o){return e._selectionChanging(o)}),t.lostFocus.addHandler(function(){var r=nt();r&&"fixed"==getComputedStyle(r).position?e.finishEditing():e._commitRowEdits()});var i=t.hostElement;t.addEventListener(i,"mousedown",function(r){if(!r.defaultPrevented&&0==r.button&&!t._mouseHdl._szRowCol){var o=t.hitTest(r);o.cellType!=H.Cell&&o.cellType!=H.None&&(e.finishEditing()||e.finishEditing(!0))}},!0),t.addEventListener(i,"compositionend",function(){e._composing=!1,e._keypress.bind(e)}),t.addEventListener(i,"compositionstart",function(r){var o=e._getCustomEditor(t),s=null!=r?be(r.target,".wj-flexgrid"):null,a=z.getControl(s);if(!o||(a&&a._edtHdl?null!=a._edtHdl.activeEditor:null!=e.activeEditor)||t.imeEnabled)e._composing=!0;else{var u=window.getSelection(),c=u.rangeCount>0?u.getRangeAt(0):null,h=document.activeElement;null!=h&&(h.blur(),window.getSelection().removeAllRanges(),setTimeout(function(){null!=c&&window.getSelection().addRange(c),h.focus()},20))}})}return n.prototype.startEditing=function(t,e,i,r,o){void 0===t&&(t=!0);var s=this._g,a=s._selHdl.selection;if(e=F(e,!0,!0),i=xe(i)?s.columns.indexOf(i):F(i,!0,!0),null==e&&(e=a.row),null==i&&(i=a.col),null==r&&(r=!0),!this._allowEdit(e,i))return!1;var l=s.getMergedRange(s.cells,e,i,!1);l||(l=new ne(e,i));var u=s.rows[e].dataItem;if(s.scrollIntoView(l.row,l.col,!0),!s.select(l,!0)||!s.rows[e]||u!=s.rows[e].dataItem)return!1;if(this.activeEditor){if(l.equals(this._rng))return!0;if(!this.finishEditing())return!1}var c=new Ft(s.cells,l,o);if(!s.onBeginningEdit(c))return!1;var h=s.editableCollectionView,d=!1;h&&((d=(u=s.rows[e].dataItem)!=h.currentEditItem)&&s.onRowEditStarting(c),h.editItem(u),d&&(s.onRowEditStarted(c),this._edItem=u));var f=s.rows[e],p=s._getBindingColumn(s.cells,e,s.columns[i]),g=p.dataMap||f.dataMap,m=Ci.RadioButtons,_=f.dataMap&&f.dataMapEditor==m||p.dataMap&&p.dataMapEditor==m;if(this._fullEdit=N(t),this._rng=l,this._list=null,g&&!_&&!p.editor){var v=g.getDisplayValues(u);(p.isContentHtml||f.isContentHtml)&&(v=v.map(function(E){return qi(E)})),this._list=v,this._mapSearch=g.search}if(_){var y=s._activeCell||s.hostElement.querySelector(".wj-cell.wj-state-active");if(y){var w=o?o.target:null;if(w instanceof HTMLSpanElement&&(w=be(w,"label")),w instanceof HTMLLabelElement&&(w=w.querySelector("input")),w instanceof HTMLInputElement)this._edt=w;else{var b=y.querySelectorAll("input[checked]");this._edt=b.length>0?b[0]:y.querySelector("input")}this._updateRowHeaderCell(e)}}else l.isSingleCell?this._updateEditorCell(e,i,d):s.refresh(!1);var C=this._edt;if(C){if("checkbox"==C.type||"radio"==C.type||"menu"==C.type)this._fullEdit=!1;else if(r){var I=0,M=C.value.length,S=!1,R=ft.Globalize.numberFormat["%"]||"%",P=s.getCellData(e,i,!1);if(J(P)?S=C.value.indexOf(R)>-1:null==P&&(S=/^p/i.test(p.format))&&C.value.indexOf(R)<0&&(C.value+=R),S){var x=C.value;for(I=0,M=x.length;M>0&&(x[M-1]==R||" "==x[M-1]);)M--;for(;I<M&&x[I]==R;)I++}o&&"keydown"==o.type&&o.keyCode==A.Space&&(I=M),this._setSelectionRange(C,I,M,!0,Ds()),pt()&&"right"==C.style.textAlign&&(C.style.paddingRight="1px")}s.onPrepareCellForEdit(c)}return r&&!s.containsFocus()&&s.focus(),null!=C&&!C.disabled&&!C.readOnly},n.prototype.finishEditing=function(t){var e=this._edt;if(!e)return this._removeListBox(),!0;var i=this._g,r=this._rng,o=new Af(i.cells,r),s=i.containsFocus();if(!t){var a=i.hostElement.querySelector(".wj-control.wj-state-focused");if(a){var l=z.getControl(a);l&&(l.containsFocus()||l._focus)&&l.onLostFocus(o)}}if(o.cancel=t,!t&&i.validateEdits&&(y=this._getValidationError())){o.cancel=!0;var u=i.cells.getCellElement(r.row,r.col);u&&(this._setCellError(u,y),o.stayInEditMode=!0)}if(this._cstEdtValue=null,o.data=i.cells.getCellData(r.topRow,r.leftCol,!1),!i.onCellEditEnding(o)&&o.stayInEditMode)return s?setTimeout(function(){e.select()}):e.select(),this._fullEdit=!0,!1;if(!o.cancel){var c=null,h=!1;if(null!=this._lbx_SelectedValue)c=this._lbx_SelectedValue,h=!0;else{var d=this._cstEdtValue;c=d&&!fr(d.value)?d.value:this._lbx_SelectedValue?this._lbx_SelectedValue:i.cellFactory.getEditorValue(i),h=null!=this._lbx_SelectedValue}for(var f=r.topRow;f<=r.bottomRow&&f<i.rows.length;f++)for(var p=r.leftCol;p<=r.rightCol&&p<i.columns.length;p++){var y,g=i._getBindingColumn(i.cells,f,i.columns[p]),m=i.rows[f],_=g&&g.dataMap||m&&m.dataMap,v=!_||_.serializeKeys;if((h||!_||!this.isEqualValue(_.getDisplayValue(o.data),c))&&!i.cells.setCellData(f,p,c,v,!1,h)&&i.validateEdits&&(y=this._getValidationError(!0))){o.cancel=!0;var w=i.cells.getCellElement(r.row,r.col);return w&&(this._setCellError(w,y),o.stayInEditMode=!0),!1}}e.value==this._edtValue&&e.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._edtCanceled=o.cancel,this._removeListBox(),this._lbx_SelectedValue=null;var b=be(e,".wj-cell");return je(b,nt())&&(i._setFocusNoScroll(b),i._isScrollingByWheel=!1),!o.cancel&&o.refresh&&i._refreshOnEdit?i.refresh(!1):this._updateEditorCell(r.row,r.col,!1),s&&i.focus(),i.onCellEditEnded(o),!0},n.prototype._setSelectionRange=function(t,e,i,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!1),!o)return st(t,e,i,r);if(je(document.body,t)&&!t.disabled&&t.offsetHeight){try{t.setSelectionRange(e,i,"backward")}catch{}if(r)try{return this._g._setFocusNoScroll(t),!0}catch{}}return!1},n.prototype._setCustomEditorValue=function(t){this._cstEdtValue={value:t}},n.prototype._getCustomEditor=function(t){var e=null,i=t.selection;if(null!=i){var r=t._getBindingColumn(t.cells,i.row,t.columns[i.col]);e=r&&r._edt}return e},n.prototype._setCellError=function(t,e){var i=this._g;""==e&&(e=null),qe(t,"wj-state-invalid",null!=e);var r=i.errorTip,o=i.activeEditor;r?(r.setTooltip(t,e),o&&je(t,o)&&$(o,"title","")):$(t,"title",e),o&&t==i.activeCell&&!je(t,o)&&r&&r.setTooltip(o,e)},Object.defineProperty(n.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),n.prototype.getClipString=function(t,e,i,r){var o,s=this,a=this._g,l=a.selectionMode,u=[],c=0!=(e&oo.CSV),h=c?"\r\n":"\n",d=c?",":"\t",f=0!=(e&oo.InvisibleRows),p=at,g=null!=t;if(!t&&l!=p.ListBox)for(var m=a.rows,_=0;_<m.length;_++)if(m[_].isSelected){l=p.ListBox;break}if(!t)switch(a._selHdl._expandSelection(),t=a.selection,l){case p.Row:case p.RowRange:case p.ListBox:t.col=0,t.col2=a.columns.length-1;break;case p.MultiRange:var v=a.selectedRanges;if(v.length>1){var y=this._sameCols(v),w=this._sameRows(v);if(y||w){(v=v.slice()).sort(function(x,E){return x.topRow-E.topRow||x.leftCol-E.leftCol});for(var b=0;b<v.length;b++)for(var C=v[b],I=b+1;I<v.length;I++)C.contains(v[I])&&(v.splice(I,1),I--);if(y){var M=[];return v.forEach(function(x){M.push(s.getClipString(x,e,i,r)),i=!1}),M.join(h)}var S;if(w)return v.forEach(function(x){var E=s.getClipString(x,e,i,r).split(h);null==S?(S=E,r=!1):E.forEach(function(j,ee){S[ee]+=d+j})}),S.join(h)}}}if(i&&t.col>-1&&t.col2>-1&&(o=a.columnHeaders).rows.forEach(function(x,E){if(f||x.isVisible){var j=s._getRowClipString(o,E,t,e,r);u.push(j)}}),t.row>-1&&t.row2>-1)if(o=a.cells,l!=p.ListBox||g){for(ge(t.bottomRow<o.rows.length,"Row index must be less than the number of rows."),b=t.topRow;b<=t.bottomRow;b++)if(f||o.rows[b].isVisible){var P=this._getRowClipString(o,b,t,e,r);u.push(P)}}else o.rows.forEach(function(x,E){if(x.isSelected&&(f||x.isVisible)){var j=s._getRowClipString(o,E,t,e,r);u.push(j)}});return u.join(h)},n.prototype._getRowClipString=function(t,e,i,r,o){var s=[],a=t.rows[e],u=0!=(r&oo.CSV),c=0!=(r&oo.InvisibleColumns),h=0==(r&oo.Unformatted),d=0!=(r&oo.SkipMerged);if(a.isVisible){if(o)for(var f=t.cellType==H.ColumnHeader?t.grid.topLeftCells:t.grid.rowHeaders,p=0;p<f.columns.length;p++)if(c||f.columns[p].isVisible){var g=f.getCellData(e,p,!0);d&&this._skipMergedCell(t,null,e,p)&&(g=""),s.push(this._getCellClipString(g,r))}if(i.col>-1&&i.col2>-1)for(ge(i.rightCol<t.columns.length,"Column index must be less than the number of columns."),p=i.leftCol;p<=i.rightCol;p++)(c||t.columns[p].isVisible)&&(!(g=t.getCellData(e,p,h))&&a instanceof tn&&p==t.columns.firstVisibleIndex&&(g=qi(a.getGroupHeader())),d&&this._skipMergedCell(t,null,e,p)&&(g=""),s.push(this._getCellClipString(g,r)))}return s.join(u?",":"\t")},n.prototype._skipMergedCell=function(t,e,i,r){var o=t.grid.getMergedRange(t,i,r,!1);return!(!o||(e&&(o.row=Math.max(e.topRow,o.row),o.col=Math.max(e.leftCol,o.col)),o.row==i&&o.col==r))},n.prototype._getCellClipString=function(t,e){xe(t)||(t=wt(t)?t.toJSON():null!=t?t.toString():""),t=t.replace(/\t/g," ");var i=0!=(e&oo.QuoteAll);return(i=i||/\n|^"|"$/.test(t))||!(e&oo.CSV)||(i=t.indexOf(",")>-1),i&&(t='"'+(t=t.replace(/"/g,'""'))+'"'),t},n.prototype._sameRows=function(t){for(var e=t[0],i=1;i<t.length;i++)if(t[i].topRow!=e.topRow||t[i].bottomRow!=e.bottomRow)return!1;return!0},n.prototype._sameCols=function(t){for(var e=t[0],i=1;i<t.length;i++)if(t[i].leftCol!=e.leftCol||t[i].rightCol!=e.rightCol)return!1;return!0},n.prototype.setClipString=function(t,e){var i=this,r=this._g,o=r.editableCollectionView,s=null==e,a=at;if(s)switch(r._selHdl._expandSelection(),e=r.selection,r.selectionMode){case a.Row:case a.RowRange:case a.ListBox:e.col=0,e.col2=r.columns.length-1;break;case a.MultiRange:var l=r.selectedRanges;if(l.length>1)return o&&o.beginUpdate(),l.forEach(function(x){r.setClipString(t,x)}),o&&o.endUpdate(),void(r.selectedRanges=l)}e=Pe(e,ne);var u=this._parseClipString(U(t));this._expandClipRows(u,e);var c=0;if(u.length)for(var h=e.leftCol,d=r.columns.length,f=0;f<u[0].length;f++)for(var p=h+f+c;p<d&&!r.columns[p].visible;)c++,p++;var g=s?new ne(e.topRow,e.leftCol,Math.min(e.topRow+u.length-1,r.rows.length-1),Math.min(e.leftCol+u[0].length-1+c,r.columns.length-1)):e,m=new Ft(r.cells,g,t);if(!r.onPasting(m))return!1;g=new ne(e.topRow,e.leftCol);var _=new Ft(r.cells,new ne(e.topRow,-1)),v=!1,y=0,w=e.topRow,b=r.rows,C=r.columns,I=r._getRowsPerItem(),M=u.length>I,S=this._deferPaste(e,u.length);if(ge(I>=1,"Invalid RPI value = "+I),r.deferUpdate(function(){var x=-1;o&&S&&(x=o.currentPosition,o.beginUpdate());for(var E=0;E<u.length&&w<b.length;E++,w++){var j=b[w];if(j.isVisible){if(!M||!j.isReadOnly){var ee=j.dataItem,L=o?o.currentEditItem:null;if(L&&ee!=L&&(r.onRowEditEnding(_),r.onRowEditEnded(_)),j instanceof nn&&o){if(S){if(j.dataItem=o.addNew(),_._rng.setRange(r.newRowAtTop?0:w,-1),!r.onRowEditStarting(_)){w--,o.cancelNew();continue}r.onRowEditStarted(_)}else if(1==I||(w+1)%I==1||0==E){if(_._rng.setRange(r.newRowAtTop?w%I:w,-1),!r.onRowEditStarting(_)){w--;continue}r.onRowEditStarted(_)}}else ee!=L&&(_._rng.setRange(w,-1),r.onRowEditStarting(_),r.onRowEditStarted(_));for(var B=u[E],Q=e.leftCol,re=0;re<B.length&&Q<C.length;re++,Q++){var oe=C[Q];if(oe.isVisible){if(!M||!oe.isReadOnly){var te=r.getMergedRange(r.cells,w,Q,!1);if((!te||te.leftCol==Q&&te.topRow==w)&&i._allowEdit(w,Q)){var fe=B[re],we=fe.length;we>1&&'"'==fe[0]&&'"'==fe[we-1]&&fe.indexOf("\n")>-1&&(fe=fe.substr(1,we-2));var Ue=oe.maxLength||j.maxLength;Ue&&(fe=fe.substr(0,Ue));var pe=new Ft(r.cells,new ne(w+y,Q),fe);if(r.onPastingCell(pe)){o&&(o.editItem(ee),i._edItem=o.currentEditItem);var de=r.getCellData(w,Q,!1),De=pe.data,rt=zc();if(rt){var _t=r._getBindingColumn(r.cells,w,r.columns[Q]),Mt=_t.editor,Fn=null,_e=null;Mt instanceof rt.InputNumber?(Fn=Mt.clamp.bind(Mt),_e=ze.Number):(Mt instanceof rt.InputDate||Mt instanceof rt.InputTime)&&(Fn=Mt._clamp.bind(Mt),_e=ze.Date),Fn&&Es(De=nf(De,_e,_t.format,de))==_e&&(De=Fn(De))}(r.pasteEmptyCells||""!==De)&&r.setCellData(w,Q,De)&&(pe.data=de,r.onPastedCell(pe),v=!0)}g.row2=Math.max(g.row2,w+y),g.col2=Math.max(g.col2,Q)}}}else re--}if(i._edItem&&o instanceof gr){var Sn=new Or(yn.Change,i._edItem,w);o.onCollectionChanged(Sn,o._edtClone)}j instanceof nn&&o&&(S?(j.dataItem=null,v?(_._rng.setRange(r.newRowAtTop?0:w,-1),r.onRowEditEnding(_),r.onRowEditEnded(_),w--,y++,o.commitNew()):o.cancelNew()):M&&I>1&&(w+1)%I==0&&v&&(_._rng.setRange(r.newRowAtTop?w%I:w,-1),r.onRowEditEnding(_),r.onRowEditEnded(_),w-=I,y++))}}else E--}if(o)if(S)o.currentEditItem&&(o.commitEdit(),r.onRowEditEnding(_),r.onRowEditEnded(_)),o.moveCurrentToPosition(x),o.endUpdate(!0);else{var Re=o.currentAddItem;!Re&&0==e.row&&r.newRowAtTop&&b[0]instanceof nn&&(Re=b[0].dataItem),Re&&(o.editItem(Re),i._edItem=Re)}g.rowSpan>1&&0==g.topRow&&b[0]instanceof nn&&(g.row=g.row2=0),r.select(g)}),r.onPasted(m),v&&be(r.hostElement,"form")){var R=document.createEvent("HTMLEvents"),P=Ct("<input>",r.hostElement);R.initEvent("change",!0,!1),P.dispatchEvent(R),Dt(P)}},n.prototype._deferPaste=function(t,e){var i=this._g.rows,r=i.length;return e>1&&(r>1&&i[0].dataItem!=i[1].dataItem||1==r&&i[0]instanceof nn)},n.prototype._parseClipString=function(t){var e=[],i=(t=(t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n$/,"")).length,r=function(m){return"\n"===m||"\t"===m},o=0,s=0;for(o=0;o<i;o++){var a=!1,l=!1,u=!1;if('"'===t[o]){for(var c=!1,h=!1,d=o+1;d<i;d++){var f=t[d];if('"'===f){var p=d+1;p<i?r(t[p])&&(h=!0):h=!0}else!c&&r(f)&&(c=!0);if(h)break}h&&c&&(a=!0)}for(s=o;s<i&&!u;s++){var g=t[s];'"'===g?a&&(l=!l):r(g)&&!l&&(this._parseClipCell(e,t,o,s,"\n"==g),o=s,s==i-1&&(o=s+1),u=!0)}if(s==i){this._parseClipCell(e,t,o,s,!1);break}}return 0==e.length&&e.push([""]),e},n.prototype._parseClipCell=function(t,e,i,r,o){t.length||t.push([]);var s=e.substr(i,r-i),a=s.length;if(a>2&&'"'==s[0]&&'"'==s[a-1]){var l=s.substr(1,a-2),u=function(c){return l.indexOf(c)>-1};(u('""')||u("\t")||u("\n"))&&(s=l.replace(/""/g,'"'))}else"\t"==s&&(s="");t[t.length-1].push(s),o&&t.push([])},n.prototype._expandClipRows=function(t,e){for(var i=t.length,r=0,o=0;o<i;o++)r=Math.max(r,t[o].length);for(var s=this._g,a=0,l=0,u=e.topRow;u<=e.bottomRow;u++)s.rows[u].isVisible&&a++;for(var c=e.leftCol;c<=e.rightCol;c++)s.columns[c].isVisible&&l++;if((a>1||l>1)&&(1==a&&(a=i),1==l&&(l=r),l%r==0&&a%i==0)){for(c=r;c<l;c++)for(u=0;u<i;u++)t[u].push(t[u%i][c%r]);for(u=i;u<a;u++)t.push(t[u%i])}},n.prototype._updateEditorCell=function(t,e,i){var r=this._g,o=r.cells.getCellElement(t,e),s=r._useFrozenDiv()&&(t<r.rows.frozen||e<r.columns.frozen);!o||s||r._hasPendingUpdates()?r.refresh(!1):r.onUpdatingView(new zt)&&(this._updateCell(o),(i||r._getHasValidation())&&this._updateRowHeaderCell(t),r.onUpdatedView())},n.prototype._updateRowHeaderCell=function(t){var e=this._g;if(e.headersVisibility&It.Row){var i=e.rowHeaders,r=e._getEditColumnIndex(),o=i.getCellElement(t,r);o&&this._updateCell(o)}},n.prototype._updateCell=function(t){var e=new Bc(t,null),i=wr._WJS_UPDATING;e.panel&&(Me(t,i),e.grid.cellFactory.updateCell(e.panel,e.row,e.col,t,e.range),ui(t,i))},n.prototype._getValidationError=function(t){var e=this,i=this._g,r="";if(i&&this._rng&&!this._validating){var o=this._rng.row,s=this._rng.col,a=i.activeEditor,l=i.cellFactory.getEditorValue(i),u=i.getCellData(o,s,!1);if(t&&(r=i._getError(i.cells,o,s,!0)),!r&&i._getHasValidation()){if(a&&(r=a.validationMessage),!r){var h=i.rows[o];!i._getBindingColumn(i.cells,o,i.columns[s]).getIsRequired(h)||null!=l&&""!==l||(r=this._getRequiredMsg())}!r&&i.setCellData(o,s,l,!0,!1)&&(r=i._getError(i.cells,o,s,!1),i.setCellData(o,s,u,!1,!1))}if(!r){var d=z.getControl(be(a,".wj-control"));if(d&&d!=i&&d.invalidInput.hasHandlers){var f=function(m,_){_.cancel&&(r=i._getError(i.cells,o,s,!0)||e._getBadInputMsg(),_.cancel=!1)};this._validating=!0;var p=a.value;if(d.invalidInput.addHandler(f),d._containsFocus()){var g=be(d.hostElement,".wj-cell");g&&g.focus()}d.onLostFocus(),d.invalidInput.removeHandler(f),a.value=p,r&&a.select(),this._validating=!1}}}return r},Object.defineProperty(n.prototype,"validate",{get:function(){return!this._getValidationError()},enumerable:!0,configurable:!0}),n.prototype._getRequiredMsg=function(){if(!n._msgRequired){var t=document.createElement("input");t.required=!0,n._msgRequired=t.validationMessage}return n._msgRequired},n.prototype._getBadInputMsg=function(){if(!n._msgBadInput){var t=document.createElement("input");t.pattern="x",t.value="a",n._msgBadInput=t.validationMessage||"Bad Input"}return n._msgBadInput},n.prototype._allowEdit=function(t,e){var i=this._g;if(i.isReadOnly||i.selectionMode==at.None||i.collectionView&&!i.editableCollectionView)return!1;if(null!=t){if(t<0||t>=i.rows.length)return!1;var r=i.rows[t];if(!r||r.isReadOnly||!r.isVisible)return!1}if(null!=e){if(e<0||e>=i.columns.length)return!1;var o=i._getBindingColumn(i.cells,t,i.columns[e]);if(!o||o.isReadOnly||!o.isVisible)return!1}return!0},n.prototype._commitRowEdits=function(){var t=this._g;if(this.finishEditing()&&this._edItem){var e=t.editableCollectionView;if(e&&(e.currentEditItem||e.currentAddItem)){var i=new Ft(t.cells,t.selection);t.onRowEditEnding(i),e.commitEdit(),t.onRowEditEnded(i)}this._edItem=null}},n.prototype._keydown=function(t){var e=this._edt;switch(t.keyCode){case A.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case A.F4:return this._toggleListBox(t),t.preventDefault(),!0;case A.Space:return e&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&(Al(e,e.indeterminate||!e.checked),this.finishEditing(),t.preventDefault()),!0;case A.Enter:if(t.preventDefault(),e&&t.altKey){var i=t.target;if(i instanceof HTMLTextAreaElement&&"soft"==i.wrap){this._composing&&(i.blur(),i.focus()),i.style.setProperty("ime-mode","auto","important");var r=i.value,o=i.selectionStart,s=i.selectionEnd;i.value=r.substr(0,o)+"\n"+r.substr(s),st(i,o+1),i.blur(),i.focus(),i.style.imeMode=""}return!0}if(e&&this._lbx){var a=this._g,l=a._selHdl.selection,u=a.rows[l.row],c=a._getBindingColumn(a.cells,l.row,a.columns[l.col]);return null!=e.value&&(e.value!=this._lbx.selectedValue&&0!=(xe(this._lbx.selectedValue)&&this._lbx.selectedValue.indexOf(e.value))||(this._lbx_SelectedValue=this._findKeyValue(u.dataMap||c.dataMap,c.isContentHtml||u.isContentHtml))),this._toggleListBox(t),this.finishEditing(),!0}return!this.finishEditing();case A.Tab:return t.preventDefault(),!this.finishEditing();case A.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case A.Up:case A.Down:case A.Left:case A.Right:case A.PageUp:case A.PageDown:case A.Home:case A.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case A.Up:case A.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(this._fullEdit)switch(t.keyCode){case A.PageUp:case A.PageDown:t.preventDefault()}else if(this.finishEditing())return!1}return!0},n.prototype._keydownListBox=function(t){var e=!0;if(this._lbx)switch(t.keyCode){case A.Up:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case A.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case A.Home:case A.PageUp:this._lbx.selectedIndex=0;break;case A.End:case A.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:e=!1}return!!e&&(t.preventDefault(),!0)},n.prototype._keypress=function(t){if("AltLeft"!=t.code&&"AltRight"!=t.code){var e=this._edt,i=t.charCode||32,r=this._list;if(Ds()&&e&&(1==e.value.length||0==e.selectionStart&&e.selectionEnd==e.value.length)&&(z.sharedState.InvalidScroll=!0),e&&"checkbox"!=e.type&&nt()==e&&r&&r.length>0&&i>=32){var s=e.selectionStart,a=e.value.substr(0,s);t.target==e&&t.charCode&&(a+=String.fromCharCode(t.charCode),s++);var l=this._mapSearch,u=-1;if(l)for(var c=0;c<r.length;c++){var h=r[c];if(l(null==h?h:h.toString(),a)){u=c;break}}else(u=this._findString(r,a,!0))<0&&!this._g.caseSensitiveSearch&&(u=this._findString(r,a,!1));if(u>-1){var d=this._lbx;d&&(d.selectedIndex=u),e.value=r[u],st(e,s,e.value.length),e.dispatchEvent(this._evtInput),t.preventDefault&&t.preventDefault()}else this._lbx&&(this._lbx_SelectedValue=null)}}else t.preventDefault()},n.prototype._findString=function(t,e,i){i||(e=e.toLowerCase());for(var r=0;r<t.length;r++){var o=t[r];if(null!=o&&(o=o.toString(),i||(o=o.toLowerCase()),0==o.indexOf(e)))return r}return-1},n.prototype._toggleListBox=function(t,e){var i=this._g,r=i._selHdl.selection,o=i.isTouching;if(e||(e=r),this._lbx&&(this._removeListBox(),r.intersects(e)))return i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0;if(!e.isValid)return!1;var s=i.rows[e.row],a=i._getBindingColumn(i.cells,e.row,i.columns[e.col]),l=s.dataMap||a.dataMap,u=i._getMapEditor(s,a);if(!l||u!=Ci.DropDownList&&u!=Ci.Menu||!zc()||null!=a.editor||!e.intersects(i.editRange)&&!this.startEditing(!0,e.row,e.col,!o,t))return!1;var c=this._lbx=this._createListBox();return requestAnimationFrame(function(){return c.showSelection()}),o&&c.focus(),!0},n.prototype._createListBox=function(){var t=this,e=this._g,i=e.activeEditor,r=this._rng,o=e.rows[r.row],s=e._getBindingColumn(e.cells,r.row,e.columns[r.col]),a=s.isContentHtml||o.isContentHtml,l=s.dataMap||o.dataMap,u=s.dropDownCssClass||o.dropDownCssClass,c=document.createElement("div");this._removeListBox(),Me(c,"wj-dropdown-panel wj-grid-listbox"),Me(c,u);var h=i?i.value:e.getCellData(r.row,r.col,!0),d=new js(c,{maxHeight:4*o.renderHeight,isContentHtml:a}),f=e.getRowDataItem(r.row,r.col);if(l.useFilter?(d.itemsSource=l.getFilteredItems(f),d.displayMemberPath=l._displayPath,d.selectedValuePath=l._keyPath):d.itemsSource=l.getDisplayValues(f),l._displayPath==l._keyPath)d.selectedValue=h;else{var p=e.getCellData(r.row,r.col,!1),g=-1,m=this._findDuplicateValues(l,h,a),_=l._cv.items.findIndex(function(I){return t.isEqualValue(I[l._keyPath],p,a)});if(_>-1){var v=l._cv.items[_][l._displayPath];if(this.isEqualValue(h,v,a))if(1==m.length)g=_>=d.itemsSource.length||!this.isEqualValue(this._getListBoxItemField(d,l.useFilter,_),h,a)?d.itemsSource.findIndex(function(I){return t.isEqualValue(v,l.useFilter?I[d.displayMemberPath]:I,a)}):_;else for(var y=-1,w=0;w<d.itemsSource.length;w++)if(this.isEqualValue(this._getListBoxItemField(d,l.useFilter,w),v,a)&&(y++,this.isEqualValue(m[y],p,a))){g=w;break}}g<0&&(g=d.itemsSource.findIndex(function(I){return t.isEqualValue(h,l.useFilter?I[d.displayMemberPath]:I,a)})),g>=0?d.selectedIndex=g:d.selectedValue=null}d.addEventListener(c,"keydown",function(I){switch(I.keyCode){case A.Enter:case A.Escape:t._removeListBox(),e.focus()}}),d.addEventListener(c,"click",function(){t._lbx&&(t._lbx_SelectedValue=t._findKeyValue(l,a)),t._removeListBox(),e.focus(),t.finishEditing()}),d.gotFocus.addHandler(function(){d.containsFocus()&&i&&!Ds()&&i.focus()}),d.selectedIndexChanged.addHandler(function(){var I=e.activeEditor;I&&(I.value=void 0===t._list[d.selectedIndex]?"":t._list[d.selectedIndex],I.dispatchEvent(t._evtInput),st(I,0,I.value.length))});var b=e.cells.getCellElement(r.row,r.col);return b?(eo(c,b,!1,!1,!1),$(b.querySelector("."+rn._WJC_DROPDOWN),"aria-expanded",!0)):(eo(c,e.getCellBoundingRect(r.row,r.col)),c[z._OWNR_KEY]=e.hostElement),d},n.prototype._getListBoxItemField=function(t,e,i){return i>=t.itemsSource.length?null:e?t.itemsSource[i][t.displayMemberPath]:t.itemsSource[i]},n.prototype._findKeyValue=function(t,e){if(void 0===e&&(e=!1),t.useFilter){if(this._lbx.selectedValue)return this._lbx.selectedValue;if(this._lbx.selectedItem&&this._lbx.selectedValuePath)return this._lbx.selectedItem[this._lbx.selectedValuePath]}var i=this._lbx.selectedValue,r=this._findDuplicateValues(t,i,e),o=t.getKeyValue(i);if(this._lbx.selectedIndex>0&&r.length>1){for(var s=-1,a=0;a<=this._lbx.selectedIndex;a++)this.isEqualValue(this._lbx.itemsSource[a],i,e)&&s++;s>=0&&(o=r[s])}return o},n.prototype._findDuplicateValues=function(t,e,i){void 0===i&&(i=!1);for(var r=[],o=t.getKeyValues(),s=0;s<o.length;s++)this.isEqualValue(t.getDisplayValue(o[s]),e,i)&&r.push(o[s]);return r},n.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,jr(t.hostElement,function(){t.dispose()}))},n.prototype.isEqualValue=function(t,e,i){return void 0===i&&(i=!1),t instanceof Date&&e instanceof Date?t.getTime()==e.getTime():(null!=t&&null!=t||(t=""),null!=e&&null!=e||(e=""),Number.isNaN(t)&&(t="NaN"),Number.isNaN(e)&&(e="NaN"),i&&(xe(t)&&t.indexOf("<")>-1&&(t=qi(t)),xe(e)&&e.indexOf("<")>-1&&(e=qi(e))),t.toString()==e.toString())},n.prototype._selectionChanging=function(t){var e=this;if(this.finishEditing()){var i=this._g._selHdl.selection.row;if(i!=t.row){var r=this._g.rows.length;if((i>-1&&i<r?this._g.rows[i].dataItem:null)!=(t.row>-1&&t.row<r?this._g.rows[t.row].dataItem:null)&&(this._commitRowEdits(),this._g._getHasValidation()&&this._g.validateEdits)){var o=!this._g.rows[i]||this._g.rows[i]&&Object.getPrototypeOf(this._g.rows[i])!==yr.prototype?null:this._g.getEmptyRequiredCell(i);null!==o&&setTimeout(function(){e._g.select(new ne(i,o)),e.startEditing(!0,i,o,!0,t)})}}}else t.cancel=!0},n._msgRequired="",n._msgBadInput="",n}(),sP=function(){function n(t,e){this._col=Pe(t,Qn),this._ctl=e,this._tbx=e.hostElement.querySelector("input"),ge(this._col instanceof Qn,"Invalid Column"),ge(this._ctl instanceof z,"Invalid edit control"),ge(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var i=this._ctl;this._prop=fr(i.value)?fr(i.checkedItems)?fr(i.text)?null:"text":"checkedItems":"value",ge(null!=this._prop,"value, text properties not found in editor");var r=zc();r&&(this._isDropDown=i instanceof r.DropDown,this._isComboBox=i instanceof r.ComboBox,this._isAutoComplete=i instanceof r.AutoComplete,this._isInputDateTime=i instanceof r.InputDateTime,this._isInputNumber=i instanceof r.InputNumber,this._isInputMask=i instanceof r.InputMask),this._updateFocusBnd=this._updateFocus.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._connect(),this._col.gridChanged.addHandler(this._connect,this),this._hideEditor(),this._updateFocus()}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},n.prototype._connect=function(){var t=this._col?this._col.grid:null;if(t!=this._g&&(this._disconnect(),t)){var e=t.hostElement,i=t.addEventListener.bind(t),r=this._updateFocusBnd;this._g=t,this._hideEditor(),this._updateFocus(),i(e,"keydown",this._keydownBnd,!0),i(e,"mousedown",this._mousedownBnd,!0),i(e,"mouseup",r,!0),i(e,"blur",r,!0),i(e,"focus",r),i(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.addHandler(r,this),t.selectionChanged.addHandler(r,this),t.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),t.cellEditEnded.addHandler(this._cellEditEnded,this)}},n.prototype._disconnect=function(){var t=this._g;if(t){var e=t.hostElement,i=t.removeEventListener.bind(t),r=this._updateFocusBnd;i(e,"keydown",this._keydownBnd),i(e,"mousedown",this._mousedownBnd),i(e,"mouseup",r),i(e,"blur",r),i(e,"focus",r),i(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.removeHandler(r,this),t.selectionChanged.removeHandler(r,this),t.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),t.cellEditEnding.removeHandler(this._cellEditEnding,this),t.cellEditEnded.removeHandler(this._cellEditEnded,this),this._g=null}},n.prototype._prepareCellForEdit=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var i=this.grid,r=this._ctl,o=this._tbx,s=this._prop,a=e.range,l=e.data,u=l&&void 0!==l.type?l.type:"",c=i.getCellData(a.row,a.col,"text"==s||this._isInputMask),h=!1;if(this._isComboBox&&(""!=c&&(r._emptyValueAction=!1),this._isInputDateTime&&r._setDropdown(r._ddDate)),this._isInputMask&&(r._fullEdit=!0),"checkedItems"==s&&(r.showFilterInput&&(r.showFilterInput=!1,r.showFilterInput=!0),(null==c||0==c.length)&&(r[s]=[],r.selectedIndex=0)),null!=c||!r.isRequired){if("checkedItems"==s){var d=[];if(r.selectedValuePath)for(var f=function(v){var y=r.collectionView.items.findIndex(function(w){return null!=c[v][r.selectedValuePath]&&w[r.selectedValuePath]===c[v][r.selectedValuePath]});y>=0&&(r._lbx.toggleItemChecked(y),d.push(r.collectionView.items[y]))},p=0;p<c.length;p++)f(p);else Rt(c)?d=c:c.length>0&&c.split(",").forEach(function(v){return d.push(v.trim())});r[s]=d}else r[s]=c;if(this._isAutoComplete&&(clearTimeout(r._toSearch),(m=r.collectionView)&&(m.filter||r._rxHighlight)&&(r._rxHighlight=null,m.filter=null),c)){var g=r._findNext(c,1,-1);r.selectedIndex!=g&&(r.selectedIndex=g)}}switch(u){case"keydown":case"mousedown":var m;(fr(l.keyCode)||l.keyCode==A.F4||l.altKey)&&(h=this._isDropDown,this._isAutoComplete&&(null==c||xe(c)))&&(m=r.collectionView)&&((m.filter||r._rxHighlight)&&(r._rxHighlight=null,m.filter=null),g=c?r._findNext(c,1,-1):-1,r.selectedIndex!=g&&(r.selectedIndex=g))}i.showPlaceholders&&!r.placeholder&&(o.placeholder=this._col.header),this.showEditor(),i._edtHdl._fullEdit=!0,0==u.indexOf("key")&&32==l.keyCode&&(st(o,o.value.length),l.preventDefault()),pt()&&!i.imeEnabled&&("keypress"==u&&l.key?(setTimeout(function(){o.value=l.key,st(o,1);var v=document.createEvent("HTMLEvents");v.initEvent("input",!0,!1),o.dispatchEvent(v)}),l.preventDefault()):"compositionstart"==u&&st(o,o.value.length)),this._isDropDown&&(r.isDroppedDown=h)}},n.prototype._cellEditEnding=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var i=this.grid,r=this._ctl,o=this._prop;if(this._isAutoComplete){var s=r.selectedIndex;if(J(s)&&s<0){var a=r.collectionView;a&&1==a.items.length?r.selectedIndex=0:this._col.isRequired&&(e.cancel=!0)}}if(!e.cancel&&o){var l=!1;this._isInputMask&&null!=r&&(i._edtHdl._setCustomEditorValue(r._msk._applyMask()),l=!0),l||i._edtHdl._setCustomEditorValue(r[o])}}},n.prototype._cellEditEnded=function(t,e){this._hideEditor(),this._updateFocus()},n.prototype._cmpstart=function(t){var e=this;this.grid.imeEnabled&&(pt()?setTimeout(function(){e._activateEditor(t)}):this._activateEditor(t))},n.prototype._keydown=function(t){if(!t.defaultPrevented&&this._checkColumn(t.target))if(this.grid.activeEditor){if(t.keyCode==A.Enter&&this._isDropDown){var e=this._ctl;e.isDroppedDown&&(e.isDroppedDown=!1,t.preventDefault(),t.stopImmediatePropagation())}}else if(this._isDropDown){var i=t.keyCode;switch(i){case A.F4:case A.Up:case A.Down:(i==A.F4||t.altKey)&&(this._activateEditor(t),t.preventDefault())}}},n.prototype._checkColumn=function(t){var e=this._g;if(je(t,this._tbx)||null!=t&&this._imeEditor()===t){var i=e._selHdl.selection;return e._getBindingColumn(e.cells,i.row,e.columns[i.col])==this._col}return!1},n.prototype._mousedown=function(t){if(!t.defaultPrevented&&0==t.button&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&this._isDropDown&&Yi(t.target,rn._WJC_DROPDOWN)){var e=this.grid,i=e.hitTest(t);!i._clickChildGrid&&i.getColumn(!0)==this._col&&(e.select(i.range),e.refresh(),this._activateEditor(t),t.preventDefault())}},n.prototype._activateEditor=function(t){var e=this.grid;if(!e.activeEditor){var i=e._selHdl.selection;if(i.isValid)return e.startEditing(!0,i.row,i.col,!0,t)}return!1},n.prototype.showEditor=function(){this.isOpen=!0;var t=this.grid,e=t.activeEditor,i=be(e,".wj-cell");if(i){var r=this._tbx,o=this._ctl.hostElement;ie(o,n._cssVisible),qe(r,"wj-grid-ime",!1),i.innerHTML="",i.appendChild(o),t._edtHdl._edt=r,this._imeEditor()?this._initImeEditInput():(r.select(),r.focus(),e.value="")}},n.prototype._hideEditor=function(){this.isOpen=!1;var t=this.grid,e=this._ctl.hostElement,i=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1),i.setCustomValidity("");var r=i.value;i.value=r+" ",i.value=r,ie(e,n._cssHidden),qe(i,"wj-grid-ime",!0),t&&e.parentElement!=t._root&&t._root.appendChild(e)},n.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1},n.prototype._updateFocus=function(){var t=this.grid;if(t&&!t.activeEditor){var e=t.hostElement,i=".wj-flexgrid",r=this._tbx,o=nt(),s=t._getTabIndex();if(be(o,i)==e)if(be(r,i)!=e)this._hideEditor();else if(t.imeEnabled)r.tabIndex>-1&&(r.tabIndex=-1);else{var a=t._selHdl.selection,l=t._getBindingColumn(t.cells,a.row,t.columns[a.col]);l&&l==this._col&&t.canEditCell(a.row,a.col)?o!==r&&(t.activeCell&&(t.activeCell.tabIndex=-1),r.tabIndex=s,t.isTouching||(r.select(),r.focus())):r.tabIndex>-1&&(r.tabIndex=-1,o==r&&t.focus(!0))}}},n.prototype._initImeEditInput=function(){var t=this,e=this._imeEditor();if(e){var i=this._tbx,r=i&&i.style.color,o=this._ctl,s=function(){if(e.removeEventListener("compositionend",s),ie(e,jf._cssHidden),i){i.style.color=r;var a=function(){o.gotFocus.removeHandler(a),t._g._edtHdl._edt=i;var l=e.value;if(l){i.value=l,t._isInputMask?setTimeout(function(){n._setSelectionRange(i,l.length,l.length)},0):n._setSelectionRange(i,l.length,l.length);var u=document.createEvent("HTMLEvents");u.initEvent("input",!0,!1),i.dispatchEvent(u)}};o.gotFocus.addHandler(a),i.focus()}};e.addEventListener("compositionend",s),i&&(i.style.color="transparent")}},n._setSelectionRange=function(t,e,i){if(void 0===i&&(i=e),je(document.body,t)&&!t.disabled&&"none"!=t.style.display)try{t.setSelectionRange(F(e),F(i),pt()?null:"backward"),t.focus()}catch{}},n.prototype._imeEditor=function(){var t=this.grid;if(t&&t.imeEnabled){var e=nt();if(e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&gt(e,"wj-grid-ime"))return e}return null},n._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden",border:"none"},n._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%"},n}();!function(n){n[n.None=0]="None",n[n.MoveDown=1]="MoveDown",n[n.MoveAcross=2]="MoveAcross",n[n.Cycle=3]="Cycle",n[n.CycleOut=4]="CycleOut",n[n.CycleEditable=5]="CycleEditable"}(Fs||(Fs={}));var so,rs,Ro,aP=function(){function n(t){this._kaTab=Fs.None,this._kaEnter=Fs.MoveDown,this._g=t;var e=t.hostElement;t.addEventListener(e,"keypress",this._keypress.bind(this)),t.addEventListener(e,"keydown",this._keydownHeaders.bind(this)),t.addEventListener(e,"keydown",this._keydown.bind(this))}return n.prototype._keydownMetaHeaders=function(t){if(!t.defaultPrevented){var e=this._g,i=e._getKeyCode(t),r=t.ctrlKey||t.metaKey,o=t.shiftKey,s=!1;switch(i){case A.Left:case A.Right:case A.Up:case A.Down:case A.Enter:case A.Delete:case A.Back:case A.F2:case A.Home:case A.End:s=!0;break;case A.Space:(e.activePanelType===H.ColumnHeader&&!r||e.activePanelType===H.RowHeader&&!o||e.activePanelType===H.TopLeft)&&(s=!0)}s&&t.preventDefault()}},n.prototype._keydownHeaders=function(t){if(!t.defaultPrevented&&this._g.activePanelType!=H.Cell){var e=this._g,i=e.selection,r=t.ctrlKey||t.metaKey,o=t.shiftKey,s=t.altKey,a=t.target,l=!1,u=e.activePanel,c=e.activePanelType,h=e._getKeyCode(t);if("INPUT"===a.tagName){var d=a.type;if("radio"!==d&&"checkbox"!==d)return}if(r||s||o)return this._keydownMetaHeaders(t);if(!l)switch(h){case A.Left:if(c===H.ColumnHeader&&e.headersFocusability===kn.All&&e.headersVisibility===It.All){var f=u.getNextVisibleColumn();(e.getMergedRange(u,i.row,i.col)||new ne(i.row,i.col)).leftCol<=f&&(g=e._gpTL.getLastVisibleColumn())>=0&&(e.select(new ne(i.row,g),!0,e._gpTL),l=!0)}l||(e._selHdl.moveSelectionWithinSelectedPanel(0,-1),l=!0);break;case A.Right:if(c===H.RowHeader){var p=u.getLastVisibleColumn();(e.getMergedRange(u,i.row,i.col)||new ne(i.row,i.col)).rightCol>=p&&(g=e._gpCells.getNextVisibleColumn())>=0&&(e.select(i.row,g),l=!0)}else if(c===H.TopLeft&&e.headersVisibility&It.Column&&(p=u.getLastVisibleColumn(),(e.getMergedRange(u,i.row,i.col)||new ne(i.row,i.col)).rightCol>=p)){var g;(g=e._gpCHdr.getNextVisibleColumn())>=0&&(e.select(i.row,g,e._gpCHdr),l=!0)}l||(e._selHdl.moveSelectionWithinSelectedPanel(0,1),l=!0);break;case A.Down:if(c===H.ColumnHeader){var m=u.getLastVisibleRow();(e.getMergedRange(u,i.row,i.col)||new ne(i.row,i.col)).bottomRow>=m&&(v=e._gpCells.getNextVisibleRow())>=0&&(e.select(v,i.col),l=!0)}else c===H.TopLeft&&e.headersVisibility&It.Row&&(m=u.getLastVisibleRow(),(e.getMergedRange(u,i.row,i.col)||new ne(i.row,i.col)).bottomRow>=m&&(v=e._gpRHdr.getNextVisibleRow())>=0&&(e.select(v,i.col,e._gpRHdr),l=!0));l||(e._selHdl.moveSelectionWithinSelectedPanel(1,0),l=!0);break;case A.Up:if(c===H.RowHeader&&e.headersFocusability===kn.All&&e.headersVisibility===It.All){var v,_=u.getNextVisibleRow();(e.getMergedRange(u,i.row,i.col)||new ne(i.row,i.col)).topRow<=_&&(v=e._gpTL.getLastVisibleRow())>=0&&(e.select(new ne(v,i.col),!0,e._gpTL),l=!0)}l||(e._selHdl.moveSelectionWithinSelectedPanel(-1,0),l=!0);break;case A.Enter:case A.Space:var y=u.getCellElement(i.row,i.col);if(y){var w=y.querySelector("button");if(w)w.click(),l=!0;else{var b=y.querySelector('[role="button"]');if(b)b.click(),l=!0;else{var C=y.querySelector("input");C&&!C.classList.contains("wj-column-selector")?(C.click(),l=!0):!C&&c==H.ColumnHeader&&(y.click(),l=!0)}}}l=!0;break;default:l=!0}l&&t.preventDefault()}},n.prototype._keydown=function(t){if(!t.defaultPrevented){var e=this._g,i=e._edtHdl,r=e.selection,o=t.ctrlKey||t.metaKey,s=t.shiftKey,a=t.altKey,l=t.target,u=t.char||t.key,c=!0;if(!o&&!a&&u&&1==u.length&&be(l,".wj-cell")&&l.firstElementChild&&(" "!=u||!s)){var h=l.querySelectorAll("."+rn._WJC_RADIOMAP+" label input");if(h&&h.length){for(var d=-1,f=0;f<h.length;f++)if(h[f].checked){d=f;break}for(u=u.toLowerCase(),f=0;f<h.length;f++){var p=h[(d+f+1)%h.length];if(" "==u||p.value.toLowerCase()[0]==u){p.click();break}}return void t.preventDefault()}}if(!e._wantsInput(l)){var g=Tn(e.rows[r.row],tn),m=e.editableCollectionView,_=e._getKeyCode(t),v=Ao,y=at,w=t.defaultPrevented&&!(l instanceof HTMLInputElement);if((e.isRangeValid(r)&&!w||o&&65==_)&&(!e.activeEditor||!i._keydown(t)||e._isNativeCheckbox(e.activeEditor))){if(e.autoClipboard){if(o&&(67==_||45==_)){var b=new Ft(e.cells,r);if(e.onCopying(b)){var S=e.getClipString(null,!1,0!=(e.copyHeaders&It.Column),0!=(e.copyHeaders&It.Row))+"\r\n";e._eFocus.focus(),Cv.copy(S),e.onCopied(b)}return void t.stopPropagation()}if(o&&86==_||s&&45==_)return e.isReadOnly||Cv.paste(function(Q){e.setClipString(Q)}),void t.stopPropagation()}switch((s||o)&&"Space"==t.code&&(_=A.Space),_){case A.Space:if(s&&r.isValid)switch(e.selectionMode){case y.CellRange:case y.MultiRange:case y.Row:case y.RowRange:case y.ListBox:e.select(new ne(r.row,0,r.row,e.columns.length-1),!1);var P=e.rowHeaders.hostElement.children[r.row-e.rowHeaders.viewRange.row].querySelector(".wj-column-selector");P&&!e.rows[r.row].isSelected&&P.click()}else if(o&&r.isValid)switch(e.selectionMode){case y.CellRange:case y.MultiRange:e.select(new ne(0,r.col,e.rows.length-1,r.col),!1)}else(c=this._startEditing(!0,t))&&setTimeout(function(){var Q=e.activeEditor;Q&&(Q.disabled||Q.readOnly&&!be(Q,".wj-control")?e.finishEditing():"checkbox"==Q.type&&(Al(Q,Q.indeterminate||!Q.checked),e.finishEditing()))}),c=!0;break;case 65:if(o)switch(e.selectionMode){case y.None:case y.Cell:break;default:e.selectAll()}else c=!1;break;case A.Left:if(o||a)c=!1;else{if(r.isValid&&0==r.leftCol&&g&&!g.isCollapsed&&g.hasChildren)g.isCollapsed=!0;else if(r.isValid&&r.isSingleCell&&e.headersFocusability&kn.Row&&e.headersVisibility&It.Row&&e.activePanel.getNextVisibleColumn()>=(e.getMergedRange(e.activePanel,r.row,r.col)||new ne(r.row,r.col)).leftCol)return e.select(r.row,e._gpRHdr.columns.length-1,e._gpRHdr),void t.preventDefault();if(!o){if(e.selectionMode==y.None)return;this._moveSel(v.None,o?v.Home:v.Prev,s)}}break;case A.Right:if(o||t.altKey)c=!1;else if(r.isValid&&0==r.leftCol&&g&&g.isCollapsed)g.isCollapsed=!1;else{if(e.selectionMode==y.None)return;this._moveSel(v.None,o?v.End:v.Next,s)}break;case A.Up:if(o)c=!1;else if(r.isValid&&r.isSingleCell&&e.headersFocusability&kn.Column&&e.headersVisibility&It.Column){var x=e.activePanel.getNextVisibleRow();if((e.getMergedRange(e.activePanel,r.row,r.col)||new ne(r.row,r.col)).topRow<=x){var E=e._gpCHdr.getLastVisibleRow();if(E>=0)return e.select(E,r.col,e._gpCHdr),void t.preventDefault()}}if(!o)if(t.altKey&&i._toggleListBox(t))c=!0;else{if(e.selectionMode==y.None)return;this._moveSel(v.Prev,v.None,s)}break;case A.Down:if(o)c=!1;else if(t.altKey&&i._toggleListBox(t))c=!0;else{if(e.selectionMode==y.None)return;this._moveSel(v.Next,v.None,s)}break;case A.PageUp:if(this._moveSel(t.altKey?v.Home:v.PrevPage,v.None,s),e.rows.frozen&&e.selection.row<e.rows.frozen){var j=e.scrollPosition;j.y&&(e.scrollPosition=new T(j.x,0))}break;case A.PageDown:this._moveSel(t.altKey?v.End:v.NextPage,v.None,s);break;case A.Home:this._moveSel(o?v.Home:v.None,v.Home,s);break;case A.End:this._moveSel(o?v.End:v.None,v.End,s);break;case A.Tab:if(!(c=this._performKeyAction(e.keyActionTab,s))&&!e.activeCell)if(e.focus(!0),e.imeEnabled){var ee=e._imeHdl;ee&&ee._resetTabIndex()}else{var L=this._getCustomEditor(e,r.row,r.col);L&&L._resetTabIndex()}break;case A.Enter:e.rows[r.row]instanceof nn||(c=this._performKeyAction(e.keyActionEnter,s)),this._getCustomEditor(e,r.row,r.col)||e.focus(!0),!s&&m&&null!=m.currentEditItem&&i._commitRowEdits();break;case A.Escape:if(c=!1,m&&(m.currentAddItem||m.currentEditItem)){var B=new Ft(e.cells,e.selection);B.cancel=!0,e.onRowEditEnding(B),m.currentAddItem&&m.cancelNew(),m.currentEditItem&&m.cancelEdit(),e.onRowEditEnded(B),c=!0}e._mouseHdl.resetMouseState();break;case A.Delete:case A.Back:c=this._deleteSel(t);break;case A.F2:c=this._startEditing(!0,t);break;case A.F4:c=i._toggleListBox(t);break;default:c=!1}c&&(e.containsFocus()||e.focus(),t.preventDefault(),t.stopPropagation())}}}},n.prototype._performKeyAction=function(t,e){var r=Ao;switch(t){case Fs.MoveDown:return this._moveSel(e?r.Prev:r.Next,r.None,!1),!0;case Fs.MoveAcross:return this._moveSel(r.None,e?r.Prev:r.Next,!1),!0;case Fs.Cycle:return this._moveSel(r.None,e?r.PrevCell:r.NextCell,!1),!0;case Fs.CycleEditable:return this._moveSel(r.None,e?r.PrevEditableCell:r.NextEditableCell,!1),!0;case Fs.CycleOut:var o=this._g.selection;return this._moveSel(r.None,e?r.PrevCell:r.NextCell,!1),!o.equals(this._g.selection)}return!1},n.prototype._keypress=function(t){var e=this,i=this._g;if(!i._wantsInput(t.target)&&!t.defaultPrevented){var r=i._edtHdl;if(i.activeEditor)r._keypress(t);else if(t.charCode>A.Space&&"AltLeft"!=t.code&&"AltRight"!=t.code)if(this._startEditing(!1,t)&&i.activeEditor){var o=nt();if(o instanceof HTMLInputElement&&"checkbox"!=o.type||o instanceof HTMLTextAreaElement){var s=i._selHdl.selection,a=i.getCellData(s.row,s.col,!0),l=i.getCellData(s.row,s.col,!1),u=ft.Globalize.numberFormat["%"]||"%",c=String.fromCharCode(t.charCode),h=J(l)&&a.indexOf(u)>-1||""==a&&o.value==u,d=!0,f=function(){o.value=h?c+u:c,st(o,1),o.dispatchEvent(r._evtInput),r._keypress(t),r._edtValue=o.value!=a?o.value:null};if(i.imeEnabled){var p=this._getCustomEditor(i,s.row,s.col),g=p&&p.control;if(g&&!g._focus){var m=function(){g.gotFocus.removeHandler(m),d=!1,f()};g.gotFocus.addHandler(m)}}d&&f(),t.preventDefault()}}else if(i.autoSearch){var _=!1;if(s=i._selHdl.selection,t.charCode>32||32==t.charCode&&this._search){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},z._SEARCH_DELAY);var v=this._findNext(s.row,s.col);v<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],v=this._findNext(s.row,s.col)),v>-1&&(_=!0,i.select(v,s.col))}_||(this._search="")}}},n.prototype._getCustomEditor=function(t,e,i){var r=t._getBindingColumn(t.cells,e,t.columns[i]);return r&&r._edt},n.prototype._findNext=function(t,e){var i=this._g,r=i.rows.length;(t<0||1==this._search.length)&&t++;var o=this._search,s=i.caseSensitiveSearch;s||(o=o.toLowerCase());for(var a=i.columns[e].isContentHtml,l=0;l<r;l++){var u=(t+l)%r,c=i.getCellData(u,e,!0).trim();if(a&&(c=qi(c)),s||(c=c.toLowerCase()),0==c.indexOf(o))return u}return-1},n.prototype._moveSel=function(t,e,i){var r=this._g,o=r.selectionMode,s=r._selHdl;o!=at.None&&(o==at.MultiRange&&s.extendedSelection.clear(),s.moveSelection(t,e,i))},n.prototype._deleteSel=function(t){var e=this,i=this._g,r=i.rows,o=i.editableCollectionView,s=i.selection,a=[],l=new ne,u=new Af(i.cells,l,t),c=at;if(!i._edtHdl._allowEdit())return!1;if(i.allowDelete&&(null==o||o.canRemove&&!o.isAddingNew&&!o.isEditingItem)){if(0==(a=r.filter(function(g){return g.isSelected})).length)switch(i.selectionMode){case c.CellRange:case c.MultiRange:var h=i._getDeleteColumnIndex();i.selectedRanges.forEach(function(g){if(g.leftCol==h&&g.rightCol==i.columns.length-1)for(var m=g.topRow;m>-1&&m<=g.bottomRow;m++){var _=r[m];a.indexOf(_)<0&&a.push(_)}});break;case c.Row:s.topRow>-1&&a.push(r[s.topRow]);break;case c.RowRange:for(var d=s.topRow;d>-1&&d<=s.bottomRow;d++)a.push(r[d])}a=a.reduce(function(g,m){return g.find(function(_){return _.dataItem===m.dataItem})||g.push(m),g},[])}if(a.length>0){var f=0;if(i.deferUpdate(function(){o&&o.beginUpdate();for(var g=a.length-1;g>=0;g--){var m=a[g];m instanceof nn||(l.setRange(m.index,-1),i.onDeletingRow(u),u.cancel||(o&&m.dataItem?o.remove(m.dataItem):i.rows.removeAt(m.index),f++,i.onDeletedRow(u)))}o&&o.endUpdate(!1)}),f>0){var p=s.topRow;for(p=Math.min(p,i.rows.length-1);p>0&&i.rows[p]instanceof nn;)p--;s.row=s.row2=p,i.select(s,!1),i.childItemsPath&&o&&o.refresh()}return!0}return 0==a.length&&(i.deferUpdate(function(){var g=i.scrollPosition,m=-1;switch(a=r.filter(function(b){return b.isSelected}),i.selectionMode){case c.Row:s.topRow>-1&&a.push(r[s.topRow]);break;case c.RowRange:for(var _=s.topRow;_>-1&&_<=s.bottomRow;_++)a.push(r[_])}var v=i.selectedRanges.length>1||a.length>1||s.isValid&&r[s.row].dataItem!=r[s.row2].dataItem;if(o&&o.beginUpdate(),a.length){var y=new ne(0,0,0,i.columns.length-1);a.forEach(function(b){y.row=y.row2=b.index,e._deleteRange(t,y),m=y.bottomRow})}else e._deleteRange(t,s),m=s.bottomRow,i.selectionMode==c.MultiRange&&i._selHdl.extendedSelection.forEach(function(b){e._deleteRange(t,b),m=b.bottomRow});if(i.select(s,!1),i.scrollPosition=g,o){if(v&&o.currentEditItem){o.commitEdit();var w=new Ft(i.cells,new ne(m,-1));i.onRowEditEnding(w),i.onRowEditEnded(w)}o.endUpdate(!1)}}),!0)},n.prototype._deleteRange=function(t,e){var i=this._g,r=i.editableCollectionView,o=new ne,s=new Af(i.cells,o,t),a=new Ft(i.cells,new ne(e.topRow,-1));i._imeHdl&&i._imeHdl._suspendIME();for(var l=e.topRow;l<=e.bottomRow;l++){var u=i.rows[l];if(!u.isReadOnly)for(var c=e.leftCol;c<=e.rightCol;c++){var h=i._getBindingColumn(i.cells,l,i.columns[c]);if(!h.getIsRequired(u)&&!h.isReadOnly){var d=i.getCellData(l,c,!1);if(i.getCellData(l,c,!0)&&(o.setRange(l,c),s.cancel=!1,i.onBeginningEdit(s))){var f=u.dataItem,p=r?r.currentEditItem:null;p&&f!=p&&c===e.rightCol&&(i.onRowEditEnding(a),i.onRowEditEnded(a)),f!=p&&c===e.leftCol&&(a._rng.setRange(l,-1),i.onRowEditStarting(a),i.onRowEditStarted(a)),r&&(r.editItem(f),i._edtHdl._edItem=f),i.setCellData(l,c,"",!0,!1),s.previousData=d,i.onCellEditEnding(s),i.onCellEditEnded(s)}}}}i._imeHdl&&i._imeHdl._resumeIME()},n.prototype._startEditing=function(t,e,i,r){return this._g._edtHdl.startEditing(t,i,r,!0,e)},n}(),lP="wj-state-dragsrc",wy="wj-flexgrid";!function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both",n[n.ColumnsAllCells=4|n.Columns]="ColumnsAllCells",n[n.RowsAllCells=4|n.Rows]="RowsAllCells",n[n.BothAllCells=4|n.Both]="BothAllCells"}(so||(so={})),function(n){n[n.None=0]="None",n[n.Headers=1]="Headers",n[n.Cells=2]="Cells",n[n.Both=3]="Both"}(rs||(rs={})),function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both"}(Ro||(Ro={}));var uP=function(){function n(t){var e=this,i=t.hostElement,r=t.addEventListener.bind(t),o=t.removeEventListener.bind(t);this._g=t,this._dvMarker=Ct('<div class="wj-marker">&nbsp;</div>'),r(i,"mousedown",function(l){t._rcBounds=null;var u=l.target,c=Yi(u,wy),h=c&&c!=t.hostElement,d=h&&(c[z._CTRL_KEY]._imeHdl||t.imeEnabled),f=l.defaultPrevented&&null!=Yi(u,rn._WJC_DROPDOWN);if((!l.defaultPrevented||d||f)&&0==l.button){if(!l.defaultPrevented){if(!t.containsFocus()){var p=u instanceof HTMLElement&&u.tabIndex>-1?u:t._eFocus;t._setFocusNoScroll(p)}setTimeout(function(){l.defaultPrevented||t.focus()})}if(h||!t.activeEditor&&t._isInputElement(u)&&!e._hasRadioMap(l)&&!t._isNativeCheckbox(u)||f){var g=t.hitTest(l),m=H;switch(g.cellType){case m.Cell:var _=t.getMergedRange(g.panel,g.row,g.col,!1);t.select(_??g.range,!1),!l.defaultPrevented&&u instanceof HTMLElement&&"root"!=u.getAttribute("wj-part")&&u.focus();break;case m.ColumnHeader:case m.ColumnFooter:t.scrollIntoView(-1,g.col);break;case m.RowHeader:t.scrollIntoView(g.row,-1)}return void(!l.defaultPrevented&&pt()&&g.cellType!=m.Cell&&t._isInputElement(u)&&u.focus())}if(t._isNativeCheckbox(u)&&gt(u,"wj-column-selector")&&t.hitTest(l).cellType==H.RowHeader)return;var v=document;o(v,"mousemove"),o(v,"mouseup"),r(v,"mousemove",s),r(v,"mouseup",a),e._isDown=!0,e._mousedown(l)}});var s=function(l){e._mousemove(l)},a=function(l){e._isDown=!1,o(document,"mousemove"),o(document,"mouseup"),e._mouseup(l)};r(i,"mouseenter",function(l){t._rcBounds=null}),r(i,"mousemove",this._hover.bind(this)),r(i,"dblclick",this._dblclick.bind(this)),r(i,"click",this._click.bind(this)),r(i,"selectstart",function(l){t._isInputElement(l.target)||l.preventDefault()}),Ko()&&r(i,"mousewheel",function(l){l.defaultPrevented||!l.wheelDeltaY||l.ctrlKey||l.metaKey||(t._isScrollingByWheel=!0)}),r(i,"wheel",function(l){if(!l.defaultPrevented&&l.deltaY&&!l.ctrlKey&&!l.metaKey){var u=t._root,c=l.deltaY;if((l.shiftKey?u.scrollWidth>u.clientWidth:u.scrollHeight>u.clientHeight)&&Yi(l.target,wy)==t.hostElement){switch(l.deltaMode){case 1:c=t.rows.defaultSize*(c<0?-1:1);break;case 2:c=(l.shiftKey?u.clientWidth:u.clientHeight)*(c<0?-1:1);break;default:Ko()&&(c=Ne(c,-150,150))}t._isScrollingByWheel=!0,Ds()&&(z.sharedState.InvalidScroll=!1),t.finishEditing(!1)&&(l.shiftKey?u.scrollLeft+=c:u.scrollTop+=c),clearTimeout(e.mouseWhellTimer),e.mouseWhellTimer=setTimeout(function(){t._isScrollingByWheel=!1},1),l.preventDefault(),l.stopImmediatePropagation()}}}),r(i,"dragstart",this._dragstart.bind(this)),r(i,"dragover",this._dragover.bind(this)),r(i,"dragleave",this._dragleave.bind(this)),r(i,"drop",this._drop.bind(this)),r(i,"dragend",this._dragend.bind(this))}return n.prototype.resetMouseState=function(){var t=this._g,e=t.hostElement;this._updating&&(this._updating=!1,t.endUpdate()),this._dragSrc&&ui(this._dragSrc,lP),this._showDragMarker(null),e&&(e.style.cursor=""),Ko()&&this._szRowCol&&t.invalidate(),t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelState=null,this._lbSelStateRows={},this._lbSel=null,this._szRowCol=null,this._szArgs=null,t._rcBounds=null,this._anchorCol=-1},n.prototype._mousedown=function(t){var e=this._g,i=t.target,r=e.hitTest(t),o=r.cellType,s=H,a=t.ctrlKey||t.metaKey;if(this._selDown=e.selection,this._selPanelType=e.activePanelType,this._ignoreClick=!1,null==r.panel&&null==e.cells||r.panel&&e.cells&&r.panel._uid==e.cells._uid){if(Yi(i,rn._WJC_DROPDOWN)){var l=e.hitTest(i);return e._edtHdl._toggleListBox(t,l.range),t.preventDefault(),void(this._ignoreClick=!0)}var u=e.editRange;if(u&&u.contains(r.range))return void(z.sharedState.InvalidScroll=Ds())}var c=nt();if(i!=c||!e._isInputElement(i))if(o!=s.None)if(this._htDown=r,this._eMouse=t,this._anchorCol=r.col,null==this._szRowCol){var h=e.allowResizing,d=so;if((o==s.RowHeader||o==s.TopLeft)&&r.edgeBottom&&h&d.Rows&&this._getResizeRowHt(r))this._ignoreClick=!0;else if((o==s.ColumnHeader||o==s.TopLeft)&&r.edgeRight&&h&d.Columns&&this._getResizeColHt(r))this._ignoreClick=!0;else{var f=e.allowDragging,p=Ro;switch(o){case s.Cell:case s.RowHeader:a&&e.selectionMode==at.ListBox&&(this._lbSelState=e.rows[r.row].isSelected,be(i,".wj-elem-collapse")&&(this._lbSelState=!1)),this._mouseSelect(t,t.shiftKey),o==s.RowHeader&&!(f&p.Rows)&&(t.preventDefault(),e.focus());break;case s.ColumnHeader:e.allowSorting||f&p.Columns||be(i,"button")||this._mouseSelect(t,t.shiftKey)}}}else{var g=e._eFocus;c!=g&&(g.tabIndex=0,g.focus()),this._ignoreClick=!0,this._handleResizing(t)}else e.finishEditing(),i!=e._root&&i!=e._fCt&&e._edtHdl._commitRowEdits()},n.prototype._mousemove=function(t){if(this._htDown&&!t.defaultPrevented){if(0==t.buttons&&this._eMouse&&t.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else{var e=this._g,i=e.allowDragging,r=Ro;switch(this._htDown.cellType){case H.Cell:this._mouseSelect(t,!0);break;case H.RowHeader:i&r.Rows||this._mouseSelect(t,!0);break;case H.ColumnHeader:i&r.Columns||e.allowSorting||this._mouseSelect(t,!0)}}}},n.prototype._mouseup=function(t){var e=this._g;if(!e.isTouching||!(this._dragSrc||t.target instanceof HTMLHtmlElement)){var i=e.hitTest(t),r=this._htDown;if(r&&!t.defaultPrevented&&(this._szArgs&&e._finishResizing(t,!1),!this._szArgs&&(null==i.panel&&null==r.panel||i.panel&&r.panel&&i.panel._uid==r.panel._uid)&&i.row==r.row&&i.col==r.col)){var o=i.getColumn();if(o&&(!o._getFlag(Qe.HasTemplate)||o.cellTemplate)){var s=i.target;if(s!=r.target&&s instanceof HTMLElement){if(r.target instanceof HTMLInputElement){var a=i.point,l=r.point;Math.abs(a.x-l.x)+Math.abs(a.y-l.y)<10&&(s=s.querySelector("input")||s)}var u=document.createEvent("Event");for(var c in u.initEvent("click",!0,!0),t)/Key$|X$|Y$|^button|^(x|y|which)$/.test(c)&&(u[c]=t[c]);s.dispatchEvent(u)}}}this.resetMouseState()}},n.prototype._click=function(t){if(this._ignoreClick&&(this._ignoreClick=!1,t.preventDefault()),!t.defaultPrevented){var e=this._g,i=t.target,r=e.hitTest(i),o=Tn(i,HTMLInputElement),s="input."+rn._WJC_CHECKBOX;if(!o){var a=be(i,"label");a&&(o=a.querySelector(s))}if(!o&&e.bigCheckboxes&&(o=i.querySelector(s)),o!=e.activeEditor&&e._isNativeCheckbox(o)){if(null==r.panel&&null==e.cells||r.panel&&e.cells&&r.panel._uid==e.cells._uid){var l=e.getCellData(r.row,r.col,!1);e.startEditing(!1,r.row,r.col,!1,t)?(e.activeEditor.checked=!l,e.finishEditing(),e.focus()):"boolean"!=typeof l&&null!=l||(o.checked=l)}return}if(this._hasRadioMap(t))return void this._handleClick(t);var u=t.ctrlKey||t.metaKey;if(e.rows.maxGroupLevel>-1&&Yi(i,rn._WJC_COLLAPSE)){var c=e.rows[r.row];if(null==r.panel&&null==e.cells||r.panel&&e.cells&&r.panel._uid==e.cells._uid&&c instanceof tn)return void(u?e.collapseGroupsToLevel(c.isCollapsed?c.level+1:c.level):c.isCollapsed=!c.isCollapsed)}if(!u&&!t.shiftKey&&!e.activeEditor&&e.activePanelType===H.Cell&&(null==r.panel&&null==e.cells||r.panel&&e.cells&&r.panel._uid==e.cells._uid)){var h=e._selHdl.selection;if(h.equals(this._selDown)&&this._selPanelType===H.Cell&&r.range.contains(h))return void e.startEditing(!0,null,null,!0,t)}this._handleClick(t)}},n.prototype._handleClick=function(t){var e=this._g,i=t.target,r=e.hitTest(i),o=t.ctrlKey||t.metaKey,s=r.panel;if(!t.defaultPrevented&&r.grid&&e&&r.grid._uid==e._uid){if(s&&e.cells&&s._uid==e.cells._uid&&this._hasRadioMap(t)){var a=be(i,"label"),l=a&&a.querySelector("input");return void(l&&!l.disabled&&e.startEditing(!1,r.row,r.col,!1,t)&&e.finishEditing()&&(e._edtHdl._edtCanceled?t.preventDefault():e.setCellData(r.row,r.col,a.textContent,!0,e.refreshOnEdit)))}if(!e._isInputElement(i)){if(s&&e.topLeftCells&&s._uid==e.topLeftCells._uid){switch(e.selectionMode){case at.None:case at.Cell:break;default:e.selectAll()}return}if(s&&e.columnHeaders&&s._uid==e.columnHeaders._uid){if(e.allowPinning&&Yi(i,rn._WJC_PIN))this._clickPin(t,r);else if(!e._isTransposed()&&Yi(t.target,rn._WJC_COLLAPSE)){if(p=e._getColumnGroup(r.row,r.col))if(o)for(var c=p.isCollapsed,h=p.level,d=[],f=0;f<e.columns.length;f++)(p=e._getColumnGroup(r.row,f))&&p.collapseTo&&p.level==h&&d.indexOf(p)<0&&(d.push(p),p.isCollapsed=!c);else p.isCollapsed=!p.isCollapsed}else i instanceof HTMLSpanElement&&i.parentElement instanceof HTMLLabelElement&&(i=i.parentElement.querySelector("input")),i instanceof HTMLInputElement||this._clickSort(t,r),e.focus();return}if(s&&e.rowHeaders&&s._uid==e.rowHeaders._uid){var p;if(e._isTransposed()&&Yi(t.target,rn._WJC_COLLAPSE)&&(p=e._getColumnGroup(r.row,r.col)))if(o){c=p.isCollapsed,h=p.level,d=[];for(var g=0;g<e.rows.length;g++)(p=e._getColumnGroup(g,r.col))&&p.collapseTo&&p.level==h&&d.indexOf(p)<0&&(d.push(p),p.isCollapsed=!c)}else p.isCollapsed=!p.isCollapsed;return}if(s&&e.cells&&s._uid==e.cells._uid){if(r.row<0)return void this._clickSort(t,r);if(Yi(i,rn._WJC_COLLAPSE)){var m=e.rows[r.row];return void(m instanceof tn&&(o?e.collapseGroupsToLevel(m.isCollapsed?m.level+1:m.level):m.isCollapsed=!m.isCollapsed))}Yi(i,rn._WJC_DROPDOWN)&&e._edtHdl._toggleListBox(t,r.range)}}}},n.prototype._hasRadioMap=function(t){var e=t.target;if(be(e,"label")){var i=Yi(e,rn._WJC_RADIOMAP);return Yi(i,wy)==this._g.hostElement}return!1},n.prototype._clickSort=function(t,e){var i=this._g,r=i.allowSorting,o=i.collectionView,s=o?o.sortDescriptions:null,a=t.ctrlKey||t.metaKey,l=t.shiftKey;if(o&&o.canSort&&r!=is.None){var u=e.panel.columns[e.col],c=i._getBindingColumn(e.panel,e.row,u),h=c?c._getBindingSort():null;if(c.allowSorting&&h){if(u&&c&&u._uid==c._uid){var d=i.getMergedRange(e.panel,e.row,e.col,!1);if(d&&d.columnSpan>1)return}var f=new Ft(e.panel,e.range,t);if(i.onSortingColumn(f)){i._edtHdl._commitRowEdits();for(var p=-1,g=null,m=0;m<s.length;m++)if(s[m].property==h){p=m,g=s[m];break}s.deferUpdate(function(){if(a&&l)s.clear();else if(g){var _=a;!_&&i.isTouching&&(_=0==g.ascending),_?s.removeAt(p):s[p]=new oa(h,!g.ascending)}else{r!=is.MultiColumn&&s.clear();var v=new oa(h,!0);s.push(v)}}),i.onSortedColumn(f)}}}},n.prototype._clickPin=function(t,e){var i=this._g,r=i.columns,o=r.frozen,s=i.allowPinning;s==Fr.Both&&(s=t.shiftKey?Fr.ColumnRange:Fr.SingleColumn);var a=e.col>=o,l=a?e.col===o:e.col===o-1,u=new Ft(i.cells,e.range);if(i.onPinningColumn(u)){var c=new Set(r.slice(0,r.frozen).map(function(p,g){return g}));if(s==Fr.SingleColumn)if(c.has(e.col)?c.delete(e.col):c.add(e.col),this._resizeColumns(c),l)r.frozen=a?r.frozen+1:r.frozen-1;else if(i._hasColumnGroups()){var h=i._getColumnGroup(e.row,e.col);i._canMoveColumnGroup(e.row,e.col,0,o)||h&&h._ownerList&&h._ownerList.owner&&h._ownerList.owner.collapseTo&&(h._ownerList.owner.collapseTo="");var d=h._ownerList.length>1?e.row:Math.max(e.row-1,0);a?(i._moveColumnGroup(d,e.col,0,o,!1),r.frozen++):((!d||!l||d&&i._getColumnGroup(e.row-1,e.col)!=i._getColumnGroup(e.row-1,e.col+1))&&i._moveColumnGroup(d,e.col,0,o-1,!1),r.frozen--)}else a?(r.moveElement(e.col,o,!1),r.frozen++):(r.moveElement(e.col,o-1,!1),r.frozen--);if(s==Fr.ColumnRange){for(var f=0;f<=e.col;f++)c.add(f);this._resizeColumns(c),r.frozen=e.col+1!=o?e.col+1:0}i._updateLayoutOnPin(),i.onPinnedColumn(u)}},n.prototype._dblclick=function(t){t.defaultPrevented||this._g._finishResizing(t,!0)},n.prototype._prepareAutoSize=function(t,e){var i,r=this,o=this._g,s=o.hitTest(t),a=t.ctrlKey||t.metaKey,l=s.range,u=s.cellType,c=H,h=o.allowResizing,d=so;if(s.edgeRight&&h&d.Columns)u==c.TopLeft?s.panel.columns[s.col].allowResizing&&(i=new Ft(s.panel,new ne(-1,s.col)),o.onAutoSizingColumn(i)&&o.onResizingColumn(i)&&(this._ignoreClick=!0,o.autoSizeColumn(s.col,!0),o.onAutoSizedColumn(i),o.onResizedColumn(i),t.preventDefault())):(u==c.ColumnHeader||4&h)&&e.forEach(function(m){u==c.ColumnHeader&&a&&(l=m);for(var _=u==c.RowHeader||u==c.BottomLeft,v=l.leftCol;v<=l.rightCol;v++)s.panel.columns[v].allowResizing&&(i=new Ft(s.panel,new ne(-1,v)),o.onAutoSizingColumn(i)&&o.onResizingColumn(i)&&(r._ignoreClick=!0,o.autoSizeColumn(v,_),o.onResizedColumn(i),o.onAutoSizedColumn(i),t.preventDefault()))}),this.resetMouseState();else if(s.edgeBottom&&h&d.Rows){if(u==c.TopLeft||u==c.BottomLeft){if(s.getRow().allowResizing){var f=u==c.TopLeft||null;i=new Ft(s.panel,new ne(s.row,-1)),o.onAutoSizingRow(i)&&o.onResizingRow(i)&&(this._ignoreClick=!0,o.autoSizeRow(s.row,f),o.onResizedRow(i),o.onAutoSizedRow(i),t.preventDefault())}}else if(u==c.RowHeader||4&h){var p=s.panel,g=p==o.columnHeaders||p==o.columnFooters&&null;e.forEach(function(m){a&&p&&o.cells&&(l=m);for(var _=l.topRow;_<=l.bottomRow;_++)p.rows[_].allowResizing&&(i=new Ft(p,new ne(_,-1)),o.onAutoSizingRow(i)&&o.onResizingRow(i)&&(r._ignoreClick=!0,o.autoSizeRow(_,g),o.onResizedRow(i),o.onAutoSizedRow(i),t.preventDefault()))})}this.resetMouseState()}},n.prototype._hover=function(t){if(!this._isDown){var e=this._g,i=e.hitTest(t),r="";return this._szRowCol=this._getResizeColHt(i)||this._getResizeRowHt(i),this._szRowCol instanceof Qn?r="col-resize":this._szRowCol instanceof yr&&(r="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,e.hostElement.style.cursor=r,i}return null},n.prototype._getResizeColHt=function(t){var e,i=this._g.allowResizing,r=t.cellType;return i&so.Columns&&(r==H.ColumnHeader||r==H.TopLeft||4&i)&&(t.edgeRight&&(e=t.getColumn()),t.edgeFarRight&&(e=this._getResizeCol(t.panel,t.col)||t.getColumn()),t.edgeLeft&&(e=this._getResizeCol(t.panel,t.col,!0)||e)),e&&e.allowResizing?e:null},n.prototype._getResizeRowHt=function(t){var e,i=this._g.allowResizing,o=t.cellType;return i&so.Rows&&(o==H.RowHeader||o==H.TopLeft||4&i)&&(t.edgeBottom&&(e=t.getRow()),t.edgeFarBottom&&(e=this._getResizeRow(t.panel,t.row)||t.getRow()),t.edgeTop&&(e=this._getResizeRow(t.panel,t.row,!0)||e)),e&&e.allowResizing?e:null},n.prototype._getResizeCol=function(t,e,i){void 0===i&&(i=!1);var r=this._g,o=t.columns;if(i){for(var s=e-1;s>=0;s--)if((a=o[s]).isVisible)return this._asResizable(a);if(o==r.columns&&r.headersVisibility&It.Row)for(s=(o=r.rowHeaders.columns).length-1;s>=0;s--)if((a=o[s]).isVisible)return this._asResizable(a);return null}for(s=e+1;s<o.length;s++)if((a=o[s]).isVisible)return this._asResizable(a);if(e==o.length-1&&o==r.rowHeaders.columns)for(o=r.columns,s=0;s<o.length;s++){var a;if((a=o[s]).isVisible)return this._asResizable(a)}return null},n.prototype._getResizeRow=function(t,e,i){void 0===i&&(i=!1);var r=this._g,o=t.rows;if(i){for(var s=e-1;s>=0;s--)if((a=o[s]).isVisible)return this._asResizable(a);if(o==r.rows&&r.headersVisibility&It.Column)for(s=(o=r.columnHeaders.rows).length-1;s>=0;s--)if((a=o[s]).isVisible)return this._asResizable(a);return null}for(s=e+1;s<o.length;s++)if((a=o[s]).isVisible)return this._asResizable(a);if(e==o.length-1&&o==r.columnHeaders.rows)for(o=r.rows,s=0;s<o.length;s++){var a;if((a=o[s]).isVisible)return this._asResizable(a)}return null},n.prototype._asResizable=function(t){return 0==t.renderSize&&t.allowResizing?t:null},n.prototype._mouseSelect=function(t,e){var i=this,r=this._g;if(t&&this._htDown&&this._htDown.panel&&r.selectionMode!=at.None){var o=new Bc(this._htDown.panel,t);this._handleSelection(o,e),!Zo()&&t.button>=0&&t.target!=r._root&&((o=new Bc(r,t)).panel||setTimeout(function(){i._isDown&&i._eMouse&&i._mouseSelect(i._eMouse,e)},100))}},n.prototype._handleResizing=function(t){"mousedown"==t.type&&(Ko()?$(t.target,"draggable",null):t.preventDefault());var e=this._szRowCol,i=H;if(e instanceof Qn){var r=this._g,o=Ss(t).x,s=Math.round(Math.max(n._SZ_MIN,this._szStart+(o-this._htDown.point.x)*(r.rightToLeft?-1:1)));if(this._htDown.cellType===i.TopLeft&&r.columns.frozen>0){var a=r.columns.slice(0,r.columns.frozen).reduce(function(C,I){return C+I.renderSize},0);a-e.renderSize+s>=(c=r._szClient.width-5)&&(s=c-a+e.renderSize,r.deferResizing?this._showResizeMarker(s):e.width=s)}if(e.renderSize!=s){if(null==this._szArgs){var l=r.rowHeaders.columns.indexOf(e)>-1?r.rowHeaders:r.cells;this._szArgs=new Ft(l,new ne(-1,e.index))}if(this._szArgs.cancel=!1,r.onResizingColumn(this._szArgs))if(r.deferResizing){var u=r.columns.indexOf(e);if(r.columns.isFrozen(u)&&(this._htDown.cellType==i.ColumnHeader||this._htDown.cellType===i.Cell)){var c,h=r.columns.slice(0,r.columns.frozen).reduce(function(C,I){return C+(I.isVisible?I.renderWidth:0)},0),d=(c=r._szClient.width-5)-(h-e.renderWidth);s>d&&(s=d)}this._showResizeMarker(s)}else e.width=s}}var f=this._szRowCol;if(f instanceof yr){r=this._g;var p=Ss(t).y;if(s=Math.round(Math.max(n._SZ_MIN,this._szStart+(p-this._htDown.point.y))),this._htDown.cellType===i.TopLeft&&r.rows.frozen>0){var g=r.rows.slice(0,r.rows.frozen).reduce(function(C,I){return C+I.renderSize},0),_=r._szClient.height-5;g-f.renderSize+s>=_&&(s=_-g+f.renderSize,r.deferResizing?this._showResizeMarker(s):f.height=s)}if(f.renderSize!=s&&(null==this._szArgs&&(l=r.columnHeaders.rows.indexOf(f)>-1?r.columnHeaders:r.columnFooters.rows.indexOf(f)>-1?r.columnFooters:r.cells,this._szArgs=new Ft(l,new ne(f.index,-1))),this._szArgs.cancel=!1,r.onResizingRow(this._szArgs)))if(r.deferResizing){var v=r.rows.indexOf(f);if(r.rows.isFrozen(v)&&(this._htDown.cellType==i.RowHeader||this._htDown.cellType===i.Cell)){for(var y=0,w=0;w<r.rows.frozen;w++)w!=v&&(y+=null==r.rows[w].height?r.rows[w].renderHeight:r.rows[w].height);var b=r._szClient.height-y-5;s>b&&(s=b)}this._showResizeMarker(s)}else f.height=s}this._szArgs&&t.preventDefault()},n.prototype._dragstart=function(t){var e=this._g,i=this._htDown,r=Ro,o=H;if(i){if(this._dragSrc=null,this._htDrag=null,this._chldColGrpMarker=!1,!this._szRowCol){var s=new Ft(i.panel,i.range),a=e.allowDragging,l=i.cellType,u=i.panel.rows,c=i.getColumn(!0);if(c&&c.allowDragging&&(l==o.ColumnHeader||l==o.TopLeft)&&a&r.Columns&&(e.onDraggingColumn(s)?this._dragSrc=t.target:t.preventDefault()),!this._dragSrc&&i.row>-1&&u[i.row].allowDragging){var h=u[i.row];h instanceof tn||h instanceof nn||l==o.RowHeader&&a&r.Rows&&(e.onDraggingRow(s)?this._dragSrc=t.target:t.preventDefault())}}this._dragSrc&&t.dataTransfer&&!t.defaultPrevented&&(this._htDrag=i,sM(t.dataTransfer,"move"),t.stopPropagation(),Me(this._dragSrc,lP),e.beginUpdate(),this._updating=!0)}},n.prototype._dragend=function(t){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},n.prototype._dragover=function(t){var e=this._g,i=this._hitTest(t),r=this._dragSrc?this._htDrag:null,o=H,s=!1;if(this._htDown&&(i.row>this._htDown.row?this.isDetailRow(i.row+1)&&(i._row+=1):i.row<this._htDown.row&&this.isDetailRow(i.row)&&(i._row-=1)),r&&i.cellType==r.cellType){var a=new Ft(i.panel,i.range,r);i.cellType==o.ColumnHeader&&e._hasColumnGroups()?(a.cancel=!e._canMoveColumnGroup(r.row,r.col,i.row,i.col),s=e.onDraggingColumnOver(a)):i.cellType==o.ColumnHeader?(a.cancel=!e.columns.canMoveElement(r.col,i.col),s=e.onDraggingColumnOver(a)):i.cellType==o.RowHeader?(a.cancel=!e.rows.canMoveElement(r.row,i.row),s=e.onDraggingRowOver(a)):i.cellType==o.TopLeft&&(a.cancel=!e.topLeftCells.columns.canMoveElement(r.col,i.col),s=e.onDraggingColumnOver(a))}if(s?(t.dataTransfer.dropEffect="move",t.preventDefault(),t.stopPropagation(),this._showDragMarker(i)):this._showDragMarker(null),r&&e.autoScroll){var l=e.controlRect,u=e.scrollPosition,c=z._DRAG_SCROLL_EDGE,h=z._DRAG_SCROLL_STEP;r.panel==e.columnHeaders?(t.pageX-l.left<c&&(u.x+=h),l.right-t.pageX<c&&(u.x-=h)):r.panel==e.rowHeaders&&(t.pageY-l.top<c&&(u.y+=h),l.bottom-t.pageY<c&&(u.y-=h)),u.equals(e._ptScrl)||(e.scrollPosition=u,e._rcBounds=null)}},n.prototype._dragleave=function(t){this._showDragMarker(null)},n.prototype._drop=function(t){var e=this._g,i=this._hitTest(t),r=this._dragSrc?this._htDrag:null,o=H;if(r&&i.cellType==r.cellType){var s=e.selection,a=new Ft(i.panel,i.range,r);if(i.cellType==o.ColumnHeader&&e._hasColumnGroups()){var l=e._getColumnGroup(r.row,r.col).columns.length,u=l>0?l:1,c=e.columns.frozen;e._moveColumnGroup(r.row,r.col,i.row,i.col,this._chldColGrpMarker),r.col<c&&i.col>=c?e.columns.frozen-=u:r.col>=c&&i.col<c&&(e.columns.frozen+=u),e.activePanelType===H.ColumnHeader||e.activePanelType===H.TopLeft?e.select(s.row,i.col,e.columnHeaders):e.select(s.row,i.col),e.onDraggedColumn(a)}else if(i.cellType==o.ColumnHeader)e.columns.moveElement(r.col,i.col),e.activePanelType===H.ColumnHeader||e.activePanelType===H.TopLeft?e.select(s.row,i.col,e.columnHeaders):e.select(s.row,i.col),e.onDraggedColumn(a);else if(i.cellType==o.RowHeader){var h=i.row;i.row>this._htDown.row&&this.isDetailRow(i.row+1)?h+=1:i.row<this._htDown.row&&this.isDetailRow(i.row)&&(h-=1),this.isDetailRow(r.row)?this.moveDetailRow(r.row-1,h):this.isDetailRow(r.row+1)?this.moveDetailRow(r.row,h):e.rows.moveElement(r.row,h),e.select(i.row,s.col),e.onDraggedRow(a)}else i.cellType==o.TopLeft&&(e.topLeftCells.columns.moveElement(r.col,i.col),e.onDraggedColumn(a))}this.resetMouseState()},n.prototype._hitTest=function(t){var e=this._g;return e._rcBounds=null,e.hitTest(t)},n.prototype._showResizeMarker=function(t){var e,i=this._g,r=i._ptScrl,o=this._szArgs.panel.cellType,s=H,a=this._dvMarker,l=i.cells.hostElement;a.parentElement!=l&&l.appendChild(a),this._szRowCol instanceof Qn?(e={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},o!=s.TopLeft&&o!=s.RowHeader||(e.left-=i._eTL.offsetWidth+r.x),o==s.Cell&&this._szRowCol.index<i.columns.frozen&&(e.left-=r.x),i.rightToLeft&&(e.left=l.clientWidth-e.left-e.width)):(e={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},o!=s.TopLeft&&o!=s.ColumnHeader||(e.top-=i._eTL.offsetHeight+r.y),o==s.Cell&&this._szRowCol.index<i.rows.frozen&&(e.top-=r.y)),ie(a,e)},n.prototype._showDragMarker=function(t){var e=this._dvMarker;if(t&&t.panel){if(!t.range.equals(this._rngTarget)){this._rngTarget=t.range;var i=t.panel.hostElement;e.parentElement!=i&&i.appendChild(e);var r=this._g,o=r._ptScrl,s=H,a={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(t.cellType){case s.ColumnHeader:var l=r._getColumnGroup(t.row,t.col);if(l){var u=l._rng,c=t.panel.rows,h=t.panel.columns;if(l.isEmpty&&null===l.binding){var d=c[u.bottomRow],f=h[u.leftCol],p=r.rightToLeft,g=p?e.parentElement.clientWidth-t.point.x:t.point.x,m=Math.max(f.renderWidth/5,n._SZ_MAX_COLGRP_EDGE),y=this._htDown&&t.col>this._htDown.col;if(!y&&g>f.pos+m||y&&g<f.pos+f.renderWidth-m){a.top=d.pos-a.height/2+d.renderHeight,a.left=p?e.parentElement.clientWidth-f.pos-f.renderWidth:f.pos,a.width=f.renderWidth,this._chldColGrpMarker=!0;break}}this._chldColGrpMarker=!1,a.top=0,a.height=0;for(var w=0;w<u.topRow;w++)a.top+=c[w].renderHeight;for(w=u.topRow;w<=u.bottomRow;w++)a.height+=c[w].renderHeight;if(a.left=0,this._htDown&&t.col>this._htDown.col){var b=h[u.rightCol];a.left=b.pos-a.width/2+b.renderWidth}else a.left=h[u.leftCol].pos-a.width/2;r.rightToLeft&&(a.left=e.parentElement.clientWidth-a.left-a.width);break}case s.TopLeft:case s.ColumnHeader:var I=t.panel.columns[t.col];a.left=I.pos-a.width/2,a.height=t.panel.height,this._htDown&&t.col>this._htDown.col&&(a.left+=I.renderWidth),t.cellType==s.ColumnHeader&&t.col<r.columns.frozen&&(a.left-=o.x),r.rightToLeft&&(a.left=e.parentElement.clientWidth-a.left-a.width);break;case s.RowHeader:var M=t.getRow();a.top=M.pos-a.height/2,a.width=t.panel.width,t.row>this._htDown.row&&(a.top+=M.renderHeight),t.row<r.rows.frozen&&(a.top-=o.y)}ie(e,a)}}else Dt(e),this._rngTarget=null},n.prototype._finishResizing=function(t,e){var i=this,r=this._g,o=this._szArgs,s=this._eMouse,a=s&&(s.ctrlKey||s.metaKey),l=H;if(o&&!o.cancel){if(o.col>-1&&this._szRowCol instanceof Qn){var u=o.col,c=Ss(t).x,h=Math.round(Math.max(n._SZ_MIN,this._szStart+(c-this._htDown.point.x)*(this._g.rightToLeft?-1:1))),d=this._szRowCol;if(this._htDown.cellType===l.TopLeft&&r.columns.frozen>0){var f=r.columns.slice(0,r.columns.frozen).reduce(function(P,x){return P+x.renderSize},0),p=r._szClient.width-5;return f-d.renderSize+h>=p&&(h=p-f+d.renderSize),d.width=h,r.onResizedColumn(o),void t.preventDefault()}if(r.columns.isFrozen(u)&&(this._htDown.cellType==l.ColumnHeader||this._htDown.cellType===l.Cell)){var g=r.columns.slice(0,r.columns.frozen).reduce(function(P,x){return P+(x.isVisible?x.renderWidth:0)},0),m=(p=r._szClient.width-5)-(g-d.renderWidth);h>m&&(h=m)}o.panel.columns[u].width=Math.round(h),r.onResizedColumn(o),e.forEach(function(P){if(a&&i._htDown.cellType==l.ColumnHeader){for(var x=r.columns[u].size,E=P.leftCol;E<=P.rightCol;E++)r.columns[E].allowResizing&&E!=u&&(o=new Ft(r.cells,new ne(-1,E)),r.onResizingColumn(o))&&(r.columns.isFrozen(E)&&r._szClient.width<=r.columns[u].size*r.columns.frozen&&(x=r._szClient.width/r.columns.frozen-5),r.columns[E].size=x,r.onResizedColumn(o));r.columns.isFrozen(u)&&(r.columns[u].size=x)}}),t.preventDefault()}if(o.row>-1&&this._szRowCol instanceof yr){var _=o.row,v=Ss(t).y,y=(h=Math.round(Math.max(n._SZ_MIN,this._szStart+(v-this._htDown.point.y))),this._szRowCol);if(this._htDown.cellType===l.TopLeft&&r.rows.frozen>0){var w=r.rows.slice(0,r.rows.frozen).reduce(function(P,x){return P+x.renderSize},0),C=r._szClient.height-5;return w-y.renderSize+h>=C&&(h=C-w+y.renderSize),y.height=h,r.onResizedRow(o),void t.preventDefault()}if(r.rows.isFrozen(_)&&(this._htDown.cellType==l.RowHeader||this._htDown.cellType===l.Cell)){for(var I=0,M=0;M<r.rows.frozen;M++)M!=_&&(I+=null==r.rows[M].height?r.rows[M].renderHeight:r.rows[M].height);var S=r._szClient.height-I-5;h>S&&(h=S)}o.getRow().height=Math.round(h),"setHeights"in r&&r.setHeights(Array.from(r.rows).map(function(P){return P.height})),r.onResizedRow(o),e.forEach(function(P){if(a&&i._htDown.cellType==l.RowHeader){for(var x=r.rows[_].size,E=P.topRow;E<=P.bottomRow;E++)r.rows[E].allowResizing&&E!=_&&(o=new Ft(r.cells,new ne(E,-1)),r.onResizingRow(o))&&(r.rows.isFrozen(E)&&r._szClient.height<=r.rows[_].size*r.rows.frozen&&(x=r._szClient.height/r.rows.frozen-5),r.rows[E].size=x,r.onResizedRow(o));r.rows.isFrozen(_)&&(r.rows[_].size=x)}}),r.rows[_].resizedManually=!0,t.preventDefault()}}},n.prototype._handleSelection=function(t,e){var i=this._g,r=i._selHdl.selection,o=new ne(t.row,t.col),s=H,a=at,l=null,u=t.col>=this._anchorCol;if(o.isValid)if(null==this._lbSelState){switch(t.cellType!=s.ColumnHeader&&i._clearAnchorCell(),t.cellType){case s.RowHeader:o.col=0,o.col2=i.columns.length-1;break;case s.ColumnHeader:switch(i.selectionMode){case a.Row:case a.Cell:o.row=o.row2=r.row,e=!1;break;default:o.row=0,o.row2=i.rows.length-1,null!=(l=i._getColumnGroup(t.row,t.col))&&(i.anchorCursor?(l._rng.col<=this._anchorCol&&this._anchorCol<=l._rng.col2&&(this._anchorCol=l._rng.col2),i._setAnchorCell(0,this._anchorCol)):l._rng.col<this._anchorCol&&this._anchorCol<=l._rng.col2&&(this._anchorCol=l._rng.col),u?(o.col=l._rng.col2,o.col2=l._rng.col):(o.col=l._rng.col,o.col2=l._rng.col2,r.col2<o.col2&&(r.col2=o.col2)))}}if(e&&(t.cellType==s.ColumnHeader?(i.anchorCursor?null==i._getAnchorCell()&&i.selectionMode!=at.Row&&i.selectionMode!=at.Cell&&i._setAnchorCell(r.row,r.col):i._clearAnchorCell(),o.row2=r.row2,o.col2=!u&&r.col>r.col2?r.col:r.col2,null!=l&&u&&o.col2>l._rng.col&&(o.col2=l._rng.col)):i.anchorCursor?(o.row=r.row,o.col=r.col):(o.row2=r.row2,o.col2=r.col2),!o.isValid)){var c=this._htDown;c&&(o=new ne(c.row,c.col))}if(i.selectionMode==at.MultiRange){var h=i._mouseHdl._eMouse,d=h&&(h.ctrlKey||h.metaKey),f=i._selHdl,p=f.selection,g=f.extendedSelection,m=t.panel!=i.cells;if(be(h.target,".wj-elem-collapse")&&(d=!1),d){if(!e&&f._deselectRange(o))f.selection.isValid&&(o=null);else if(p.isValid&&(m||!p.intersects(o))){var _=this._g,v=_._selHdl,y=v.extendedSelection;if(_._getProductInfo().indexOf("MultiRow")>-1){var w=!1,b=[];for(p=v.selection.clone(),E=0;E<y.length&&!w;E++)y[E].equals(p)&&(w=!0),p.contains(y[E])&&b.push(E);if(b.length>0){for(var C=b.length-1;C>=0;C--)y.splice(b[C],1);b=[]}w||y.push(p)}else{var I=v.selection;(m?this._splitRange(I):[I.clone()]).forEach(function(j){for(var ee=!1,L=0;L<y.length&&!ee;L++)y[L].equals(j)&&(ee=!0);ee||y.push(j)})}}}else g.clear()}if(o)switch(i.select(o,!1),t.cellType){case s.RowHeader:i.scrollIntoView(t.row,-1);break;case s.ColumnHeader:i.scrollIntoView(-1,t.col);break;default:i.scrollIntoView(t.row,t.col)}else{var M=new Ft(i.cells,new ne(t.row,t.col));i.onSelectionChanging(M),i.onSelectionChanged(M),i.invalidate()}}else{var S=this._htDown.row,R=t.row,P=this._lbSel;S>R&&(R=S,S=t.row);var x=this._lbSelStateRows||{};if(this._lbSel)for(var E=P.row;E<=P.row2;E++)(E<S||E>R)&&(i.rows[E].isSelected=x[E]);for(E=S;E<=R;E++)x.hasOwnProperty(E)||(x[E]=i.rows[E].isSelected),i.rows[E].isSelected=!this._lbSelState;this._lbSel=new ne(S,0,R,0),i.scrollIntoView(t.row,t.col)}},n.prototype._splitRange=function(t){var e=this._g,i=e.columns.length,r=e.rows.length,o=[];if(t.columnSpan==i)for(var s=t.topRow;s<=t.bottomRow;s++)o.push(new ne(s,0,s,i-1));else if(t.rowSpan==r)for(var a=t.leftCol;a<=t.rightCol;a++)o.push(new ne(0,a,r-1,a));else o.push(t.clone());return o},n.prototype.isDetailRow=function(t){var e=this._g.rows[t];return!!e&&"DetailRow"===e.constructor.name},n.prototype.moveDetailRow=function(t,e){var i=this._g,r=i.rows[t],o=i.rows[t+1];t>e?(i.rows.splice(t,2),i.rows.splice(e,0,r,o)):t<e&&(i.rows.splice(t,2),i.rows.splice(e-1,0,r,o))},n.prototype._resizeColumns=function(t){var e=this._g,i=e.columns;if(Array.from(t).reduce(function(a,l){return a+i[l].renderSize},0)+5>e._szClient.width){var r=Array.from(t).sort(function(a,l){return a-l}),s=Math.round((e._szClient.width-5*r.length)/r.length);r.forEach(function(a){i[a].width=s})}e.invalidate()},n._SZ_MIN=0,n._SZ_MAX_COLGRP_EDGE=50,n}();Ms("wijmo.grid",Uc);var K8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function by(){return uf("wijmo.input")}function Ff(){return uf("wijmo.grid.detail")}var cP=Uc&&rn;cP||(window.wijmo.grid={},window.wijmo.grid.CellFactory=function(){});var Wt,hP=function(n){function t(e){var i=n.call(this)||this;if(i._lastApplyTimeStamp=0,i._noApplyLag=!1,i._startingEditing=!1,i._cellStampCounter=0,i._composing=!1,i._isCheckingHeight=!1,i._backupHeight=-1,i._cacheRow=null,i.grid=e,!t._templateTypes)for(var r in t._templateTypes=[],Wt)isNaN(r)&&t._templateTypes.push(r);var o=i;return i._baseCf=e.cellFactory,e.cellFactory=i,i._evtInput=document.createEvent("HTMLEvents"),i._evtInput.initEvent("input",!0,!1),i._evtBlur=document.createEvent("HTMLEvents"),i._evtBlur.initEvent("blur",!1,!1),e.prepareCellForEdit.addHandler(function(s,a){o._noApplyLag=!0}),e.cellEditEnded.addHandler(function(s,a){var l=a.range,u=l.col;(u<0||u<e.columns.length&&!e._getBindingColumn(e.cells,l.row,e.columns[u])[t.getTemplContextProp(Wt.CellEdit)])&&(o._editChar=null),setTimeout(function(){o._noApplyLag=!1},300)}),e.beginningEdit.addHandler(function(s,a){o._startingEditing=!0}),e.hostElement.addEventListener("keydown",function(s){o._startingEditing=!1},!0),e.hostElement.addEventListener("keypress",function(s){var a=s.charCode>32?String.fromCharCode(s.charCode):null;a&&be(s.target,".wj-flexgrid")===e.hostElement&&(!e.activeEditor||o._startingEditing?(o._editChar=a,setTimeout(function(){e.activeEditor||(o._editChar=null)},0)):o._editChar&&(o._editChar+=a))},!0),e.hostElement.addEventListener("compositionstart",function(s){o._composing=!0},!0),e.hostElement.addEventListener("compositionend",function(s){o._composing=!1},!0),i}return K8(t,n),t.prototype.updateCell=function(e,i,r,o,s){var a=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var l=o[t._cellStampProp]=this._cellStampCounter;o.style.overflow&&(o.style.overflow="");var u=i,c=r;s&&!s.isSingleCell&&(i=s.row,r=s.col);var h,d=this,f=e.grid,p=f.editRange,g=e.rows[i],m=g.dataItem,_=!1,v=!1,y=!1,w=!1;switch(e.cellType){case H.Cell:if(p&&p.row===i&&p.col===r)h=Wt.CellEdit,v=y=!0;else if(g instanceof tn){var b=!((w=m instanceof Nr)||g.hasChildren);r==e.columns.firstVisibleIndex?h=b?Wt.Cell:Wt.GroupHeader:(h=b?Wt.Cell:Wt.Group,v=!0)}else g instanceof nn?h=Wt.NewCellTemplate:Ff()&&Ff().DetailRow&&g instanceof Ff().DetailRow||(h=Wt.Cell);break;case H.ColumnHeader:h=Wt.ColumnHeader;break;case H.RowHeader:h=f.collectionView&&f.collectionView.currentEditItem===m?Wt.RowHeaderEdit:Wt.RowHeader,_=!0;break;case H.TopLeft:h=Wt.TopLeft,_=!0;break;case H.ColumnFooter:h=Wt.ColumnFooter,v=!0;break;case H.BottomLeft:h=Wt.BottomLeft,_=!0}var C=!!w&&g.isSummary,I=w&&(f.groupSummaryPosition===Lr.Bottom||f.groupSummaryPosition===Lr.Auto&&!g.isCollapsed),M=!1;if(null!=h){var S=null;if(w&&h==Wt.GroupHeader?S=f.getColumn(m.groupDescription.propertyName):r>=0&&r<e.columns.length&&(S=e.cellType===H.ColumnHeader&&f._hasColumnGroups()?f._getColumnGroup(i,r):f._getBindingColumn(e,i,e.columns[r])),S){var R=t.getTemplContextProp,P=R(h),x=(_?f:S)[P];if(x||(h===Wt.RowHeaderEdit?(P=R(h=Wt.RowHeader),x=f[P]):(h===Wt.Group||h===Wt.GroupHeader)&&!w&&(P=R(h=Wt.Cell),x=S[P])),x){var E,j;v&&(E=e.getCellData(i,r,!1),j=e.getCellData(i,r,!0)),M=!0;var ee=o.getAttribute(wr._WJS_MEASURE),L=ee&&"true"===ee.toLowerCase();y&&(this.clearCell(o),this._baseCf.updateCell(e,u,c,o,s,!0));var B,Q=y&&f.imeEnabled,oe=o[P],te={cell:o,column:S,row:g,panel:e,rng:s,isEdit:y,isImeInput:Q,isTrueImeInput:Q&&this._composing,templateContext:x,templateCache:oe,templateContextProperty:P,cellStamp:l,cellValue:E,cellValueFormatted:j},fe=this.shouldInstantiate(te),we=!0;if(w&&!C&&r!=e.columns.firstVisibleIndex&&I&&(we=!1),fe){if(y){var Ue=o.firstElementChild;Ue&&(Q||o.focus(),Ue.style.display="none")}else this.clearCell(o);this._doDisposeCell(o),we?(this.renderTemplate(te,!0),te.templateCache=oe=o[P]):this._doDisposeCell(o),B=te.cellBindingsData}else we?this.renderTemplate(te,!1):this._doDisposeCell(o),B=te.cellBindingsData;if(x.cellOverflow&&(o.style.overflow=x.cellOverflow),L?this.applyImmediately(te):x.autoSizeRows&&!Q?this.checkHeight(te):y&&setTimeout(function(){Q?a._initImeEditInput(te.cell,x):a._initEditInput(te.cell,x,null)},0),y){d._cellEditorVars=B.localVars;var pe=function(De,rt){if(f.cellEditEnding.removeHandler(pe),!rt.stayInEditMode){var _t=nt();_t&&_t.dispatchEvent(d._evtBlur),je(o,nt())&&o.focus()}if(d._triggerEditorEvents(o),!rt.cancel&&!rt.stayInEditMode)for(var Mt=B.localVars,Fn=0,_e=Object.getOwnPropertyNames(B.bindings);Fn<_e.length;Fn++){var Sn=_e[Fn];B.bindings[Sn].setValue(Mt,B.localVars.values[Sn])}var Re=o.querySelectorAll(".wj-dropdown");[].forEach.call(Re,function(Nt){var Vr=z.getControl(Nt);Vr&&by()&&Vr instanceof by().DropDown&&(Vr.isDroppedDown=!1)})},de=function(De,rt){f.cellEditEnded.removeHandler(de),d._cellEditorVars=null};f.cellEditEnding.addHandler(pe),f.cellEditEnded.addHandler(de)}else this._baseCf.updateCell(e,u,c,o,s,!1)}}}M||(this._doDisposeCell(o),this._baseCf.updateCell(e,u,c,o,s))},t.prototype.getEditorValue=function(e){if(this._cellEditorVars){var i=e.editRange;return i&&i.isValid&&this._triggerEditorEvents(e.cells.getCellElement(i.row,i.col)),this._cellEditorVars.value}return n.prototype.getEditorValue.call(this,e)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype.disposeTemplate=function(e,i,r){i&&(i.rootElement=null,i.column=null,e[i.templateContextProperty]=null,i.templateContextProperty=null)},t.prototype.setBindingsData=function(e,i,r,o,s,a){e.row=i,e.col=r,e.item=o;var l={},u=e.cell||{},c={},h={localVars:u,bindings:c};if(u.row=i,u.col=r,u.item=o,u.value=s,u.valueFormatted=e.cellValueFormatted,u.values=l,a)for(var d=0,f=Object.getOwnPropertyNames(a);d<f.length;d++){var p=f[d],g=new At(a[p]);c[p]=g,l[p]=g.getValue(u)}return e.cell!==u&&(e.cell=u),h},t.prototype.checkHeight=function(e){var i=this;this._isCheckingHeight||setTimeout(function(){var r=e.cell;if(e.cellStamp===r[t._cellStampProp]){var o=r.scrollHeight,s=e.panel.rows,a=e.row.index,l=e.rng,u=l&&l.rowSpan||1,c=e.isEdit;if(null!=s.maxSize&&(o=Math.min(o,s.maxSize)),a<s.length&&s[a].renderHeight*u<o-1){var h=o/u;if(c){var d=i._isFullEdit(),f=i.grid;i._backupHeight=e.row.height,e.row.height=h,i._cacheRow=e.row,i._isCheckingHeight=!0,f.refresh(),f.startEditing(d),i._isCheckingHeight=!1}}c&&(e.isImeInput?i._initImeEditInput(e.cell,e.templateContext):i._initEditInput(e.cell,e.templateContext,null))}},0)},t.prototype._restoreRowHeight=function(){!this._isCheckingHeight&&this._cacheRow&&(this._cacheRow.height=this._backupHeight,this._backupHeight=-1,this._cacheRow=null)},t.prototype.doDisposeCell=function(e){for(var i=t._templateTypes,r=0;r<i.length;r++){var o=t.getTemplContextProp(Wt[i[r]]),s=e[o];s&&(this.disposeTemplate(e,s,(s.column||this.grid)[o]),i[r]==Wt[Wt.CellEdit]&&this._restoreRowHeight())}},t.getTemplContextProp=function(e){return"$__cellTempl"+Wt[e]},t.prototype._doDisposeCell=function(e){this.doDisposeCell(e)},t.prototype._initEditInput=function(e,i,r){var o=this;this.setEditorFocusFlag(!0);var s=!1!==this.getEditorFocusFlag();this.setEditorFocusFlag(null),this._setFullEdit(i),s&&setTimeout(function(){var a=o._findInitialInput(e);if(a){var l=function(){a.removeEventListener("focus",l),setTimeout(function(){setTimeout(function(){var u=r??o._editChar;u&&(a.value=u,o._editChar=null,t._setSelectionRange(a,u.length,u.length),a.dispatchEvent(o._evtInput))},0)},t._FOCUS_INTERVAL)};a.addEventListener("focus",l),a.focus()}},100)},t.prototype._initImeEditInput=function(e,i){var r=this,o=nt();if(o&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement)&&gt(o,"wj-grid-ime")){var s=this._findInitialInput(e),a=s&&s.style.color,l=this._composing,u=function(){o.removeEventListener("compositionend",u),ie(o,jf._cssHidden),r.setEditorFocusFlag(!0),s&&(s.style.color=a),r._initEditInput(e,i,l?o.value:null)};if(l){if(o.addEventListener("compositionend",u),s){var c=s.getBoundingClientRect(),h=o.getBoundingClientRect(),d=window.getComputedStyle(o),f=parseFloat(d.left),p=parseFloat(d.top);ie(o,{left:f+c.left-h.left+"px",top:p+c.top-h.top+"px",width:c.width+"px",height:c.height+"px"}),s.style.color="transparent"}}else setTimeout(function(){return u()},t._FOCUS_INTERVAL)}},t.prototype._findInitialInput=function(e){var i=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea")||e&&e.querySelectorAll("input,textarea");if(i)for(var r=0;r<i.length;r++){var o=i[r],s=window.getComputedStyle(o);if("none"!==s.display&&"visible"===s.visibility)return o}return null},t._setSelectionRange=function(e,i,r){if(void 0===r&&(r=i),je(document.body,e)&&!e.disabled&&"none"!=e.style.display)try{e.setSelectionRange(F(i),F(r),pt()?null:"backward"),e.focus()}catch{}},t.prototype._triggerEditorEvents=function(e){if(e)for(var i=e.querySelectorAll(".wj-control"),r=0;r<i.length;r++){var s=z.getControl(i[r]);s&&this.flushPendingEvents(s)}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var i=this.grid;e.forceFullEdit&&i.activeEditor&&(i._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=z._FOCUS_INTERVAL+20,t}(rn);cP||(window.wijmo.grid=null),function(n){n[n.Cell=0]="Cell",n[n.CellEdit=1]="CellEdit",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.RowHeaderEdit=4]="RowHeaderEdit",n[n.TopLeft=5]="TopLeft",n[n.GroupHeader=6]="GroupHeader",n[n.Group=7]="Group",n[n.NewCellTemplate=8]="NewCellTemplate",n[n.ColumnFooter=9]="ColumnFooter",n[n.BottomLeft=10]="BottomLeft"}(Wt||(Wt={})),Ms("wijmo.interop.grid",Kf);var Cy=["*"],Lf=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Wc=function(n,t,e,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},on=function(n,t){return function(e,i){t(e,i,n)}},Xl=Wt,dP={selector:"wj-flex-grid",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","tabOrder","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","allowPinning","autoScroll","autoRowHeights","autoSizeMode","autoGenerateColumns","autoSearch","caseSensitiveSearch","quickAutoSize","bigCheckboxes","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","showPlaceholders","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","itemValidator","validateEdits","treeIndent","itemsSource","autoClipboard","expandSelectionOnCopyPaste","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","preserveWhiteSpace","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit","copyHeaders","columnGroups","commitEmptyEdits","headersFocusability","ariaLabel","skipMerged","pasteEmptyCells","groupSummaryPosition"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","pinningColumnNg: pinningColumn","pinnedColumnNg: pinnedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangingNg: groupCollapsedChanging","groupCollapsedChangedNg: groupCollapsedChanged","columnGroupCollapsedChangingNg: columnGroupCollapsedChanging","columnGroupCollapsedChangedNg: columnGroupCollapsedChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]},fP=function(n){function t(i,r,o,s){var a=n.call(this,Y.getHostElement(i,r))||this;return a.cdRef=s,a.isInitialized=!1,a._wjBehaviour=Y.attach(a,i,r,o),new xy(a,s),a.deferUpdate(function(){if(a.rows.defaultSize<10){var l=a.hostElement,u=getComputedStyle(l),c=getComputedStyle(document.body),h=2*parseInt(u.fontSize&&je(document.body,l)?u.fontSize:c.fontSize);a.rows.defaultSize=h,a.columns.defaultSize=4*h,a.columnHeaders.rows.defaultSize=h,a.rowHeaders.columns.defaultSize=Math.round(1.25*h)}}),a.created(),a}var e;return Lf(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.prototype.startEditing=function(i,r,o,s,a){void 0===i&&(i=!0),this._edtFocus=null;var l=n.prototype.startEditing.call(this,i,r,o,s,a);return l&&(this._edtFocus=s||null==s),l},t.prototype.onCellEditEnding=function(i){return this._edtFocus=null,n.prototype.onCellEditEnding.call(this,i)},t.meta={outputs:dP.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12),D(Mr))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-grid"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",newRowAtTop:"newRowAtTop",allowAddNew:"allowAddNew",allowDelete:"allowDelete",allowDragging:"allowDragging",allowMerging:"allowMerging",allowResizing:"allowResizing",allowSorting:"allowSorting",allowPinning:"allowPinning",autoScroll:"autoScroll",autoRowHeights:"autoRowHeights",autoSizeMode:"autoSizeMode",autoGenerateColumns:"autoGenerateColumns",autoSearch:"autoSearch",caseSensitiveSearch:"caseSensitiveSearch",quickAutoSize:"quickAutoSize",bigCheckboxes:"bigCheckboxes",childItemsPath:"childItemsPath",groupHeaderFormat:"groupHeaderFormat",headersVisibility:"headersVisibility",showSelectedHeaders:"showSelectedHeaders",showMarquee:"showMarquee",showPlaceholders:"showPlaceholders",itemFormatter:"itemFormatter",isReadOnly:"isReadOnly",imeEnabled:"imeEnabled",mergeManager:"mergeManager",selectionMode:"selectionMode",showGroups:"showGroups",showSort:"showSort",showDropDown:"showDropDown",showAlternatingRows:"showAlternatingRows",showErrors:"showErrors",alternatingRowStep:"alternatingRowStep",itemValidator:"itemValidator",validateEdits:"validateEdits",treeIndent:"treeIndent",itemsSource:"itemsSource",autoClipboard:"autoClipboard",expandSelectionOnCopyPaste:"expandSelectionOnCopyPaste",frozenRows:"frozenRows",frozenColumns:"frozenColumns",cloneFrozenCells:"cloneFrozenCells",deferResizing:"deferResizing",sortRowIndex:"sortRowIndex",editColumnIndex:"editColumnIndex",stickyHeaders:"stickyHeaders",preserveSelectedState:"preserveSelectedState",preserveOutlineState:"preserveOutlineState",preserveWhiteSpace:"preserveWhiteSpace",keyActionTab:"keyActionTab",keyActionEnter:"keyActionEnter",rowHeaderPath:"rowHeaderPath",virtualizationThreshold:"virtualizationThreshold",anchorCursor:"anchorCursor",lazyRender:"lazyRender",refreshOnEdit:"refreshOnEdit",copyHeaders:"copyHeaders",columnGroups:"columnGroups",commitEmptyEdits:"commitEmptyEdits",headersFocusability:"headersFocusability",ariaLabel:"ariaLabel",skipMerged:"skipMerged",pasteEmptyCells:"pasteEmptyCells",groupSummaryPosition:"groupSummaryPosition"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",beginningEditNg:"beginningEdit",cellEditEndedNg:"cellEditEnded",cellEditEndingNg:"cellEditEnding",prepareCellForEditNg:"prepareCellForEdit",formatItemNg:"formatItem",resizingColumnNg:"resizingColumn",resizedColumnNg:"resizedColumn",autoSizingColumnNg:"autoSizingColumn",autoSizedColumnNg:"autoSizedColumn",draggingColumnNg:"draggingColumn",draggingColumnOverNg:"draggingColumnOver",draggedColumnNg:"draggedColumn",sortingColumnNg:"sortingColumn",sortedColumnNg:"sortedColumn",pinningColumnNg:"pinningColumn",pinnedColumnNg:"pinnedColumn",resizingRowNg:"resizingRow",resizedRowNg:"resizedRow",autoSizingRowNg:"autoSizingRow",autoSizedRowNg:"autoSizedRow",draggingRowNg:"draggingRow",draggingRowOverNg:"draggingRowOver",draggedRowNg:"draggedRow",deletingRowNg:"deletingRow",deletedRowNg:"deletedRow",loadingRowsNg:"loadingRows",loadedRowsNg:"loadedRows",rowEditStartingNg:"rowEditStarting",rowEditStartedNg:"rowEditStarted",rowEditEndingNg:"rowEditEnding",rowEditEndedNg:"rowEditEnded",rowAddedNg:"rowAdded",groupCollapsedChangingNg:"groupCollapsedChanging",groupCollapsedChangedNg:"groupCollapsedChanged",columnGroupCollapsedChangingNg:"columnGroupCollapsedChanging",columnGroupCollapsedChangedNg:"columnGroupCollapsedChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",selectionChangingNg:"selectionChanging",selectionChangedNg:"selectionChanged",scrollPositionChangedNg:"scrollPositionChanged",updatingViewNg:"updatingView",updatedViewNg:"updatedView",updatingLayoutNg:"updatingLayout",updatedLayoutNg:"updatedLayout",pastingNg:"pasting",pastedNg:"pasted",pastingCellNg:"pastingCell",pastedCellNg:"pastedCell",copyingNg:"copying",copiedNg:"copied"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(dP.providers))],ngContentSelectors:Cy,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Wc([,on(0,O(W)),on(1,O(q)),on(2,O("WjComponent")),on(2,Le()),on(2,Ee()),on(3,O(Mr))],t)}(wr),pP={selector:"wj-flex-grid-column",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","cssClassAll","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]},gP=function(n){function t(i,r,o,s){var a=n.call(this)||this;a.cdRef=s,a.isInitialized=!1,a.wjProperty="columns";var l=(a._wjBehaviour=Y.attach(a,i,r,o)).parentBehavior.directive;return l.autoGenerateColumns&&(l.autoGenerateColumns=!1,l.columns.clear()),a.created(),a}var e;return Lf(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:pP.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12),D(Mr))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-grid-column"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",cssClassAll:"cssClassAll",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(pP.providers))],ngContentSelectors:Cy,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Wc([,on(0,O(W)),on(1,O(q)),on(2,O("WjComponent")),on(2,Le()),on(2,Ee()),on(3,O(Mr))],t)}(Qn),mP={selector:"wj-flex-grid-column-group",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","cssClassAll","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor","collapseTo","isCollapsed","height"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]},xy=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="columnGroups",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Lf(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:mP.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-flex-grid-column-group"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",cssClassAll:"cssClassAll",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor",collapseTo:"collapseTo",isCollapsed:"isCollapsed",height:"height"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(mP.providers))],ngContentSelectors:Cy,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Wc([,on(0,O(W)),on(1,O(q)),on(2,O("WjComponent")),on(2,Le()),on(2,Ee())],t)}(da),function(){function n(e,i,r,o,s,a){if(this.viewContainerRef=e,this.templateRef=i,this.elRef=r,this.cdRef=a,this.autoSizeRows=!0,this.forceFullEdit=!0,o instanceof wr)this.grid=o;else if(o instanceof Qn){this.column=o;var l=void 0,u=Y.getBehavior(o);do{l=(u=u.parentBehavior)&&u.directive}while(l&&!(l instanceof wr));this.grid=l}}var t;t=n,Object.defineProperty(n.prototype,"cellType",{get:function(){return this.cellTypeStr},set:function(e){this.cellTypeStr=Ie(e,Xl)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()},n.prototype.ngOnDestroy=function(){Xl[this.cellType]&&(this.viewContainerRef.clear(),this.ownerControl[xy.getTemplContextProp(this.cellTypeStr)]=null,this.grid.invalidate())},n.prototype._instantiateTemplate=function(e,i){return Y.instantiateTemplate(e,this.viewContainerRef,this.templateRef,!1,i)},n.prototype._attachToControl=function(){if(Xl[this.cellType]){var e=this.cellTypeStr,i=this.ownerControl;i[xy.getTemplContextProp(e)]=this,i instanceof Qn&&(e===Xl.Cell||e===Xl.ColumnHeader||e===Xl.ColumnFooter)&&i._setFlag(Qe.HasTemplate,!0),this.grid.invalidate()}},Wc([Wm()],n.prototype,"cellType",null),n.\u0275fac=function(i){return new(i||n)(D(vn),D(Ri,8),D(W),D("WjComponent",12),D(q),D(Mr))},n.\u0275dir=Te({type:n,selectors:[["","wjFlexGridCellTemplate",""]],inputs:{wjFlexGridCellTemplate:"wjFlexGridCellTemplate",cellOverflow:"cellOverflow",valuePaths:"valuePaths",autoSizeRows:"autoSizeRows",forceFullEdit:"forceFullEdit",cellType:"cellType"},exportAs:["wjFlexGridCellTemplate"],features:[ce([{provide:"WjComponent",useExisting:se(function(){return t})}])]}),n=t=Wc([,on(0,O(vn)),on(1,O(Ri)),on(1,Ee()),on(2,O(W)),on(3,O("WjComponent")),on(3,Le()),on(3,Ee()),on(4,O(q)),on(5,O(Mr))],n)}(),function(n){function t(e,i){var r=n.call(this,e)||this;return r._needsCdCheck=!1,r._gridCdRef=i,e.updatedView.addHandler(function(){r._needsCdCheck&&(r._needsCdCheck=!1,r._gridCdRef.markForCheck())},r),r}return Lf(t,n),t.prototype.shouldInstantiate=function(e){var i=e.templateCache;return null==i||i.column!==e.column||!i.viewRef||i.templateContextProperty!==e.templateContextProperty||e.cell.firstChild!=i.rootElement},t.prototype.renderTemplate=function(e,i){var r=e.row,o=i?{}:e.templateCache.viewRef.context,s=e.templateContext;if(e.cellBindingsData=this.setBindingsData(o,r,e.column,r.dataItem,e.cellValue,s.valuePaths),e.cellBindingsData.localVars.valueFormatted=e.cellValueFormatted,i){var a=e.cell,l=s._instantiateTemplate(a,o),u=e.templateCache={column:e.column,viewRef:l.viewRef,rootElement:l.rootElement,templateContextProperty:e.templateContextProperty};a[e.templateContextProperty]=u}},t.prototype.setBindingsData=function(e,i,r,o,s,a){return this._needsCdCheck=!0,n.prototype.setBindingsData.call(this,e,i,r,o,s,a)},t.prototype.disposeTemplate=function(e,i,r){if(i&&i.viewRef){if(r){var o=r.viewContainerRef.indexOf(i.viewRef);o>-1&&r.viewContainerRef.remove(o)}i.viewRef=null,n.prototype.disposeTemplate.call(this,e,i,r)}},t.prototype.clearCell=function(e){e.textContent=""},t.prototype.applyImmediately=function(e){e.templateContext.cdRef.detectChanges()},t.prototype.flushPendingEvents=function(e){if(e){var i=Y.getBehavior(e);i&&i.flushPendingEvents()}},t.prototype.getEditorFocusFlag=function(){return this.grid._edtFocus},t.prototype.setEditorFocusFlag=function(e){this.grid._edtFocus=e},t.prototype.checkHeight=function(e){var i=this;Y.getZone(this.grid).runOutsideAngular(function(){n.prototype.checkHeight.call(i,e)})},t}(hP)),J8=function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Hi({type:n}),n.\u0275inj=Di({imports:[ea]}),n}();let e4=(()=>{class n{constructor(e){this.dataService=e,this.usersTooltip="Information on the last 200 users from selected country.",this.selectedCountryData=new gr(e.getCountryInfo("United States"),{pageSize:25})}ngOnInit(){}ngOnChanges(e){this.selectedCountryData=new gr(this.dataService.getSectorWiseInfo(e.selectedCountryName.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ac))};static#t=this.\u0275cmp=Oe({type:n,selectors:[["app-country-table"]],inputs:{selectedCountryName:"selectedCountryName"},features:[oi],decls:14,vars:9,consts:[[1,"users-container"],[1,"users-header"],[1,"bi","bi-info-circle",3,"wjTooltip","wjTooltipPosition"],[3,"itemsSource","isReadOnly","selectionMode","headersVisibility"],["binding","country","header","Country",3,"width"],["binding","countryCode","header","Country Code"],["binding","sectors","header","Sector",3,"width"],["binding","predictedValue","header","Predicted_2030_values"],["binding","unit","header","Units"]],template:function(i,r){1&i&&(ue(0,"div",0)(1,"div",1),bt(2),lt(3,"br"),le(),ue(4,"div",1),bt(5,"Sector-wise Predicted Emission Values "),lt(6,"i",2),le(),ue(7,"wj-flex-grid",3),lt(8,"wj-flex-grid-column",4)(9,"wj-flex-grid-column",5)(10,"wj-flex-grid-column",6)(11,"wj-flex-grid-column",7)(12,"wj-flex-grid-column",8),le(),lt(13,"br"),le()),2&i&&(dt(2),Ir(" Country : ",r.selectedCountryName," "),dt(4),kt("wjTooltip",r.usersTooltip)("wjTooltipPosition",6),dt(1),kt("itemsSource",r.selectedCountryData)("isReadOnly",!0)("selectionMode","Row")("headersVisibility","Column"),dt(1),kt("width","*"),dt(2),kt("width","100px"))},dependencies:[Pc,fP,gP],styles:[".users-container[_ngcontent-%COMP%]{padding:1rem}.users-header[_ngcontent-%COMP%]{font-size:1.05em;color:gray}.wj-flexgrid[_ngcontent-%COMP%]{max-height:440px;margin-top:10px}@media (max-width: 799px){.wj-collectionview-navigator[_ngcontent-%COMP%]{width:300px}}"]})}return n})();function t4(n,t){if(1&n&&(ue(0,"div",7),lt(1,"app-top-emission-info",8),le()),2&n){const e=id();dt(1),kt("selectedCountryName",e.selectedCountryName)}}function n4(n,t){if(1&n&&(ue(0,"div",9),lt(1,"app-country-table",8),le()),2&n){const e=id();dt(1),kt("selectedCountryName",e.selectedCountryName)}}function i4(n,t){if(1&n&&(ue(0,"div",10),lt(1,"app-overall-info",8),le()),2&n){const e=id();dt(1),kt("selectedCountryName",e.selectedCountryName)}}let r4=(()=>{class n{constructor(){this.title="Carbon-dashboard",this.selectedCountryName=""}countryName(e){this.selectedCountryName=e}selectedCountry(e){console.log("parent",e),this.selectedCountryName=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Oe({type:n,selectors:[["app-root"]],decls:8,vars:3,consts:[[1,"livemap-grid"],[1,"livemap","load-info"],[1,"livemap","map"],[3,"countryName","hitCountry"],["class","livemap top-platforms",4,"ngIf"],["class","livemap user-info",4,"ngIf"],["class","livemap sessions",4,"ngIf"],[1,"livemap","top-platforms"],[3,"selectedCountryName"],[1,"livemap","user-info"],[1,"livemap","sessions"]],template:function(i,r){1&i&&(ue(0,"main",0)(1,"div",1),lt(2,"app-global-info"),le(),ue(3,"div",2)(4,"app-map-component",3),Pi("countryName",function(s){return r.countryName(s)})("hitCountry",function(s){return r.selectedCountry(s)}),le()(),hr(5,t4,2,1,"div",4),hr(6,n4,2,1,"div",5),hr(7,i4,2,1,"div",6),le()),2&i&&(dt(5),kt("ngIf",""!==r.selectedCountryName),dt(1),kt("ngIf",""!==r.selectedCountryName),dt(1),kt("ngIf",""!==r.selectedCountryName))},dependencies:[y_,d5,E8,N8,W8,e4],styles:['.livemap-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-auto-columns:minmax(0,1fr);grid-template-areas:"one" "two" "three" "four" "five" "six" "seven" "eight";padding-block:2rem;width:95%;margin-inline:auto}.map[_ngcontent-%COMP%], .sessions[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%], .issue-info[_ngcontent-%COMP%]{height:550px;box-shadow:2px 2px 2px 2px #b3b3b3;width:100%}.top-platforms[_ngcontent-%COMP%], .browsers[_ngcontent-%COMP%]{box-shadow:2px 2px 2px 2px #b3b3b3;width:100%}.livemap[_ngcontent-%COMP%]:nth-child(1){grid-area:one}.livemap[_ngcontent-%COMP%]:nth-child(2){grid-area:two}.livemap[_ngcontent-%COMP%]:nth-child(3){grid-area:three}.livemap[_ngcontent-%COMP%]:nth-child(4){grid-area:four}.livemap[_ngcontent-%COMP%]:nth-child(5){grid-area:five}.livemap[_ngcontent-%COMP%]:nth-child(6){grid-area:six}.livemap[_ngcontent-%COMP%]:nth-child(7){grid-area:seven}.livemap[_ngcontent-%COMP%]:nth-child(8){grid-area:eight}.text[_ngcontent-%COMP%]{font-size:26px}@media (min-width: 800px){.livemap-grid[_ngcontent-%COMP%]{grid-template-areas:"one one one one" "two two two two" "two two two two" "three three three three" "three three three three" "five five five five" "five five five five" "four four six six" "four four six six" "seven seven seven seven" "eight eight eight eight"}}@media (min-width: 1200px){.livemap-grid[_ngcontent-%COMP%]{grid-template-areas:"one one one one" "two two two two" "two two two two" "three three three three" "three three three three" "four four four five" "four four four five" "seven seven eight eight"}.map[_ngcontent-%COMP%]{height:550px}}']})}return n})();var Fi,Vf=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ao=function(){function n(t){this._min=0,this._max=100,this._thickness=1,this.propertyChanged=new k,xe(t)?this._name=t:vi(this,t)}return Object.defineProperty(n.prototype,"min",{get:function(){return this._min},set:function(t){this._setProp("_min",F(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._max},set:function(t){this._setProp("_max",F(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){this._setProp("_color",U(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._setProp("_thickness",Ne(F(t),0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(t){this._setProp("_name",U(t))},enumerable:!0,configurable:!0}),n.prototype.onPropertyChanged=function(t){this.propertyChanged.raise(this,t)},n.prototype._setProp=function(t,e){var i=this[t];if(e!=i){this[t]=e;var r=new cM(t.substr(1),i,e);this.onPropertyChanged(r)}},n._ctr=0,n}();!function(n){n[n.None=0]="None",n[n.Value=1]="Value",n[n.MinMax=2]="MinMax",n[n.All=3]="All"}(Fi||(Fi={}));var nr,ga,os=function(n){function t(e,i){var r=n.call(this,e,null,!0)||this;r._ranges=new ei,r._rngElements=[],r._format="n0",r._showRanges=!0,r._stackRanges=!1,r._shadow=!0,r._animated=!0,r._readOnly=!0,r._handleWheel=!0,r._step=1,r._showText=Fi.None,r._showTicks=!1,r._showTickText=!1,r._thickness=.8,r._initialized=!1,r.valueChanged=new k,r._getPercent=function(a){return Math.max(0,Math.min(1,this.max>this.min?(a-this.min)/(this.max-this.min):0))},t._ctr++;var o=r.hostElement;$(o,"role","slider",!0);var s=r.getTemplate();return r.applyTemplate("wj-control wj-gauge",s,{_dSvg:"dsvg",_svg:"svg",_filter:"filter",_gFace:"gface",_gRanges:"granges",_gPointer:"gpointer",_gCover:"gcover",_pFace:"pface",_pPointer:"ppointer",_cValue:"cvalue",_tValue:"value",_tMin:"min",_tMax:"max",_pTicks:"pticks",_gTicks:"gticks",_gNeedle:"gneedle"}),ie(r._dSvg,{width:"100%",height:"100%"}),r._filterID="wj-gauge-filter-"+t._ctr.toString(36),r._filter.setAttribute("id",r._filterID),r.face=new ao,r.pointer=new ao,r._ranges.collectionChanged.addHandler(function(){r._ranges.forEach(function(a){ge(a instanceof ao,"ranges array must contain Range objects.")}),r._rangesDirty=!0,r.invalidate()}),r.addEventListener(o,"keydown",r._keydown.bind(r)),r.addEventListener(o,"click",function(a){0==a.button&&(r.focus(),r._applyMouseValue(a))}),r.addEventListener(o,"mousedown",function(a){0==a.button&&(r.focus(),r._dragging=!0,setTimeout(function(){r._applyMouseValue(a)}))}),r.addEventListener(o,"mousemove",function(a){r._dragging&&r.containsFocus()&&r._applyMouseValue(a,!0)}),r.addEventListener(o,"mouseup",function(a){r._dragging=!1}),r.addEventListener(o,"mouseleave",function(a){a.target==o&&(r._dragging=!1)}),"ontouchstart"in window&&(r.addEventListener(o,"touchstart",function(a){r.focus(),!a.defaultPrevented&&r._applyMouseValue(a,!1)&&a.preventDefault()}),r.addEventListener(o,"touchmove",function(a){!a.defaultPrevented&&r._applyMouseValue(a,!0)&&a.preventDefault()})),r.addEventListener(o,"wheel",function(a){if(r._handleWheel&&!r.isReadOnly&&!a.defaultPrevented&&r.containsFocus()&&null!=r.value&&r.hitTest(a)){var l=Ne(-a.deltaY,-1,1);r.value=Ne(r.value+(r.step||1)*l,r.min,r.max),a.preventDefault()}}),r.isReadOnly=!0,r.initialize(i),r.invalidate(),r}return Vf(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this._pointer.max},set:function(e){e!=this.value&&(this._pointer.max=F(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._face.min},set:function(e){e!=this.min&&(this._face.min=F(e),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._face.max},set:function(e){e!=this.max&&(this._face.max=F(e),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},set:function(e){e!=this._origin&&(this._origin=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=N(e),$(this._svg,"cursor",this._readOnly?null:"pointer"),qe(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this._step&&(this._step=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this._format&&(this._format=U(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getText",{get:function(){return this._getText},set:function(e){e!=this._getText&&(this._getText=Ot(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(e){e!=this._thickness&&(this._thickness=Ne(F(e,!1),0,1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"face",{get:function(){return this._face},set:function(e){e!=this._face&&(this._face&&this._face.propertyChanged.removeHandler(this._rangeChanged),this._face=Pe(e,ao),this._face&&this._face.propertyChanged.addHandler(this._rangeChanged,this),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointer",{get:function(){return this._pointer},set:function(e){if(e!=this._pointer){var i=null;this._pointer&&(i=this.value,this._pointer.propertyChanged.removeHandler(this._rangeChanged)),this._pointer=Pe(e,ao),this._pointer&&(i&&(this.value=i),this._pointer.propertyChanged.addHandler(this._rangeChanged,this)),this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showText",{get:function(){return this._showText},set:function(e){(e=Ie(e,Fi))!=this._showText&&(this._showText=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTicks",{get:function(){return this._showTicks},set:function(e){e!=this._showTicks&&(this._showTicks=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTickText",{get:function(){return this._showTickText},set:function(e){e!=this._showTickText&&(this._showTickText=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tickSpacing",{get:function(){return this._tickSpacing},set:function(e){e!=this._tickSpacing&&(this._tickSpacing=F(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbSize",{get:function(){return this._thumbSize},set:function(e){e!=this._thumbSize&&(this._thumbSize=F(e,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRanges",{get:function(){return this._showRanges},set:function(e){e!=this._showRanges&&(this._showRanges=N(e),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stackRanges",{get:function(){return this._stackRanges},set:function(e){e!=this._stackRanges&&(this._stackRanges=N(e),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasShadow",{get:function(){return this._shadow},set:function(e){e!=this._shadow&&(this._shadow=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animated},set:function(e){this._animated=N(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ranges",{get:function(){return this._ranges},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.refresh=function(e){var i=this;if(void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this._rangesDirty){this._rangesDirty=!1;var r=this._gRanges;for(this._rngElements.forEach(function(s){s.rng.propertyChanged.removeHandler(i._rangeChanged)});r.lastChild;)r.removeChild(r.lastChild);this._rngElements=[],this._showRanges&&this._ranges.forEach(function(s){s.propertyChanged.addHandler(i._rangeChanged,i),i._rngElements.push({rng:s,el:i._createElement("path",r)})})}this._showElement(this._tValue,0!=(this.showText&Fi.Value)),this._showElement(this._tMin,0!=(this.showText&Fi.MinMax)),this._showElement(this._tMax,0!=(this.showText&Fi.MinMax)),this._showElement(this._cValue,0!=(this.showText&Fi.Value)||this._thumbSize>0),this._updateText();var o=this._getFilterUrl();$(this._pFace,"filter",o),$(this._pPointer,"filter",o),this._updateRange(this._face),this._updateRange(this._pointer),this._updateTicks(),this._ranges.forEach(function(s){i._updateRange(s)}),this._initialized=!0},t.prototype.hitTest=function(e,i){J(e)&&J(i)?e=new T(e,i):e instanceof T||(e=Ss(e)),e=Pe(e,T);var r=K.fromBoundingRect(this._dSvg.getBoundingClientRect());return e.x-=r.left+pageXOffset,e.y-=r.top+pageYOffset,this._getValueFromPoint(e)},t._getBBox=function(e){try{return e.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},t.prototype._getFilterUrl=function(){return this.hasShadow&&!sv()?"url(#"+this._filterID+")":null},t.prototype._getRangeElement=function(e){if(e==this._face)return this._pFace;if(e==this._pointer)return this._pPointer;for(var i=0;i<this._rngElements.length;i++){var r=this._rngElements[i];if(r.rng==e)return r.el}return null},t.prototype._rangeChanged=function(e,i){var r=this;if(e==this._pointer&&"max"==i.propertyName&&(this.onValueChanged(),this._updateText()),e!=this._face){if(e==this._pointer&&"max"==i.propertyName&&(this._animInterval&&(clearInterval(this._animInterval),this._updateRange(e,i.oldValue)),this.isAnimated&&!this.isUpdating&&this._initialized)){var o=this._getPointerColor(i.oldValue),s=this._getPointerColor(i.newValue),a=o?new wn(o):null,l=s?new wn(s):null,u=Ne(Math.abs(i.newValue-i.oldValue)/(this.max-this.min),0,1);return void(this._animInterval=Ec(function(c){r._animColor=a&&l?wn.interpolate(a,l,c).toString():null,r._updateRange(e,i.oldValue+c*(i.newValue-i.oldValue)),c>=1&&(r._animColor=null,r._animInterval=null,r._updateRange(e),r._updateText())},u*z._ANIM_DEF_DURATION))}this._updateRange(e)}else this.invalidate()},t.prototype._createElement=function(e,i,r){var o=document.createElementNS(t._SVGNS,e);return r&&o.setAttribute("class",r),i.appendChild(o),o},t.prototype._centerText=function(e,i,r){if("none"!=e.getAttribute("display")){var o=Se.format(i,this.format);if(Ge(this.getText)){var s="";e==this._tValue?s="value":e==this._tMin?s="min":e==this._tMax&&(s="max"),s&&(o=this.getText(this,s,i,o))}e.textContent=o;var a=K.fromBoundingRect(t._getBBox(e)),u=r.y+a.height/4;e.setAttribute("x",this._fix(r.x-a.width/2)),e.setAttribute("y",this._fix(u))}},t.prototype._copy=function(e,i){var r=this;return"ranges"==e?(Dn(i).forEach(function(o){var s=new ao(o);r.ranges.push(s)}),!0):"pointer"==e&&(vi(this.pointer,i),!0)},t.prototype._showElement=function(e,i){$(e,"display",i?null:"none")},t.prototype._updateRange=function(e,i){void 0===i&&(i=e.max),e==this._pointer&&(e.min=null!=this.origin?this.origin:this.min<0&&this.max>0?0:this.min);var r=this._getRangeElement(e);if(r){this._updateRangeElement(r,e,i);var o=e.color;e==this._pointer&&(o=this._animColor?this._animColor:this._getPointerColor(e.max)),$(r,"style",o?"fill:"+o:null)}},t.prototype._getPointerColor=function(e){if(!this._showRanges){for(var i,r=0;r<this._ranges.length;r++){var o=this._ranges[r];if(e>=o.min&&e<=o.max){i=o;break}}if(i)return i.color}return this._pointer.color},t.prototype._keydown=function(e){if(!this._readOnly&&this._step){var i=!0;switch(this._getKey(e.keyCode)){case A.Left:case A.Down:this.value=Ne(this.value-this._step,this.min,this.max);break;case A.Right:case A.Up:this.value=Ne(this.value+this._step,this.min,this.max);break;case A.Home:this.value=this.min;break;case A.End:this.value=this.max;break;default:i=!1}i&&e.preventDefault()}},t.prototype._getKey=function(e){return e},t.prototype._applyMouseValue=function(e,i){if(!this.isReadOnly&&this.containsFocus()){var r=this.hitTest(e);if(null!=r){var o=this._animated,s=this._step;return i&&(this._animated=!1),s&&(r=Math.round(r/s)*s),this.value=Ne(r,this.min,this.max),this._animated=o,!0}}return!1},t.prototype._updateRangeElement=function(e,i,r){ge(!1,"Gauge is an abstract class.")},t.prototype._updateText=function(){ge(!1,"Gauge is an abstract class.")},t.prototype._updateTicks=function(){ge(!1,"Gauge is an abstract class.")},t.prototype._getValueFromPoint=function(e){return null},t.prototype._fix=function(e){return J(e)?parseFloat(e.toFixed(4)).toString():this._fix(e.x)+" "+this._fix(e.y)},t.prototype._updateAria=function(){var e=this.hostElement;e&&($(e,"aria-valuemin",this.min),$(e,"aria-valuemax",this.max),$(e,"aria-valuenow",this.value))},t._SVGNS="http://www.w3.org/2000/svg",t._ctr=0,t.controlTemplate='<div wj-part="dsvg" dir="ltr"><svg wj-part="svg" width="100%" height="100%"><defs><filter wj-part="filter"><feOffset dx="3" dy="3"></feOffset><feGaussianBlur result="offset-blur" stdDeviation="5"></feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse"></feComposite><feFlood flood-color="black" flood-opacity="0.2" result="color"></feFlood><feComposite operator="in" in="color" in2="inverse" result="shadow"></feComposite><feComposite operator="over" in="shadow" in2="SourceGraphic"></feComposite></filter></defs><g wj-part="gface" class="wj-face"><path wj-part="pface"/></g><g wj-part="granges" class="wj-ranges"/><g wj-part="gpointer" class="wj-pointer"><path wj-part="ppointer"/></g><g wj-part="gcover" class="wj-cover"><path wj-part="pticks" class="wj-ticks"/><g wj-part="gticks" aria-hidden="true" class="wj-tick-text"/><circle wj-part="cvalue" class="wj-pointer wj-thumb"/><g wj-part="gneedle" class="wj-needle"/><text wj-part="value" class="wj-value"/><text wj-part="min" class="wj-min" aria-hidden="true"/><text wj-part="max" class="wj-max" aria-hidden="true"/></g></svg></div>',t}(z);!function(n){n[n.None=0]="None",n[n.Triangle=1]="Triangle",n[n.Diamond=2]="Diamond",n[n.Hexagon=3]="Hexagon",n[n.Rectangle=4]="Rectangle",n[n.Arrow=5]="Arrow",n[n.WideArrow=6]="WideArrow",n[n.Pointer=7]="Pointer",n[n.WidePointer=8]="WidePointer",n[n.Outer=9]="Outer"}(nr||(nr={})),function(n){n[n.Outer=0]="Outer",n[n.Middle=1]="Middle",n[n.Inner=2]="Inner"}(ga||(ga={}));var it,_P=function(n){function t(e,i){var r=n.call(this,e,null)||this;return r._startAngle=0,r._sweepAngle=180,r._autoScale=!0,r._ndlShape=nr.None,r._ndlLength=ga.Middle,Me(r.hostElement,"wj-radialgauge"),r._thickness=.4,r.showText=Fi.All,r.initialize(i),r}return Vf(t,n),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){e!=this._startAngle&&(this._startAngle=Ne(F(e,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sweepAngle",{get:function(){return this._sweepAngle},set:function(e){e!=this._sweepAngle&&(this._sweepAngle=Ne(F(e,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScale",{get:function(){return this._autoScale},set:function(e){e!=this._autoScale&&(this._autoScale=N(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"faceBounds",{get:function(){return this._rcSvg?this._rcSvg.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){Dc("clientSize","faceBounds");var e=this._rcSvg;return e?new Ke(e.width,e.height):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needleElement",{get:function(){return this._ndlElement},set:function(e){if(e!=this._ndlElement){this._ndlShape=0,this._ndlElement=Pe(e,SVGElement,!0);for(var i=this._gNeedle;i.firstChild;)Dt(i.firstChild);this._ndlElement&&($(i,"transform","scale(0)"),i.appendChild(this._ndlElement)),this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needleShape",{get:function(){return this._ndlShape},set:function(e){if(e!=this._ndlShape){var i=null;switch(e=Ie(e,nr)){case nr.Triangle:i=t.createNeedleElement([{x:-10,y:10},{x:100,y:0}]);break;case nr.Diamond:i=t.createNeedleElement([{x:-20,y:0},{x:0,y:10},{x:100,y:0}]);break;case nr.Hexagon:i=t.createNeedleElement([{x:-15,y:0},{x:-10,y:5},{x:10,y:5},{x:100,y:0}]);break;case nr.Rectangle:i=t.createNeedleElement([{x:-20,y:3},{x:100,y:3}],10);break;case nr.Arrow:i=t.createNeedleElement([{x:-20,y:3},{x:70,y:3},{x:70,y:15},{x:100,y:0}],10);break;case nr.WideArrow:i=t.createNeedleElement([{x:-30,y:5},{x:-40,y:15},{x:-20,y:15},{x:-10,y:5},{x:80,y:5},{x:70,y:15},{x:100,y:0}]);break;case nr.Pointer:i=t.createNeedleElement([{x:0,y:10},{x:100,y:0}],20,10);break;case nr.WidePointer:i=t.createNeedleElement([{x:0,y:20},{x:100,y:0}],20,10);break;case nr.Outer:i=t.createNeedleElement([{x:60,y:20},{x:100,y:0}])}this.needleElement=i,this._ndlShape=e,this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needleLength",{get:function(){return this._ndlLength},set:function(e){e!=this._ndlLength&&(this._ndlLength=Ie(e,ga),this.invalidate())},enumerable:!0,configurable:!0}),t.createNeedleElement=function(e,i,r){for(var o="",s=0;s<e.length;s++){var a=e[s];if(s==e.length-1&&0==a.y)break;o+=(s>0?" L ":"M ")+a.x+" "+a.y}for(s=e.length-1;s>=0;s--)o+=" L "+(a=e[s]).x+" "+-a.y;o+=" Z";var l="http://www.w3.org/2000/svg",u=document.createElementNS(l,"g"),c=document.createElementNS(l,"path");if($(c,"d",o),u.appendChild(c),i){var h=document.createElementNS(l,"circle");Me(h,"wj-needle-cap"),$(h,"r",i),u.appendChild(h),r&&(Me(h=document.createElementNS(l,"circle"),"wj-inner-needle-cap"),$(h,"r",r),u.appendChild(h))}return u},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),$(this._svg,"viewBox",null),this._rcSvg=K.fromBoundingRect(this._dSvg.getBoundingClientRect()),n.prototype.refresh.call(this,e),this._ctmInv=null,this._ptSvg=null,this._autoScale){$(this._svg,"viewBox",null);var i=K.fromBoundingRect(os._getBBox(this._pFace));this.showText&Fi.Value&&(i=K.union(i,K.fromBoundingRect(os._getBBox(this._tValue)))),this.showText&Fi.MinMax&&(i=K.union(i,K.fromBoundingRect(os._getBBox(this._tMin))),i=K.union(i,K.fromBoundingRect(os._getBBox(this._tMax))));var r=[this._fix(i.left),this._fix(i.top),this._fix(i.width),this._fix(i.height)].join(" ");$(this._svg,"viewBox",r);var o=this._pFace.getCTM();this._ctmInv=o?o.inverse():null,this._ptSvg=this._svg.createSVGPoint()}},t.prototype._updateRangeElement=function(e,i,r){if(this._rcSvg){var o=this._rcSvg,s=new T(o.width/2,o.height/2),a=Math.min(o.width,o.height)/2,l=a*this.thickness,u=l*i.thickness,c=a-(l-u)/2,h=c-u,d=this._getStartAngle(),f=this._getSweepAngle(),p=i==this._face,g=p?0:this._getPercent(i.min),m=d+f*g,_=f*((p?1:this._getPercent(r))-g);if(this.stackRanges&&i!=this.face&&i!=this.pointer){var v=this.ranges.indexOf(i);if(v>-1){var y=this.ranges.length,w=(c-h)/y;c=(h+=(y-1-v)*w)+w}}if(this._updateSegment(e,s,c,h,m,_),i==this._pointer){var b=this._fix;if(this.thumbSize>0){var C=this._animColor?this._animColor:this._getPointerColor(i.max),I=this._getPoint(s,d+f*this._getPercent(r),(c+h)/2),M=this._cValue;$(M,"cx",b(I.x)),$(M,"cy",b(I.y)),$(M,"style",C?"fill:"+C:null),$(M,"r",b(this.thumbSize/2))}if(this.needleElement){var S=c;this._ndlLength==ga.Inner?S=h:this._ndlLength==ga.Middle&&(S=(h+c)/2);var R="translate({cx}, {cy}) scale({scale}) rotate({angle})".replace("{cx}",b(s.x)).replace("{cy}",b(s.y)).replace("{scale}",b(S/100)).replace("{angle}",b(m+_));this._gNeedle.setAttribute("transform",R)}}}},t.prototype._getStartAngle=function(){var e=this.startAngle+180;return this.rightToLeft&&(e=180-e),e},t.prototype._getSweepAngle=function(){var e=this.sweepAngle;return this.rightToLeft&&(e=-e),e},t.prototype._updateText=function(){if(this._rcSvg){var e=this._rcSvg,i=new T(e.width/2,e.height/2),r=Math.min(e.width,e.height)/2,o=Math.max(0,r*(1-this.thickness)),s=this._getStartAngle(),a=this._getSweepAngle();this._showElement(this._cValue,this.thumbSize>0);var l=0!=(this.showText&Fi.MinMax)&&Math.abs(a)<=300;this._showElement(this._tMin,l),this._showElement(this._tMax,l),this._centerText(this._tValue,this.value,i);var u=10*(this._getSweepAngle()<0?-1:1);this._centerText(this._tMin,this.min,this._getPoint(i,s-u,(r+o)/2)),this._centerText(this._tMax,this.max,this._getPoint(i,s+a+u,(r+o)/2))}},t.prototype._updateTicks=function(){for(var e=this.tickSpacing&&this.tickSpacing>0?this.tickSpacing:this.step,i="",r=this._gTicks;r.firstChild;)Dt(r.firstChild);if(this.showTicks&&e>0)for(var o=this._rcSvg,s=new T(o.width/2,o.height/2),a=Math.min(o.width,o.height)/2,l=a*this.thickness,u=l*this._face.thickness,c=a-(l-u)/2,h=c-u,d=1.15*c,f=this._getStartAngle(),p=this._getSweepAngle(),g=this.min;g<=this.max;g+=e){var m=f+p*this._getPercent(g),_=this._fix(this._getPoint(s,m,h)),v=this._fix(this._getPoint(s,m,c));if(g>this.min&&g<this.max&&(i+="M "+_+" L "+v+" "),this.showTickText){var y=this._createElement("text",r),w=this._getPoint(s,m,d);this._centerText(y,g,w)}}this._pTicks.setAttribute("d",i)},t.prototype._updateSegment=function(e,i,r,o,s,a){a=Math.min(Math.max(a,-359.99),359.99);var l=this._getPoint(i,s,o),u=this._getPoint(i,s,r),c=this._getPoint(i,s+a,r),h=this._getPoint(i,s+a,o),f=pr("M {p1} L {p2} A {or} {or} 0 {large} {cw} {p3} L {p4} A {ir} {ir} 0 {large} {ccw} {p1} Z",{large:Math.abs(a)>180?1:0,cw:a>0?1:0,ccw:a>0?0:1,or:this._fix(r),ir:this._fix(o),p1:this._fix(l),p2:this._fix(u),p3:this._fix(c),p4:this._fix(h)});e.setAttribute("d",f)},t.prototype._getPoint=function(e,i,r){return i=i*Math.PI/180,new T(e.x+r*Math.cos(i),e.y+r*Math.sin(i))},t.prototype._getValueFromPoint=function(e){if(this.autoScale&&this._ctmInv&&(this._ptSvg.x=e.x,this._ptSvg.y=e.y,this._ptSvg=this._ptSvg.matrixTransform(this._ctmInv),e.x=this._ptSvg.x,e.y=this._ptSvg.y),!this._rcSvg||!this.sweepAngle)return null;var i=this._rcSvg,r=new T(i.width/2,i.height/2),o=Math.min(i.width,i.height)/2,s=e.x-r.x,a=e.y-r.y,l=a*a+s*s;if(l<400||l>(o+20)*(o+20))return null;var u=180*(Math.PI-Math.atan2(-a,s))/Math.PI,c=this.startAngle,h=this.sweepAngle,d=c+h;if(this.rightToLeft&&(u=180-u),h>0){for(;u<c;)u+=360;for(;u>d;)u-=360}else{for(;u<d;)u+=360;for(;u>c;)u-=360}if((u-c)*(u-d)>0){var f=this._getPoint(r,u,o),p=this._getPoint(r,c,o),g=this._getPoint(r,d,o);u=this._getDist2(f,p)<this._getDist2(f,g)?c:d}var m=h?Ne(Math.abs(u-c)/Math.abs(h),0,1):0;return this.min+m*(this.max-this.min)},t.prototype._getDist2=function(e,i){var r=e.x-i.x,o=e.y-i.y;return r*r+o*o},t}(os);!function(n){n[n.Right=0]="Right",n[n.Left=1]="Left",n[n.Up=2]="Up",n[n.Down=3]="Down"}(it||(it={}));var Dy=function(n){function t(e,i){var r=n.call(this,e,null)||this;return r._direction=it.Right,Me(r.hostElement,"wj-lineargauge"),r.initialize(i),r}return Vf(t,n),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){(e=Ie(e,it))!=this._direction&&(this._direction=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"faceBounds",{get:function(){return this._getRangeRect(this._face)},enumerable:!0,configurable:!0}),t.prototype._updateRangeElement=function(e,i,r){var o=this._getRangeRect(i,r);this._updateSegment(e,o);var s=i==this._pointer&&0!=(this.showText&Fi.Value),a=s||i==this._pointer&&this.thumbSize>0,l=o.left+o.width/2,u=o.top+o.height/2;switch(this._getDirection()){case it.Right:l=o.right;break;case it.Left:l=o.left;break;case it.Up:u=o.top;break;case it.Down:u=o.bottom}if(s&&this._centerText(this._tValue,r,new T(l,u)),s||a){o=K.fromBoundingRect(os._getBBox(this._tValue));var c=this._animColor?this._animColor:this._getPointerColor(i.max),h=null!=this.thumbSize?this.thumbSize/2:.8*Math.max(o.width,o.height),d=this._cValue;$(d,"cx",this._fix(l)),$(d,"cy",this._fix(u)),$(d,"style",c?"fill:"+c:null),$(d,"r",this._fix(h))}},t.prototype._updateText=function(){var e=this._getRangeRect(this._face);switch(this._getDirection()){case it.Right:this._setText(this._tMin,this.min,e,"left"),this._setText(this._tMax,this.max,e,"right");break;case it.Left:this._setText(this._tMin,this.min,e,"right"),this._setText(this._tMax,this.max,e,"left");break;case it.Up:this._setText(this._tMin,this.min,e,"bottom"),this._setText(this._tMax,this.max,e,"top");break;case it.Down:this._setText(this._tMin,this.min,e,"top"),this._setText(this._tMax,this.max,e,"bottom")}},t.prototype._updateTicks=function(){for(var e=this.tickSpacing&&this.tickSpacing>0?this.tickSpacing:this.step,i="",r=this._gTicks;r.firstChild;)Dt(r.firstChild);if(this.showTicks&&e>0)for(var o=this._getRangeRect(this._face),s=new T(o.left-.75*o.width,o.top-.75*o.height),a=void 0,l=this._fix,u=this.min;u<=this.max;u+=e){var c=null;switch(this._getDirection()){case it.Right:s.x=o.left+o.width*this._getPercent(u),c="M "+(a=l(s.x))+" "+l(o.top)+" L "+a+" "+l(o.bottom)+" ";break;case it.Left:s.x=o.right-o.width*this._getPercent(u),c="M "+(a=l(s.x))+" "+l(o.top)+" L "+a+" "+l(o.bottom)+" ";break;case it.Up:s.y=o.bottom-o.height*this._getPercent(u),a=l(s.y),c="M "+l(o.left)+" "+a+" L "+l(o.right)+" "+a+" ";break;case it.Down:s.y=o.top+o.height*this._getPercent(u),a=l(s.y),c="M "+l(o.left)+" "+a+" L "+l(o.right)+" "+a+" "}if(u>this.min&&u<this.max&&(i+=c),this.showTickText){var h=this._createElement("text",r);this._centerText(h,u,s)}}this._pTicks.setAttribute("d",i)},t.prototype._updateSegment=function(e,i){var o=pr("M {p1} L {p2} L {p3} L {p4} Z",{p1:this._fix(new T(i.left,i.top)),p2:this._fix(new T(i.right,i.top)),p3:this._fix(new T(i.right,i.bottom)),p4:this._fix(new T(i.left,i.bottom))});e.setAttribute("d",o)},t.prototype._setText=function(e,i,r,o){if("none"!=e.getAttribute("display")){var s=Se.format(i,this.format);if(Ge(this.getText)){var a=e==this._tValue?"value":e==this._tMin?"min":e==this._tMax?"max":null;ge(null!=a,"unknown element"),s=this.getText(this,a,i,s)}e.textContent=s;var l=K.fromBoundingRect(os._getBBox(e)),u=new T(r.left+r.width/2-l.width/2,r.top+r.height/2+l.height/2);switch(o){case"top":u.y=r.top-4;break;case"left":u.x=r.left-4-l.width;break;case"right":u.x=r.right+4;break;case"bottom":u.y=r.bottom+4+l.height}e.setAttribute("x",this._fix(u.x)),e.setAttribute("y",this._fix(u.y))}},t.prototype._getRangeRect=function(e,i){void 0===i&&(i=e.max);var r=this.hostElement,o=new K(0,0,r.clientWidth,r.clientHeight),s=this._getDirection(),a=this.thumbSize?Math.ceil(this.thumbSize/2):0;if(this.showText!=Fi.None){var l=parseInt(getComputedStyle(r).fontSize);isNaN(l)||(a=Math.max(a,3*l))}switch(s){case it.Right:case it.Left:o=o.inflate(-a,-o.height*(1-this.thickness*e.thickness)/2);break;case it.Up:case it.Down:o=o.inflate(-o.width*(1-this.thickness*e.thickness)/2,-a)}if(this.stackRanges&&e!=this.face&&e!=this.pointer){var u=this.ranges.indexOf(e);if(u>-1){var c=this.ranges.length;switch(s){case it.Right:case it.Left:o.height/=c,o.top+=u*o.height;break;case it.Up:case it.Down:o.width/=c,o.left+=u*o.width}}}var h=e==this._face,d=h?0:this._getPercent(e.min),f=h?1:this._getPercent(i);switch(s){case it.Right:o.left+=o.width*d,o.width*=f-d;break;case it.Left:o.left=o.right-o.width*f,o.width=o.width*(f-d);break;case it.Down:o.top+=o.height*d,o.height*=f-d;break;case it.Up:o.top=o.bottom-o.height*f,o.height=o.height*(f-d)}return o},t.prototype._getValueFromPoint=function(e){var i=this._getRangeRect(this._face),r=0;switch(this._getDirection()){case it.Right:r=i.width>0?(e.x-i.left)/i.width:0;break;case it.Left:r=i.width>0?(i.right-e.x)/i.width:0;break;case it.Up:r=i.height>0?(i.bottom-e.y)/i.height:0;break;case it.Down:r=i.height>0?(e.y-i.top)/i.height:0}return this.min+r*(this.max-this.min)},t.prototype._getDirection=function(){var e=this._direction;if(this.rightToLeft)switch(e){case it.Left:e=it.Right;break;case it.Right:e=it.Left}return e},t.prototype._getKey=function(e){switch(this._getDirection()){case it.Left:switch(e){case A.Left:e=A.Right;break;case A.Right:e=A.Left}break;case it.Down:switch(e){case A.Up:e=A.Down;break;case A.Down:e=A.Up}}return e},t}(os),vP=function(n){function t(e,i){var r=n.call(this,e,null)||this;return Me(r.hostElement,"wj-bulletgraph"),r._pointer.thickness=.35,r._rngTarget=new ao("target"),r._rngTarget.thickness=.8,r._rngTarget.color="black",r._rngGood=new ao("good"),r._rngGood.color="rgba(0,0,0,.15)",r._rngBad=new ao("bad"),r._rngBad.color="rgba(0,0,0,.3)",r.ranges.push(r._rngBad),r.ranges.push(r._rngGood),r.ranges.push(r._rngTarget),r.initialize(i),r}return Vf(t,n),Object.defineProperty(t.prototype,"target",{get:function(){return this._rngTarget.max},set:function(e){this._rngTarget.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"good",{get:function(){return this._rngGood.max},set:function(e){this._rngGood.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bad",{get:function(){return this._rngBad.max},set:function(e){this._rngBad.max=e},enumerable:!0,configurable:!0}),t.prototype._getRangeRect=function(e,i){void 0===i&&(i=e.max);var r=n.prototype._getRangeRect.call(this,e,i);if(e==this._rngTarget)switch(this._getDirection()){case it.Right:r.left=r.right-1,r.width=3;break;case it.Left:r.width=3;break;case it.Up:r.height=3;break;case it.Down:r.top=r.bottom-1,r.height=3}return r},t}(Dy);Ms("wijmo.gauge",Zf);var Sy=["*"],Hf=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bf=function(n,t,e,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Un=function(n,t){return function(e,i){t(e,i,n)}},yP={selector:"wj-linear-gauge",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","value","min","max","origin","isReadOnly","handleWheel","step","format","thickness","hasShadow","isAnimated","showText","showTicks","showTickText","showRanges","stackRanges","thumbSize","tickSpacing","getText","direction"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]},wP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Hf(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:yP.outputs,changeEvents:{valueChanged:["value"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-linear-gauge"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",value:"value",min:"min",max:"max",origin:"origin",isReadOnly:"isReadOnly",handleWheel:"handleWheel",step:"step",format:"format",thickness:"thickness",hasShadow:"hasShadow",isAnimated:"isAnimated",showText:"showText",showTicks:"showTicks",showTickText:"showTickText",showRanges:"showRanges",stackRanges:"stackRanges",thumbSize:"thumbSize",tickSpacing:"tickSpacing",getText:"getText",direction:"direction"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(yP.providers))],ngContentSelectors:Sy,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Bf([,Un(0,O(W)),Un(1,O(q)),Un(2,O("WjComponent")),Un(2,Le()),Un(2,Ee())],t)}(Dy),{selector:"wj-bullet-graph",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","value","min","max","origin","isReadOnly","handleWheel","step","format","thickness","hasShadow","isAnimated","showText","showTicks","showTickText","showRanges","stackRanges","thumbSize","tickSpacing","getText","direction","target","good","bad"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),bP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Hf(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:wP.outputs,changeEvents:{valueChanged:["value"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-bullet-graph"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",value:"value",min:"min",max:"max",origin:"origin",isReadOnly:"isReadOnly",handleWheel:"handleWheel",step:"step",format:"format",thickness:"thickness",hasShadow:"hasShadow",isAnimated:"isAnimated",showText:"showText",showTicks:"showTicks",showTickText:"showTickText",showRanges:"showRanges",stackRanges:"stackRanges",thumbSize:"thumbSize",tickSpacing:"tickSpacing",getText:"getText",direction:"direction",target:"target",good:"good",bad:"bad"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(wP.providers))],ngContentSelectors:Sy,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Bf([,Un(0,O(W)),Un(1,O(q)),Un(2,O("WjComponent")),Un(2,Le()),Un(2,Ee())],t)}(vP),{selector:"wj-radial-gauge",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","value","min","max","origin","isReadOnly","handleWheel","step","format","thickness","hasShadow","isAnimated","showText","showTicks","showTickText","showRanges","stackRanges","thumbSize","tickSpacing","getText","autoScale","startAngle","sweepAngle","needleShape","needleLength","needleElement"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),CP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Hf(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:bP.outputs,changeEvents:{valueChanged:["value"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-radial-gauge"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",value:"value",min:"min",max:"max",origin:"origin",isReadOnly:"isReadOnly",handleWheel:"handleWheel",step:"step",format:"format",thickness:"thickness",hasShadow:"hasShadow",isAnimated:"isAnimated",showText:"showText",showTicks:"showTicks",showTickText:"showTickText",showRanges:"showRanges",stackRanges:"stackRanges",thumbSize:"thumbSize",tickSpacing:"tickSpacing",getText:"getText",autoScale:"autoScale",startAngle:"startAngle",sweepAngle:"sweepAngle",needleShape:"needleShape",needleLength:"needleLength",needleElement:"needleElement"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(bP.providers))],ngContentSelectors:Sy,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=Bf([,Un(0,O(W)),Un(1,O(q)),Un(2,O("WjComponent")),Un(2,Le()),Un(2,Ee())],t)}(_P),{selector:"wj-range",template:"",inputs:["wjProperty","color","min","max","name","thickness"],outputs:["initialized"],providers:[]}),u4=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="ranges",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;Hf(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:CP.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-range"]],inputs:{wjProperty:"wjProperty",color:"color",min:"min",max:"max",name:"name",thickness:"thickness"},outputs:{initialized:"initialized"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(CP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=Bf([,Un(0,O(W)),Un(1,O(q)),Un(2,O("WjComponent")),Un(2,Le()),Un(2,Ee())],t)}(ao),function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Hi({type:n}),n.\u0275inj=Di({imports:[ea]}),n}()),Kl=["*"];function c4(n,t){1&n&&(ue(0,"div"),zn(1),le())}function h4(n,t){1&n&&lt(0,"div",1)}var $n=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mn=function(n,t,e,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},V=function(n,t){return function(e,i){t(e,i,n)}},xP={selector:"wj-list-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isContentHtml","maxHeight","selectedValuePath","itemFormatter","displayMemberPath","checkedMemberPath","caseSensitiveSearch","itemsSource","virtualizationThreshold","showGroups","selectedIndex","selectedItem","selectedValue","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","formatItemNg: formatItem","itemsChangedNg: itemsChanged","itemCheckedNg: itemChecked","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]},DP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="selectedValue",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:xP.outputs,changeEvents:{selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-list-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isContentHtml:"isContentHtml",maxHeight:"maxHeight",selectedValuePath:"selectedValuePath",itemFormatter:"itemFormatter",displayMemberPath:"displayMemberPath",checkedMemberPath:"checkedMemberPath",caseSensitiveSearch:"caseSensitiveSearch",itemsSource:"itemsSource",virtualizationThreshold:"virtualizationThreshold",showGroups:"showGroups",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",checkedItems:"checkedItems"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",formatItemNg:"formatItem",itemsChangedNg:"itemsChanged",itemCheckedNg:"itemChecked",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(xP.providers))],ngContentSelectors:Kl,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(js),{selector:"wj-multi-select-list-box",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","itemsSource","displayMemberPath","selectedIndex","isContentHtml","showGroups","checkOnFilter","showFilterInput","filterInputPlaceholder","showSelectAllCheckbox","selectAllLabel","delay","caseSensitiveSearch","checkedMemberPath","virtualizationThreshold","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),SP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="checkedItems",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:DP.outputs,changeEvents:{checkedItemsChanged:["checkedItems"],selectedIndexChanged:["selectedIndex"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-multi-select-list-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",itemsSource:"itemsSource",displayMemberPath:"displayMemberPath",selectedIndex:"selectedIndex",isContentHtml:"isContentHtml",showGroups:"showGroups",checkOnFilter:"checkOnFilter",showFilterInput:"showFilterInput",filterInputPlaceholder:"filterInputPlaceholder",showSelectAllCheckbox:"showSelectAllCheckbox",selectAllLabel:"selectAllLabel",delay:"delay",caseSensitiveSearch:"caseSensitiveSearch",checkedMemberPath:"checkedMemberPath",virtualizationThreshold:"virtualizationThreshold",checkedItems:"checkedItems"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(DP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(cy),{selector:"wj-combo-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),EP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="selectedValue",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:SP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-combo-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(SP.providers))],ngContentSelectors:Kl,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(Ul),{selector:"wj-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","beginsWithSearch","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),IP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="selectedValue",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:EP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-auto-complete"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",delay:"delay",maxItems:"maxItems",minLength:"minLength",cssMatch:"cssMatch",itemsSourceFunction:"itemsSourceFunction",searchMemberPath:"searchMemberPath",beginsWithSearch:"beginsWithSearch",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(EP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(py),{selector:"wj-calendar",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","monthView","showHeader","itemFormatter","itemValidator","firstDayOfWeek","max","min","formatYearMonth","formatDayHeaders","formatDays","formatYear","formatMonths","selectionMode","isReadOnly","handleWheel","repeatButtons","showYearPicker","value","displayMonth","monthCount","showMonthPicker","weeksBefore","weeksAfter","rangeEnd","rangeMin","rangeMax"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange","rangeEndChangedNg: rangeEndChanged","rangeEndChangePC: rangeEndChange","rangeChangedNg: rangeChanged","displayMonthChangedNg: displayMonthChanged","displayMonthChangePC: displayMonthChange","formatItemNg: formatItem"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),MP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:IP.outputs,changeEvents:{valueChanged:["value"],rangeEndChanged:["rangeEnd"],displayMonthChanged:["displayMonth"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-calendar"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",monthView:"monthView",showHeader:"showHeader",itemFormatter:"itemFormatter",itemValidator:"itemValidator",firstDayOfWeek:"firstDayOfWeek",max:"max",min:"min",formatYearMonth:"formatYearMonth",formatDayHeaders:"formatDayHeaders",formatDays:"formatDays",formatYear:"formatYear",formatMonths:"formatMonths",selectionMode:"selectionMode",isReadOnly:"isReadOnly",handleWheel:"handleWheel",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",value:"value",displayMonth:"displayMonth",monthCount:"monthCount",showMonthPicker:"showMonthPicker",weeksBefore:"weeksBefore",weeksAfter:"weeksAfter",rangeEnd:"rangeEnd",rangeMin:"rangeMin",rangeMax:"rangeMax"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange",rangeEndChangedNg:"rangeEndChanged",rangeEndChangePC:"rangeEndChange",rangeChangedNg:"rangeChanged",displayMonthChangedNg:"displayMonthChanged",displayMonthChangePC:"displayMonthChange",formatItemNg:"formatItem"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(IP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(hy),{selector:"wj-color-picker",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","showAlphaChannel","showColorString","palette","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),TP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:MP.outputs,changeEvents:{valueChanged:["value"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-color-picker"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",showAlphaChannel:"showAlphaChannel",showColorString:"showColorString",palette:"palette",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(MP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(ay),{selector:"wj-input-mask",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","mask","overwriteMode","isRequired","isReadOnly","promptChar","placeholder","inputType","rawValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","rawValueChangePC: rawValueChange","valueChangePC: valueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),PP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:TP.outputs,changeEvents:{valueChanged:["rawValue","value"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-input-mask"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",mask:"mask",overwriteMode:"overwriteMode",isRequired:"isRequired",isReadOnly:"isReadOnly",promptChar:"promptChar",placeholder:"placeholder",inputType:"inputType",rawValue:"rawValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",rawValueChangePC:"rawValueChange",valueChangePC:"valueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(TP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(HT),{selector:"wj-input-color",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","showAlphaChannel","showColorString","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),AP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:PP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-input-color"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",showAlphaChannel:"showAlphaChannel",showColorString:"showColorString",value:"value",text:"text"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(PP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(WT),{selector:"wj-multi-select",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","checkedMemberPath","maxHeaderItems","headerFormat","headerFormatter","showSelectAllCheckbox","selectAllLabel","showFilterInput","filterInputPlaceholder","checkOnFilter","delay","caseSensitiveSearch","itemsSource","checkedItems","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),RP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="checkedItems",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:AP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-multi-select"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",checkedMemberPath:"checkedMemberPath",maxHeaderItems:"maxHeaderItems",headerFormat:"headerFormat",headerFormatter:"headerFormatter",showSelectAllCheckbox:"showSelectAllCheckbox",selectAllLabel:"selectAllLabel",showFilterInput:"showFilterInput",filterInputPlaceholder:"filterInputPlaceholder",checkOnFilter:"checkOnFilter",delay:"delay",itemsSource:"itemsSource",checkedItems:"checkedItems",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(AP.providers))],ngContentSelectors:Kl,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(Pf),{selector:"wj-multi-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","beginsWithSearch","maxSelectedItems","selectedItems","itemsSource","selectedMemberPath","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","selectedItemsChangedNg: selectedItemsChanged","selectedItemsChangePC: selectedItemsChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),OP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="selectedItems",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:RP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],selectedItemsChanged:["selectedItems"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-multi-auto-complete"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",delay:"delay",maxItems:"maxItems",minLength:"minLength",cssMatch:"cssMatch",itemsSourceFunction:"itemsSourceFunction",searchMemberPath:"searchMemberPath",beginsWithSearch:"beginsWithSearch",maxSelectedItems:"maxSelectedItems",selectedItems:"selectedItems",itemsSource:"itemsSource",selectedMemberPath:"selectedMemberPath",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",selectedItemsChangedNg:"selectedItemsChanged",selectedItemsChangePC:"selectedItemsChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(RP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}($T),{selector:"wj-input-number",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","showSpinner","repeatButtons","max","min","step","isRequired","placeholder","inputType","format","isReadOnly","handleWheel","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange","textChangedNg: textChanged","textChangePC: textChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),NP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:OP.outputs,changeEvents:{valueChanged:["value"],textChanged:["text"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-input-number"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",showSpinner:"showSpinner",repeatButtons:"repeatButtons",max:"max",min:"min",step:"step",isRequired:"isRequired",placeholder:"placeholder",inputType:"inputType",format:"format",isReadOnly:"isReadOnly",handleWheel:"handleWheel",value:"value",text:"text"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange",textChangedNg:"textChanged",textChangePC:"textChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(OP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(VT),{selector:"wj-input-date",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","monthCount","handleWheel","showMonthPicker","showHeader","weeksBefore","weeksAfter","rangeMin","rangeMax","separator","alwaysShowCalendar","predefinedRanges","closeOnSelection","text","value","rangeEnd"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange","rangeEndChangedNg: rangeEndChanged","rangeEndChangePC: rangeEndChange","rangeChangedNg: rangeChanged"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),jP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:NP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"],rangeEndChanged:["rangeEnd"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-input-date"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",selectionMode:"selectionMode",format:"format",mask:"mask",max:"max",min:"min",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",itemValidator:"itemValidator",itemFormatter:"itemFormatter",monthCount:"monthCount",handleWheel:"handleWheel",showMonthPicker:"showMonthPicker",showHeader:"showHeader",weeksBefore:"weeksBefore",weeksAfter:"weeksAfter",rangeMin:"rangeMin",rangeMax:"rangeMax",separator:"separator",alwaysShowCalendar:"alwaysShowCalendar",predefinedRanges:"predefinedRanges",closeOnSelection:"closeOnSelection",text:"text",value:"value",rangeEnd:"rangeEnd"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange",rangeEndChangedNg:"rangeEndChanged",rangeEndChangePC:"rangeEndChange",rangeChangedNg:"rangeChanged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(NP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(Tf),{selector:"wj-input-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","max","min","step","format","mask","inputType","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),kP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:jP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],valueChanged:["value"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-input-time"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",max:"max",min:"min",step:"step",format:"format",mask:"mask",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(jP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(fy),{selector:"wj-input-date-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","monthCount","handleWheel","showMonthPicker","showHeader","weeksBefore","weeksAfter","rangeMin","rangeMax","separator","alwaysShowCalendar","predefinedRanges","closeOnSelection","timeMax","timeMin","timeStep","timeFormat","text","value","rangeEnd"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange","rangeEndChangedNg: rangeEndChanged","rangeEndChangePC: rangeEndChange","rangeChangedNg: rangeChanged"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),FP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:kP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"],rangeEndChanged:["rangeEnd"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-input-date-time"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",selectionMode:"selectionMode",format:"format",mask:"mask",max:"max",min:"min",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",itemValidator:"itemValidator",itemFormatter:"itemFormatter",monthCount:"monthCount",handleWheel:"handleWheel",showMonthPicker:"showMonthPicker",showHeader:"showHeader",weeksBefore:"weeksBefore",weeksAfter:"weeksAfter",rangeMin:"rangeMin",rangeMax:"rangeMax",separator:"separator",alwaysShowCalendar:"alwaysShowCalendar",predefinedRanges:"predefinedRanges",closeOnSelection:"closeOnSelection",timeMax:"timeMax",timeMin:"timeMin",timeStep:"timeStep",timeFormat:"timeFormat",text:"text",value:"value",rangeEnd:"rangeEnd"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange",rangeEndChangedNg:"rangeEndChanged",rangeEndChangePC:"rangeEndChange",rangeChangedNg:"rangeChanged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(kP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(UT),{selector:"wj-input-date-range",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","monthCount","handleWheel","showMonthPicker","showHeader","weeksBefore","weeksAfter","rangeMin","rangeMax","separator","alwaysShowCalendar","predefinedRanges","closeOnSelection","text","value","rangeEnd"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange","rangeEndChangedNg: rangeEndChanged","rangeEndChangePC: rangeEndChange","rangeChangedNg: rangeChanged"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),LP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="value",s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:FP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"],rangeEndChanged:["rangeEnd"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-input-date-range"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",selectionMode:"selectionMode",format:"format",mask:"mask",max:"max",min:"min",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",itemValidator:"itemValidator",itemFormatter:"itemFormatter",monthCount:"monthCount",handleWheel:"handleWheel",showMonthPicker:"showMonthPicker",showHeader:"showHeader",weeksBefore:"weeksBefore",weeksAfter:"weeksAfter",rangeMin:"rangeMin",rangeMax:"rangeMax",separator:"separator",alwaysShowCalendar:"alwaysShowCalendar",predefinedRanges:"predefinedRanges",closeOnSelection:"closeOnSelection",text:"text",value:"value",rangeEnd:"rangeEnd"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange",rangeEndChangedNg:"rangeEndChanged",rangeEndChangePC:"rangeEndChange",rangeChangedNg:"rangeChanged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(FP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(zT),{selector:"wj-menu",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","header","commandParameterPath","commandPath","subItemsPath","openOnHover","closeOnLeave","isButton","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","itemClickedNg: itemClicked","valueChangePC: valueChange"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),VP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s.wjModelProperty="selectedValue",s._wjBehaviour=Y.attach(s,i,r,o),s.itemsSource=new ei,s.selectedIndex=0,s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl(),this._updateHeader()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy(),this.listBox.formatItem.removeHandler(this._fmtItem,this),this.listBox.loadingItems.removeHandler(this._loadingItems,this)},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(i){this._value=i,null!=i&&(this.selectedValue=i,this._updateHeader())},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(i){var r=i.header;r&&(this._definedHeader=r.currentValue,this._updateHeader())},t.prototype.ngAfterContentInit=function(){this.value=this.value},t.prototype.onItemClicked=function(i){this.value=this.selectedValue,n.prototype.onItemClicked.call(this,i)},t.prototype.refresh=function(i){void 0===i&&(i=!0),n.prototype.refresh.call(this,i),this._updateHeader()},t.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.invalidate()},t.prototype._loadingItems=function(i){for(var r=i.hostElement.getElementsByClassName("wj-listbox-item"),o=r.length-1;o>=0;o--)r[o].textContent=""},t.prototype._fmtItem=function(i,r){if(r.data instanceof Zl){var o=r.item;o.textContent="";var s=r.data,a=s.contentRoot;a&&(o.appendChild(a),s.added(o))}},t.prototype._updateHeader=function(){this.header=this._definedHeader||"";var i=this.selectedItem;if(null!=this.value&&i&&this.displayMemberPath){var r=null;if(i instanceof Zl){var o=i.contentRoot;r=o?o.innerHTML:i[this.displayMemberPath]}null!=r&&(this.header+=": <b>"+r+"</b>")}},t.meta={outputs:LP.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],itemClicked:["value"]}},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-menu"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",header:"header",commandParameterPath:"commandParameterPath",commandPath:"commandPath",subItemsPath:"subItemsPath",openOnHover:"openOnHover",closeOnLeave:"closeOnLeave",isButton:"isButton",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",itemClickedNg:"itemClicked",valueChangePC:"valueChange"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(LP.providers)),oi],ngContentSelectors:Kl,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(GT),{selector:"wj-menu-item",template:"<div *wjMenuItemTemplateDir><ng-content></ng-content></div>",inputs:["wjProperty","value","cmd","cmdParam"],outputs:["initialized"],providers:[]}),Zl=function(){function n(e,i,r,o){this.viewContainerRef=o,this.isInitialized=!1,this.wjProperty="itemsSource";var s=this._wjBehaviour=Y.attach(this,e,i,r);this._ownerMenu=s.parentBehavior.directive,this.created()}var t;return t=n,n.prototype.created=function(){},n.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit();var e=this._ownerMenu;1==e.itemsSource.length&&e.selectedIndex<0&&(e.selectedIndex=0),e.displayMemberPath||(e.displayMemberPath="header"),e.selectedValuePath||(e.selectedValuePath="value"),e.commandPath||(e.commandPath="cmd"),e.commandParameterPath||(e.commandParameterPath="cmdParam")},n.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},n.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},n.prototype.added=function(e){},n.meta={outputs:VP.outputs,siblingId:"menuItemDir"},n.\u0275fac=function(i){return new(i||n)(D(W),D(q),D("WjComponent",12),D(vn))},n.\u0275cmp=Oe({type:n,selectors:[["wj-menu-item"]],inputs:{wjProperty:"wjProperty",value:"value",cmd:"cmd",cmdParam:"cmdParam"},outputs:{initialized:"initialized"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return t})}].concat(VP.providers))],ngContentSelectors:Kl,decls:1,vars:0,consts:[[4,"wjMenuItemTemplateDir"]],template:function(i,r){1&i&&(Bn(),hr(0,c4,2,0,"div",0))},dependencies:function(){return[HP]},encapsulation:2}),n=t=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee()),V(3,O(vn))],n)}(),HP=function(){function n(t,e,i,r,o,s){this.viewContainerRef=t,this.templateRef=e,this.elRef=i,this.ownerItem=o||s,this.ownerItem.templateDir=this}return n.prototype.ngAfterContentInit=function(){var t=this;setTimeout(function(){var e=Y.instantiateTemplate(null,t.viewContainerRef,t.templateRef,!0).rootElement;t.contentRoot=e,t.ownerItem.contentRoot=e,t.ownerItem._ownerMenu.listBox.loadList(),t.ownerItem._ownerMenu.invalidate()},0)},n.\u0275fac=function(e){return new(e||n)(D(vn),D(Ri,8),D(W),D(q),D(Zl,8),D(se(function(){return Ey}),8))},n.\u0275dir=Te({type:n,selectors:[["","wjMenuItemTemplateDir",""]],inputs:{wjMenuItemTemplateDir:"wjMenuItemTemplateDir"}}),n=mn([,V(0,O(vn)),V(1,O(Ri)),V(1,Ee()),V(2,O(W)),V(3,O(q)),V(4,O(Zl)),V(4,Ee()),V(5,O(se(function(){return Ey}))),V(5,Ee())],n)}(),M4_providers=[],Ey=function(n){function t(i,r,o,s){var a=n.call(this,i,r,o,s)||this;return a.created(),a}var e;return $n(t,n),e=t,t.prototype.added=function(i){Me(i,"wj-state-disabled")},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12),D(vn))},t.\u0275cmp=Oe({type:t,selectors:[["wj-menu-separator"]],inputs:{wjProperty:"wjProperty"},outputs:{initialized:"initialized"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(M4_providers))],decls:1,vars:0,consts:[["class","wj-state-disabled","style","width:100%;height:1px;background-color:lightgray",4,"wjMenuItemTemplateDir"],[1,"wj-state-disabled",2,"width","100%","height","1px","background-color","lightgray"]],template:function(r,o){1&r&&hr(0,h4,1,0,"div",0)},dependencies:[HP],encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee()),V(3,O(vn))],t)}(Zl),BP={selector:"[wjItemTemplate]",inputs:["wjItemTemplate"],outputs:["initialized"],exportAs:"wjItemTemplate",providers:[]},zP=(function(){function n(e,i,r,o,s,a){this.viewContainerRef=o,this.templateRef=s,this.isInitialized=!1;var l=this._wjBehaviour=Y.attach(this,e,i,r);this.ownerControl=l.parentBehavior.directive,this.listBox=t._getListBox(this.ownerControl),this._cdRef=a,this.created()}var t;t=n,n.prototype.created=function(){},n.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl()},n.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},n.prototype.ngOnDestroy=function(){var e=this.ownerControl,i=this.listBox;i&&(i.formatItem.removeHandler(this._fmtItem,this),i.loadingItems.removeHandler(this._loadingItems,this)),e&&e.invalidate()},n.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.ownerControl.invalidate()},n.prototype._loadingItems=function(e){this.viewContainerRef.clear()},n.prototype._fmtItem=function(e,i){var r=i.item;r.textContent="";var o=this._instantiateTemplate(r);o.context.control=e,o.context.item=i.data,o.context.itemIndex=i.index,i.index===this.listBox.collectionView.items.length-1&&this._cdRef.detectChanges()},n.prototype._instantiateTemplate=function(e){return Y.instantiateTemplate(e,this.viewContainerRef,this.templateRef).viewRef},n._getListBox=function(e){return e?e instanceof js?e:e.listBox:null},n.meta={outputs:BP.outputs,parentRefProperty:"owner"},n.\u0275fac=function(i){return new(i||n)(D(W),D(q),D("WjComponent",12),D(vn),D(Ri,8),D(Mr))},n.\u0275dir=Te({type:n,selectors:[["","wjItemTemplate",""]],inputs:{wjItemTemplate:"wjItemTemplate"},outputs:{initialized:"initialized"},exportAs:["wjItemTemplate"],features:[ce([{provide:"WjComponent",useExisting:se(function(){return t})}].concat(BP.providers))]}),n=t=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee()),V(3,O(vn)),V(4,O(Ri)),V(4,Ee()),V(5,O(Mr))],n)}(),{selector:"wj-popup",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","tabOrder","owner","showTrigger","hideTrigger","fadeIn","fadeOut","isDraggable","isResizable","dialogResultEnter","dialogResultSubmit","modal","removeOnHide"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","showingNg: showing","shownNg: shown","hidingNg: hiding","hiddenNg: hidden","resizingNg: resizing","sizeChangingNg: sizeChanging","sizeChangedNg: sizeChanged","resizedNg: resized","draggingNg: dragging","positionChangingNg: positionChanging","positionChangedNg: positionChanged","draggedNg: dragged"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),WP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.prototype.ngOnChanges=function(i){i.owner&&null==this.modal&&(this.modal=!this.owner)},t.prototype.dispose=function(){this.isVisible&&(this.hiding.removeAllHandlers(),this.fadeOut=!1,this.hide()),n.prototype.dispose.call(this)},t.meta={outputs:zP.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-popup"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",owner:"owner",showTrigger:"showTrigger",hideTrigger:"hideTrigger",fadeIn:"fadeIn",fadeOut:"fadeOut",isDraggable:"isDraggable",isResizable:"isResizable",dialogResultEnter:"dialogResultEnter",dialogResultSubmit:"dialogResultSubmit",modal:"modal",removeOnHide:"removeOnHide"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",showingNg:"showing",shownNg:"shown",hidingNg:"hiding",hiddenNg:"hidden",resizingNg:"resizing",sizeChangingNg:"sizeChanging",sizeChangedNg:"sizeChanged",resizedNg:"resized",draggingNg:"dragging",positionChangingNg:"positionChanging",positionChangedNg:"positionChanged",draggedNg:"dragged"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(zP.providers)),oi],ngContentSelectors:Kl,decls:2,vars:0,template:function(r,o){1&r&&(Bn(),ue(0,"div"),zn(1),le())},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(BT),function(){function n(t){this.elRef=t}n.prototype.onContextMenu=function(t){var e=this.wjContextMenu;e&&e.dropDown&&!be(t.target,"[disabled]")&&(t.preventDefault(),t.stopPropagation(),e.owner=this.elRef.nativeElement,e.show(t))},n.\u0275fac=function(e){return new(e||n)(D(W))},n.\u0275dir=Te({type:n,selectors:[["","wjContextMenu",""]],hostBindings:function(e,i){1&e&&Pi("contextmenu",function(o){return i.onContextMenu(o)})},inputs:{wjContextMenu:"wjContextMenu"},exportAs:["wjContextMenu"]}),n=mn([,V(0,O(W))],n)}(),{selector:"wj-collection-view-navigator",template:"",inputs:["wjModelProperty","isDisabled","tabOrder","cv","byPage","headerFormat","repeatButtons"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),GP=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s._wjBehaviour=Y.attach(s,i,r,o),s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:WP.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-collection-view-navigator"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",cv:"cv",byPage:"byPage",headerFormat:"headerFormat",repeatButtons:"repeatButtons"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(WP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(ly),{selector:"wj-collection-view-pager",template:"",inputs:["wjModelProperty","cv"],outputs:["initialized"],providers:[{provide:mt,useFactory:en,multi:!0,deps:["WjComponent"]}]}),N4=(function(n){function t(i,r,o){var s=n.call(this,Y.getHostElement(i,r))||this;return s.isInitialized=!1,s._wjBehaviour=Y.attach(s,i,r,o),s.byPage=!0,s.created(),s}var e;$n(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Y,u=l.getZone(this);u&&l.outsideZoneEvents[r]?u.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.meta={outputs:GP.outputs},t.\u0275fac=function(r){return new(r||t)(D(W),D(q),D("WjComponent",12))},t.\u0275cmp=Oe({type:t,selectors:[["wj-collection-view-pager"]],inputs:{wjModelProperty:"wjModelProperty",cv:"cv"},outputs:{initialized:"initialized"},features:[ce([{provide:"WjComponent",useExisting:se(function(){return e})}].concat(GP.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=mn([,V(0,O(W)),V(1,O(q)),V(2,O("WjComponent")),V(2,Le()),V(2,Ee())],t)}(ly),function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Hi({type:n}),n.\u0275inj=Di({imports:[ea]}),n}());let j4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Hi({type:n,bootstrap:[r4]});static#n=this.\u0275inj=Di({providers:[Ac],imports:[fW,J3,h5,J8,D8,B8,u4,N4]})}return n})();hW().bootstrapModule(j4).catch(n=>console.error(n))}},$f=>{$f($f.s=781)}]);